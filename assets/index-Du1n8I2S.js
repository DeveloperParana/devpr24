var nd=Object.defineProperty;var id=(r,e,t)=>e in r?nd(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ft=(r,e,t)=>(id(r,typeof e!="symbol"?e+"":e,t),t),os=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var _e=(r,e,t)=>(os(r,e,"read from private field"),t?t.call(r):e.get(r)),nt=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},dt=(r,e,t,n)=>(os(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);var vn=(r,e,t)=>(os(r,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const qs={factory(r){return typeof r=="function"},type(r){return typeof r=="function"&&!!r.prototype},writable(r,e){const t=r[e];try{r[e]=1}catch{return!1}return r[e]=t,!0}};function rd(r){const e=r.toLowerCase().split("-"),t=n=>[n.slice(0,1).toUpperCase(),n.slice(1)];return e.map((n,i)=>i===0?n:t(n)).join("")}function od(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z][a-z])/g,"$1-$2").toLowerCase()}const sd=r=>rd(r.replace("data-","")),ad=(r,e="")=>{const t=(n,[i,o])=>`${n}${od(i)}:${o};`;return Object.entries(r).reduce(t,e)},ld="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot,slot",cd="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",dd="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",ud=r=>ld.includes(r),hd=r=>cd.includes(r),fd=r=>dd.includes(r),pd=(r,e)=>{for(const[t,n]of Object.entries(e??{}))n!==void 0&&(qs.writable(r,t)?typeof n=="function"?t.startsWith("on")?r[t.toLowerCase()]=n:r[t]=n:t.startsWith("data-")?r.dataset[sd(t)]=n:t==="style"?r.setAttribute("style",ad(n)):r instanceof SVGElement?r.setAttribute(t,n):r[t]=n:r.setAttribute(t,n));return r},md=(r,...e)=>{const t=e.flatMap(n=>typeof n=="string"?new Text(n):n);return r.append(...t),r},gd=r=>{if(ud(r))return"http://www.w3.org/1999/xhtml";if(hd(r))return"http://www.w3.org/2000/svg";if(fd(r))return"http://www.w3.org/1998/Math/MathML"},_d=r=>{const e=gd(r);if(!e)throw`Unknown element: ${r}`;return document.createElementNS(e,r)};function l(r,e={},...t){let n;return qs.factory(r)?qs.type(r)?n=new r(e??{}):n=r(e??{}):n=pd(_d(r),e??{}),md(n,...t)}function rr(){return document.createElement("template").content.cloneNode(!0)}const zr=r=>{const e=new Text(String(r));return Reflect.defineProperty(e,"set",{value:function(t){this.nodeValue=t}}),Reflect.defineProperty(e,"get",{value:function(){let t=this.nodeValue??"";return isNaN(+(t??""))?t:+t}}),e},Cd=()=>l("section",{className:"about",id:"comunidade"},l("div",{className:"row"},l("div",{className:"flex col gap-16 col50"},l("h2",{className:"titeText"},"Conheça um pouco ",l("span",null,"nossa comunidade")),l("p",null,"Com mais de 8 anos de história, temos um histórico com mais de 250 eventos organizados e 7 conferências anuais, sempre apoiando e fortalecendo as comunidades e grupos existentes."),l("p",null,"Nossa influência não se limita a fronteiras, alcançando inúmeras cidades e até mesmo países como Paraguai e Chile. Em 2021, estabelecemos uma parceria com a Codaqui, uma comunidade voltada para o público jovem. Em 2023, concluímos nossos primeiros grandes eventos em conjunto."),l("div",{className:"flex row align-center"},l("div",{className:"col min-3"},l("h3",null,"5.3k"),l("em",null,"Membros no meetup.com")),l("div",{className:"col min-3"},l("h3",null,"300"),l("em",null,"Eventos foram organizados")),l("div",{className:"col min-3"},l("h3",null,"1.5k"),l("em",null,"Inscritos no Youtube.com")),l("div",{className:"col min-3"},l("h3",null,"2.5k"),l("em",null,"Seguidores no Instagram"))),l("p",null,"Agora, em 2024, estamos entusiasmados em anunciar que a DevParaná e a Codaqui estão oficialmente unidas sob a mesma associação. Esta união fortalece os interesses da comunidade e nossa missão é o conhecimento acessível, para que você sinta o poder dele na sua vida pessoal e profissional."),l("h3",null,"Junte-se a caminhada!")),l("div",{className:"col50"},l("div",{className:"imgBx"},l("img",{src:"assets/images/sobre-a-comunidade.webp",alt:"Comunidade na DevPR Conf 2023"})))));function Ia(r){const e=r.getTime()-new Date().getTime(),t={day:1e3*60*60*24,hour:1e3*60*60,min:1e3*60,sec:1e3},n=Math.floor(e/t.day),i=Math.floor(e%t.day/t.hour),o=Math.floor(e%t.hour/t.min),s=Math.floor(e%t.min/t.sec);return{distance:e,days:n,hours:i,mins:o,secs:s}}function Na(r,...[e,...t]){const n=document.createElement(r);return e instanceof Element?n.append(e,...t):(n.append(...t),Object.assign(n,e)),n}function di(r,e=document.body){return e.querySelector(r)}function kr(r,e=document.body){return e.querySelectorAll(r)}const Gr=r=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).format(r);function vd(r,e=1e3){const t=window.setInterval(r,e);return{cancel:()=>window.clearInterval(t)}}const Md=r=>{queueMicrotask(r)};function Ni(r,e){return Math.floor(Math.random()*(e-r))+r}var Dr,Ir,Tn,Ho,Vo,Uc,Bo,Fc,zo,Oc;class xd{constructor(e,t){nt(this,Vo);nt(this,Bo);nt(this,zo);nt(this,Dr,void 0);nt(this,Ir,void 0);nt(this,Tn,void 0);nt(this,Ho,e=>{e.forEach(t=>{t.isIntersecting&&vn(this,Vo,Uc).call(this,t.target.id)})});dt(this,Dr,Array.from(e)),dt(this,Ir,Array.from(t))}start(){const e={rootMargin:"0px",threshold:.6},t=new IntersectionObserver(_e(this,Ho),e);_e(this,Dr).forEach(n=>t.observe(n))}}Dr=new WeakMap,Ir=new WeakMap,Tn=new WeakMap,Ho=new WeakMap,Vo=new WeakSet,Uc=function(e){vn(this,zo,Oc).call(this);const t=_e(this,Ir).find(n=>n.href.replace(`${origin}/`,"")===`#${e}`);t?dt(this,Tn,t):dt(this,Tn,void 0),vn(this,Bo,Fc).call(this)},Bo=new WeakSet,Fc=function(){_e(this,Tn)&&_e(this,Tn).classList.add("active")},zo=new WeakSet,Oc=function(){_e(this,Tn)&&_e(this,Tn).classList.remove("active")};function la(r){const e=r.slice();for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}const yd=r=>`${r}vw`,Sd=r=>`${r}vh`;function wd(r,e=1e3){const t=window.setTimeout(r,e);return{cancel:()=>window.clearTimeout(t)}}function bd(r){const e=({code:t})=>r(t);return addEventListener("keydown",e),{cancel:()=>removeEventListener("keydown",e)}}const Ed={name:"GitHub",logo:"/companies/github.svg",link:"https://github.com"},Td={name:"DB1 Group",logo:"/companies/db1-group.svg",link:"https://db1.com.br"},Ad={name:"GitHub",logo:"/companies/elotech.svg",link:"https://elotech.com.br"},kd={name:"Let Me Pay",logo:"/companies/let-me-pay.svg",link:"https://www.letmepay.io"},Rd={name:"MM Tech",logo:"/companies/mmtech.svg",link:"https://www.grupomercadomoveis.com.br"},Ld={name:"nstech",logo:"/companies/nstech.svg",link:"https://www.nstech.com.br/"},Pd={name:"irrah",logo:"/companies/irrah.svg",link:"https://www.grupoirrah.com.br/"},Dd={name:"fiap",logo:"/companies/fiap.svg",link:"https://www.fiap.com.br/"},Id=[Ed,Td,Ad,Dd,Rd,kd,Ld,Pd],Nd=[{title:"Credenciamento",start:new Date("2024-07-27 13:00:00"),end:new Date("2024-07-27 13:30:00"),place:"UniCesumar",type:"break"},{speaker:"isa",title:"Microfrontends X Microservicos e BFFs",type:"talk",start:new Date("2024-07-27 13:30:00"),end:new Date("2024-07-27 16:00:00"),place:"Inspira Space - UniCesumar"},{speaker:"marco",title:"Programação Funcional com Go. Possibilidade ou Forçação de barra",type:"talk",start:new Date("2024-07-27 14:30:00"),end:new Date("2024-07-27 15:00:00"),place:"Inspira Space - UniCesumar"},{title:"Intervalo",start:new Date("2024-07-27 15:30:00"),end:new Date("2024-07-27 16:00:00"),place:"UniCesumar",type:"break"},{speaker:"leo",title:"De Monólitos a Micro Frontends: Um Roteiro para Arquiteturas Web Escaláveis",type:"talk",start:new Date("2024-07-27 16:00:00"),end:new Date("2024-07-27 16:30:00"),place:"Inspira Space - UniCesumar"},{speaker:"munif",title:"IA em ERPs, um caso prático replicável",type:"talk",start:new Date("2024-07-27 17:00:00"),end:new Date("2024-07-27 17:30:00"),place:"Inspira Space - UniCesumar"},{title:"Criando serviços em Golang",speaker:["fer","marcondes"],type:"workshop",start:new Date("2024-07-27 13:30:00"),end:new Date("2024-07-27 15:00:00"),place:"Sala Invertida - UniCesumar"},{title:"Transforme sua WebPage em uma WebApp com PWA",speaker:"burnes",type:"workshop",start:new Date("2024-07-27 16:00:00"),end:new Date("2024-07-27 17:30:00"),place:"Sala Invertida - UniCesumar"}],Ud=[{title:"Credenciamento",start:new Date("2024-07-28 08:00:00"),end:new Date("2024-07-28 08:45:00"),place:"Calil Haddad",type:"break"},{title:"Abertura",start:new Date("2024-07-28 08:45:00"),end:new Date("2024-07-28 09:00:00"),place:"Calil Haddad",type:"break"},{speaker:"kipper",title:"Orquestração de Microserviços á nivel de Big Techs",start:new Date("2024-07-28 09:00:00"),end:new Date("2024-07-28 10:00:00"),place:"Calil Haddad",type:"talk"},{speaker:"ananeridev",title:"Monorepos vs Microservices: A batalha da Escalabilidade",start:new Date("2024-07-28 10:00:00"),end:new Date("2024-07-28 11:00:00"),place:"Calil Haddad",type:"talk"},{speaker:"gustavo",title:"Como ser um Dev medíocre de sucesso",start:new Date("2024-07-28 11:00:00"),end:new Date("2024-07-28 12:00:00"),place:"Calil Haddad",type:"talk"},{speaker:"jonatas",title:"Vetorização de informações e o Futuro dos modelos - modelos livres para um futuro mais aberto e sustentável",start:new Date("2024-07-28 12:00:00"),end:new Date("2024-07-28 13:00:00"),place:"Calil Haddad",type:"talk"},{title:"Almoço",start:new Date("2024-07-28 13:00:00"),end:new Date("2024-07-28 14:30:00"),place:"Calil Haddad",type:"break"},{title:"Sorteio",start:new Date("2024-07-28 14:30:00"),end:new Date("2024-07-28 15:00:00"),place:"Calil Haddad",type:"break"},{speaker:"deyvin",title:"Verdades Difíceis de Engolir",start:new Date("2024-07-28 15:00:00"),end:new Date("2024-07-28 16:00:00"),place:"Calil Haddad",type:"talk"},{speaker:"lays",title:"Automate Away the Toil",start:new Date("2024-07-28 16:00:00"),end:new Date("2024-07-28 17:00:00"),place:"Calil Haddad",type:"talk"},{speaker:"devsoutinho",title:"Desafios Práticos de Escalar Times de Plataforma",start:new Date("2024-07-28 17:00:00"),end:new Date("2024-07-28 18:00:00"),place:"Calil Haddad",type:"talk"}];/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ca="165",mi={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},gi={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Fd=0,Ua=1,Od=2,Hc=1,Vc=2,an=3,fn=0,Dt=1,dn=2,Xn=0,Fi=1,Fa=2,Oa=3,Ha=4,Hd=5,li=100,Vd=101,Bd=102,zd=103,Gd=104,Wd=200,jd=201,Xd=202,Zd=203,Ys=204,Ks=205,qd=206,Yd=207,Kd=208,$d=209,Jd=210,Qd=211,eu=212,tu=213,nu=214,iu=0,ru=1,ou=2,Ao=3,su=4,au=5,lu=6,cu=7,da=0,du=1,uu=2,Zn=0,hu=1,fu=2,pu=3,Bc=4,mu=5,gu=6,_u=7,Va="attached",Cu="detached",zc=300,Zi=301,qi=302,$s=303,Js=304,qo=306,hi=1e3,Wn=1001,ko=1002,Pt=1003,Gc=1004,yr=1005,Vt=1006,bo=1007,Ln=1008,qn=1009,vu=1010,Mu=1011,Ro=1012,Wc=1013,Yi=1014,un=1015,Yo=1016,jc=1017,Xc=1018,Ki=1020,xu=35902,yu=1021,Su=1022,en=1023,wu=1024,bu=1025,Oi=1026,$i=1027,Zc=1028,qc=1029,Eu=1030,Yc=1031,Kc=1033,ss=33776,as=33777,ls=33778,cs=33779,Ba=35840,za=35841,Ga=35842,Wa=35843,ja=36196,Xa=37492,Za=37496,qa=37808,Ya=37809,Ka=37810,$a=37811,Ja=37812,Qa=37813,el=37814,tl=37815,nl=37816,il=37817,rl=37818,ol=37819,sl=37820,al=37821,ds=36492,ll=36494,cl=36495,Tu=36283,dl=36284,ul=36285,hl=36286,Rr=2300,Lr=2301,us=2302,fl=2400,pl=2401,ml=2402,Au=2500,ku=0,$c=1,Qs=2,Ru=3200,Lu=3201,ua=0,Pu=1,Gn="",St="srgb",yt="srgb-linear",ha="display-p3",Ko="display-p3-linear",Lo="linear",it="srgb",Po="rec709",Do="p3",_i=7680,gl=519,Du=512,Iu=513,Nu=514,Jc=515,Uu=516,Fu=517,Ou=518,Hu=519,ea=35044,_l="300 es",Pn=2e3,Io=2001;class fi{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const Tt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Cl=1234567;const wr=Math.PI/180,Ji=180/Math.PI;function tn(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Tt[r&255]+Tt[r>>8&255]+Tt[r>>16&255]+Tt[r>>24&255]+"-"+Tt[e&255]+Tt[e>>8&255]+"-"+Tt[e>>16&15|64]+Tt[e>>24&255]+"-"+Tt[t&63|128]+Tt[t>>8&255]+"-"+Tt[t>>16&255]+Tt[t>>24&255]+Tt[n&255]+Tt[n>>8&255]+Tt[n>>16&255]+Tt[n>>24&255]).toLowerCase()}function vt(r,e,t){return Math.max(e,Math.min(t,r))}function fa(r,e){return(r%e+e)%e}function Vu(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function Bu(r,e,t){return r!==e?(t-r)/(e-r):0}function br(r,e,t){return(1-t)*r+t*e}function zu(r,e,t,n){return br(r,e,1-Math.exp(-t*n))}function Gu(r,e=1){return e-Math.abs(fa(r,e*2)-e)}function Wu(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function ju(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function Xu(r,e){return r+Math.floor(Math.random()*(e-r+1))}function Zu(r,e){return r+Math.random()*(e-r)}function qu(r){return r*(.5-Math.random())}function Yu(r){r!==void 0&&(Cl=r);let e=Cl+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Ku(r){return r*wr}function $u(r){return r*Ji}function Ju(r){return(r&r-1)===0&&r!==0}function Qu(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function eh(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function th(r,e,t,n,i){const o=Math.cos,s=Math.sin,a=o(t/2),c=s(t/2),d=o((e+n)/2),u=s((e+n)/2),h=o((e-n)/2),f=s((e-n)/2),m=o((n-e)/2),_=s((n-e)/2);switch(i){case"XYX":r.set(a*u,c*h,c*f,a*d);break;case"YZY":r.set(c*f,a*u,c*h,a*d);break;case"ZXZ":r.set(c*h,c*f,a*u,a*d);break;case"XZX":r.set(a*u,c*_,c*m,a*d);break;case"YXY":r.set(c*m,a*u,c*_,a*d);break;case"ZYZ":r.set(c*_,c*m,a*u,a*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Jt(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function $e(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const Qi={DEG2RAD:wr,RAD2DEG:Ji,generateUUID:tn,clamp:vt,euclideanModulo:fa,mapLinear:Vu,inverseLerp:Bu,lerp:br,damp:zu,pingpong:Gu,smoothstep:Wu,smootherstep:ju,randInt:Xu,randFloat:Zu,randFloatSpread:qu,seededRandom:Yu,degToRad:Ku,radToDeg:$u,isPowerOfTwo:Ju,ceilPowerOfTwo:Qu,floorPowerOfTwo:eh,setQuaternionFromProperEuler:th,normalize:$e,denormalize:Jt};class ye{constructor(e=0,t=0){ye.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(vt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*n-s*i+e.x,this.y=o*i+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Oe{constructor(e,t,n,i,o,s,a,c,d){Oe.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,o,s,a,c,d)}set(e,t,n,i,o,s,a,c,d){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=o,u[5]=c,u[6]=n,u[7]=s,u[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,o=this.elements,s=n[0],a=n[3],c=n[6],d=n[1],u=n[4],h=n[7],f=n[2],m=n[5],_=n[8],v=i[0],g=i[3],p=i[6],S=i[1],M=i[4],E=i[7],D=i[2],R=i[5],T=i[8];return o[0]=s*v+a*S+c*D,o[3]=s*g+a*M+c*R,o[6]=s*p+a*E+c*T,o[1]=d*v+u*S+h*D,o[4]=d*g+u*M+h*R,o[7]=d*p+u*E+h*T,o[2]=f*v+m*S+_*D,o[5]=f*g+m*M+_*R,o[8]=f*p+m*E+_*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],d=e[7],u=e[8];return t*s*u-t*a*d-n*o*u+n*a*c+i*o*d-i*s*c}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],d=e[7],u=e[8],h=u*s-a*d,f=a*c-u*o,m=d*o-s*c,_=t*h+n*f+i*m;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/_;return e[0]=h*v,e[1]=(i*d-u*n)*v,e[2]=(a*n-i*s)*v,e[3]=f*v,e[4]=(u*t-i*c)*v,e[5]=(i*o-a*t)*v,e[6]=m*v,e[7]=(n*c-d*t)*v,e[8]=(s*t-n*o)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,o,s,a){const c=Math.cos(o),d=Math.sin(o);return this.set(n*c,n*d,-n*(c*s+d*a)+s+e,-i*d,i*c,-i*(-d*s+c*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(hs.makeScale(e,t)),this}rotate(e){return this.premultiply(hs.makeRotation(-e)),this}translate(e,t){return this.premultiply(hs.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const hs=new Oe;function Qc(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}function Pr(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function nh(){const r=Pr("canvas");return r.style.display="block",r}const vl={};function pa(r){r in vl||(vl[r]=!0,console.warn(r))}function ih(r,e,t){return new Promise(function(n,i){function o(){switch(r.clientWaitSync(e,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:i();break;case r.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:n()}}setTimeout(o,t)})}const Ml=new Oe().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),xl=new Oe().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Wr={[yt]:{transfer:Lo,primaries:Po,toReference:r=>r,fromReference:r=>r},[St]:{transfer:it,primaries:Po,toReference:r=>r.convertSRGBToLinear(),fromReference:r=>r.convertLinearToSRGB()},[Ko]:{transfer:Lo,primaries:Do,toReference:r=>r.applyMatrix3(xl),fromReference:r=>r.applyMatrix3(Ml)},[ha]:{transfer:it,primaries:Do,toReference:r=>r.convertSRGBToLinear().applyMatrix3(xl),fromReference:r=>r.applyMatrix3(Ml).convertLinearToSRGB()}},rh=new Set([yt,Ko]),qe={enabled:!0,_workingColorSpace:yt,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(r){if(!rh.has(r))throw new Error(`Unsupported working color space, "${r}".`);this._workingColorSpace=r},convert:function(r,e,t){if(this.enabled===!1||e===t||!e||!t)return r;const n=Wr[e].toReference,i=Wr[t].fromReference;return i(n(r))},fromWorkingColorSpace:function(r,e){return this.convert(r,this._workingColorSpace,e)},toWorkingColorSpace:function(r,e){return this.convert(r,e,this._workingColorSpace)},getPrimaries:function(r){return Wr[r].primaries},getTransfer:function(r){return r===Gn?Lo:Wr[r].transfer}};function Hi(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function fs(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let Ci;class oh{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ci===void 0&&(Ci=Pr("canvas")),Ci.width=e.width,Ci.height=e.height;const n=Ci.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Ci}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Pr("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=Hi(o[s]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Hi(t[n]/255)*255):t[n]=Hi(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let sh=0;class e1{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:sh++}),this.uuid=tn(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(ps(i[s].image)):o.push(ps(i[s]))}else o=ps(i);n.url=o}return t||(e.images[this.uuid]=n),n}}function ps(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?oh.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ah=0;class xt extends fi{constructor(e=xt.DEFAULT_IMAGE,t=xt.DEFAULT_MAPPING,n=Wn,i=Wn,o=Vt,s=Ln,a=en,c=qn,d=xt.DEFAULT_ANISOTROPY,u=Gn){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ah++}),this.uuid=tn(),this.name="",this.source=new e1(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=d,this.format=a,this.internalFormat=null,this.type=c,this.offset=new ye(0,0),this.repeat=new ye(1,1),this.center=new ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Oe,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zc)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case hi:e.x=e.x-Math.floor(e.x);break;case Wn:e.x=e.x<0?0:1;break;case ko:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case hi:e.y=e.y-Math.floor(e.y);break;case Wn:e.y=e.y<0?0:1;break;case ko:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}xt.DEFAULT_IMAGE=null;xt.DEFAULT_MAPPING=zc;xt.DEFAULT_ANISOTROPY=1;class Qe{constructor(e=0,t=0,n=0,i=1){Qe.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,o;const c=e.elements,d=c[0],u=c[4],h=c[8],f=c[1],m=c[5],_=c[9],v=c[2],g=c[6],p=c[10];if(Math.abs(u-f)<.01&&Math.abs(h-v)<.01&&Math.abs(_-g)<.01){if(Math.abs(u+f)<.1&&Math.abs(h+v)<.1&&Math.abs(_+g)<.1&&Math.abs(d+m+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(d+1)/2,E=(m+1)/2,D=(p+1)/2,R=(u+f)/4,T=(h+v)/4,I=(_+g)/4;return M>E&&M>D?M<.01?(n=0,i=.707106781,o=.707106781):(n=Math.sqrt(M),i=R/n,o=T/n):E>D?E<.01?(n=.707106781,i=0,o=.707106781):(i=Math.sqrt(E),n=R/i,o=I/i):D<.01?(n=.707106781,i=.707106781,o=0):(o=Math.sqrt(D),n=T/o,i=I/o),this.set(n,i,o,t),this}let S=Math.sqrt((g-_)*(g-_)+(h-v)*(h-v)+(f-u)*(f-u));return Math.abs(S)<.001&&(S=1),this.x=(g-_)/S,this.y=(h-v)/S,this.z=(f-u)/S,this.w=Math.acos((d+m+p-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class lh extends fi{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Qe(0,0,e,t),this.scissorTest=!1,this.viewport=new Qe(0,0,e,t);const i={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Vt,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const o=new xt(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);o.flipY=!1,o.generateMipmaps=n.generateMipmaps,o.internalFormat=n.internalFormat,this.textures=[];const s=n.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new e1(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Yn extends lh{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class t1 extends xt{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Pt,this.minFilter=Pt,this.wrapR=Wn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ch extends xt{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Pt,this.minFilter=Pt,this.wrapR=Wn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class pn{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,o,s,a){let c=n[i+0],d=n[i+1],u=n[i+2],h=n[i+3];const f=o[s+0],m=o[s+1],_=o[s+2],v=o[s+3];if(a===0){e[t+0]=c,e[t+1]=d,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=f,e[t+1]=m,e[t+2]=_,e[t+3]=v;return}if(h!==v||c!==f||d!==m||u!==_){let g=1-a;const p=c*f+d*m+u*_+h*v,S=p>=0?1:-1,M=1-p*p;if(M>Number.EPSILON){const D=Math.sqrt(M),R=Math.atan2(D,p*S);g=Math.sin(g*R)/D,a=Math.sin(a*R)/D}const E=a*S;if(c=c*g+f*E,d=d*g+m*E,u=u*g+_*E,h=h*g+v*E,g===1-a){const D=1/Math.sqrt(c*c+d*d+u*u+h*h);c*=D,d*=D,u*=D,h*=D}}e[t]=c,e[t+1]=d,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,n,i,o,s){const a=n[i],c=n[i+1],d=n[i+2],u=n[i+3],h=o[s],f=o[s+1],m=o[s+2],_=o[s+3];return e[t]=a*_+u*h+c*m-d*f,e[t+1]=c*_+u*f+d*h-a*m,e[t+2]=d*_+u*m+a*f-c*h,e[t+3]=u*_-a*h-c*f-d*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,c=Math.sin,d=a(n/2),u=a(i/2),h=a(o/2),f=c(n/2),m=c(i/2),_=c(o/2);switch(s){case"XYZ":this._x=f*u*h+d*m*_,this._y=d*m*h-f*u*_,this._z=d*u*_+f*m*h,this._w=d*u*h-f*m*_;break;case"YXZ":this._x=f*u*h+d*m*_,this._y=d*m*h-f*u*_,this._z=d*u*_-f*m*h,this._w=d*u*h+f*m*_;break;case"ZXY":this._x=f*u*h-d*m*_,this._y=d*m*h+f*u*_,this._z=d*u*_+f*m*h,this._w=d*u*h-f*m*_;break;case"ZYX":this._x=f*u*h-d*m*_,this._y=d*m*h+f*u*_,this._z=d*u*_-f*m*h,this._w=d*u*h+f*m*_;break;case"YZX":this._x=f*u*h+d*m*_,this._y=d*m*h+f*u*_,this._z=d*u*_-f*m*h,this._w=d*u*h-f*m*_;break;case"XZY":this._x=f*u*h-d*m*_,this._y=d*m*h-f*u*_,this._z=d*u*_+f*m*h,this._w=d*u*h+f*m*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],o=t[8],s=t[1],a=t[5],c=t[9],d=t[2],u=t[6],h=t[10],f=n+a+h;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(u-c)*m,this._y=(o-d)*m,this._z=(s-i)*m}else if(n>a&&n>h){const m=2*Math.sqrt(1+n-a-h);this._w=(u-c)/m,this._x=.25*m,this._y=(i+s)/m,this._z=(o+d)/m}else if(a>h){const m=2*Math.sqrt(1+a-n-h);this._w=(o-d)/m,this._x=(i+s)/m,this._y=.25*m,this._z=(c+u)/m}else{const m=2*Math.sqrt(1+h-n-a);this._w=(s-i)/m,this._x=(o+d)/m,this._y=(c+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(vt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,o=e._z,s=e._w,a=t._x,c=t._y,d=t._z,u=t._w;return this._x=n*u+s*a+i*d-o*c,this._y=i*u+s*c+o*a-n*d,this._z=o*u+s*d+n*c-i*a,this._w=s*u-n*a-i*c-o*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+n*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=n,this._y=i,this._z=o,this;const c=1-a*a;if(c<=Number.EPSILON){const m=1-t;return this._w=m*s+t*this._w,this._x=m*n+t*this._x,this._y=m*i+t*this._y,this._z=m*o+t*this._z,this.normalize(),this}const d=Math.sqrt(c),u=Math.atan2(d,a),h=Math.sin((1-t)*u)/d,f=Math.sin(t*u)/d;return this._w=s*h+this._w*f,this._x=n*h+this._x*f,this._y=i*h+this._y*f,this._z=o*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),o=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class A{constructor(e=0,t=0,n=0){A.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(yl.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(yl.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*i,this.y=o[1]*t+o[4]*n+o[7]*i,this.z=o[2]*t+o[5]*n+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*n+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*n+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*n+o[10]*i+o[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,o=e.x,s=e.y,a=e.z,c=e.w,d=2*(s*i-a*n),u=2*(a*t-o*i),h=2*(o*n-s*t);return this.x=t+c*d+s*h-a*u,this.y=n+c*u+a*d-o*h,this.z=i+c*h+o*u-s*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i,this.y=o[1]*t+o[5]*n+o[9]*i,this.z=o[2]*t+o[6]*n+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,o=e.z,s=t.x,a=t.y,c=t.z;return this.x=i*c-o*a,this.y=o*s-n*c,this.z=n*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return ms.copy(this).projectOnVector(e),this.sub(ms)}reflect(e){return this.sub(ms.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(vt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ms=new A,yl=new pn;class rn{constructor(e=new A(1/0,1/0,1/0),t=new A(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Zt.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Zt.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Zt.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const o=n.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,Zt):Zt.fromBufferAttribute(o,s),Zt.applyMatrix4(e.matrixWorld),this.expandByPoint(Zt);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),jr.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),jr.copy(n.boundingBox)),jr.applyMatrix4(e.matrixWorld),this.union(jr)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Zt),Zt.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(cr),Xr.subVectors(this.max,cr),vi.subVectors(e.a,cr),Mi.subVectors(e.b,cr),xi.subVectors(e.c,cr),Un.subVectors(Mi,vi),Fn.subVectors(xi,Mi),Qn.subVectors(vi,xi);let t=[0,-Un.z,Un.y,0,-Fn.z,Fn.y,0,-Qn.z,Qn.y,Un.z,0,-Un.x,Fn.z,0,-Fn.x,Qn.z,0,-Qn.x,-Un.y,Un.x,0,-Fn.y,Fn.x,0,-Qn.y,Qn.x,0];return!gs(t,vi,Mi,xi,Xr)||(t=[1,0,0,0,1,0,0,0,1],!gs(t,vi,Mi,xi,Xr))?!1:(Zr.crossVectors(Un,Fn),t=[Zr.x,Zr.y,Zr.z],gs(t,vi,Mi,xi,Xr))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Zt).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Zt).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Mn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mn),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Mn=[new A,new A,new A,new A,new A,new A,new A,new A],Zt=new A,jr=new rn,vi=new A,Mi=new A,xi=new A,Un=new A,Fn=new A,Qn=new A,cr=new A,Xr=new A,Zr=new A,ei=new A;function gs(r,e,t,n,i){for(let o=0,s=r.length-3;o<=s;o+=3){ei.fromArray(r,o);const a=i.x*Math.abs(ei.x)+i.y*Math.abs(ei.y)+i.z*Math.abs(ei.z),c=e.dot(ei),d=t.dot(ei),u=n.dot(ei);if(Math.max(-Math.max(c,d,u),Math.min(c,d,u))>a)return!1}return!0}const dh=new rn,dr=new A,_s=new A;class jt{constructor(e=new A,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):dh.setFromPoints(e).getCenter(n);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;dr.subVectors(e,this.center);const t=dr.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(dr,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_s.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(dr.copy(e.center).add(_s)),this.expandByPoint(dr.copy(e.center).sub(_s))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const xn=new A,Cs=new A,qr=new A,On=new A,vs=new A,Yr=new A,Ms=new A;class Fr{constructor(e=new A,t=new A(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,xn)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=xn.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(xn.copy(this.origin).addScaledVector(this.direction,t),xn.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){Cs.copy(e).add(t).multiplyScalar(.5),qr.copy(t).sub(e).normalize(),On.copy(this.origin).sub(Cs);const o=e.distanceTo(t)*.5,s=-this.direction.dot(qr),a=On.dot(this.direction),c=-On.dot(qr),d=On.lengthSq(),u=Math.abs(1-s*s);let h,f,m,_;if(u>0)if(h=s*c-a,f=s*a-c,_=o*u,h>=0)if(f>=-_)if(f<=_){const v=1/u;h*=v,f*=v,m=h*(h+s*f+2*a)+f*(s*h+f+2*c)+d}else f=o,h=Math.max(0,-(s*f+a)),m=-h*h+f*(f+2*c)+d;else f=-o,h=Math.max(0,-(s*f+a)),m=-h*h+f*(f+2*c)+d;else f<=-_?(h=Math.max(0,-(-s*o+a)),f=h>0?-o:Math.min(Math.max(-o,-c),o),m=-h*h+f*(f+2*c)+d):f<=_?(h=0,f=Math.min(Math.max(-o,-c),o),m=f*(f+2*c)+d):(h=Math.max(0,-(s*o+a)),f=h>0?o:Math.min(Math.max(-o,-c),o),m=-h*h+f*(f+2*c)+d);else f=s>0?-o:o,h=Math.max(0,-(s*f+a)),m=-h*h+f*(f+2*c)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(Cs).addScaledVector(qr,f),m}intersectSphere(e,t){xn.subVectors(e.center,this.origin);const n=xn.dot(this.direction),i=xn.dot(xn)-n*n,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=n-s,c=n+s;return c<0?null:a<0?this.at(c,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,o,s,a,c;const d=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,f=this.origin;return d>=0?(n=(e.min.x-f.x)*d,i=(e.max.x-f.x)*d):(n=(e.max.x-f.x)*d,i=(e.min.x-f.x)*d),u>=0?(o=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),n>s||o>i||((o>n||isNaN(n))&&(n=o),(s<i||isNaN(i))&&(i=s),h>=0?(a=(e.min.z-f.z)*h,c=(e.max.z-f.z)*h):(a=(e.max.z-f.z)*h,c=(e.min.z-f.z)*h),n>c||a>i)||((a>n||n!==n)&&(n=a),(c<i||i!==i)&&(i=c),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,xn)!==null}intersectTriangle(e,t,n,i,o){vs.subVectors(t,e),Yr.subVectors(n,e),Ms.crossVectors(vs,Yr);let s=this.direction.dot(Ms),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;On.subVectors(this.origin,e);const c=a*this.direction.dot(Yr.crossVectors(On,Yr));if(c<0)return null;const d=a*this.direction.dot(vs.cross(On));if(d<0||c+d>s)return null;const u=-a*On.dot(Ms);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Le{constructor(e,t,n,i,o,s,a,c,d,u,h,f,m,_,v,g){Le.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,o,s,a,c,d,u,h,f,m,_,v,g)}set(e,t,n,i,o,s,a,c,d,u,h,f,m,_,v,g){const p=this.elements;return p[0]=e,p[4]=t,p[8]=n,p[12]=i,p[1]=o,p[5]=s,p[9]=a,p[13]=c,p[2]=d,p[6]=u,p[10]=h,p[14]=f,p[3]=m,p[7]=_,p[11]=v,p[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Le().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/yi.setFromMatrixColumn(e,0).length(),o=1/yi.setFromMatrixColumn(e,1).length(),s=1/yi.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,o=e.z,s=Math.cos(n),a=Math.sin(n),c=Math.cos(i),d=Math.sin(i),u=Math.cos(o),h=Math.sin(o);if(e.order==="XYZ"){const f=s*u,m=s*h,_=a*u,v=a*h;t[0]=c*u,t[4]=-c*h,t[8]=d,t[1]=m+_*d,t[5]=f-v*d,t[9]=-a*c,t[2]=v-f*d,t[6]=_+m*d,t[10]=s*c}else if(e.order==="YXZ"){const f=c*u,m=c*h,_=d*u,v=d*h;t[0]=f+v*a,t[4]=_*a-m,t[8]=s*d,t[1]=s*h,t[5]=s*u,t[9]=-a,t[2]=m*a-_,t[6]=v+f*a,t[10]=s*c}else if(e.order==="ZXY"){const f=c*u,m=c*h,_=d*u,v=d*h;t[0]=f-v*a,t[4]=-s*h,t[8]=_+m*a,t[1]=m+_*a,t[5]=s*u,t[9]=v-f*a,t[2]=-s*d,t[6]=a,t[10]=s*c}else if(e.order==="ZYX"){const f=s*u,m=s*h,_=a*u,v=a*h;t[0]=c*u,t[4]=_*d-m,t[8]=f*d+v,t[1]=c*h,t[5]=v*d+f,t[9]=m*d-_,t[2]=-d,t[6]=a*c,t[10]=s*c}else if(e.order==="YZX"){const f=s*c,m=s*d,_=a*c,v=a*d;t[0]=c*u,t[4]=v-f*h,t[8]=_*h+m,t[1]=h,t[5]=s*u,t[9]=-a*u,t[2]=-d*u,t[6]=m*h+_,t[10]=f-v*h}else if(e.order==="XZY"){const f=s*c,m=s*d,_=a*c,v=a*d;t[0]=c*u,t[4]=-h,t[8]=d*u,t[1]=f*h+v,t[5]=s*u,t[9]=m*h-_,t[2]=_*h-m,t[6]=a*u,t[10]=v*h+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(uh,e,hh)}lookAt(e,t,n){const i=this.elements;return Ot.subVectors(e,t),Ot.lengthSq()===0&&(Ot.z=1),Ot.normalize(),Hn.crossVectors(n,Ot),Hn.lengthSq()===0&&(Math.abs(n.z)===1?Ot.x+=1e-4:Ot.z+=1e-4,Ot.normalize(),Hn.crossVectors(n,Ot)),Hn.normalize(),Kr.crossVectors(Ot,Hn),i[0]=Hn.x,i[4]=Kr.x,i[8]=Ot.x,i[1]=Hn.y,i[5]=Kr.y,i[9]=Ot.y,i[2]=Hn.z,i[6]=Kr.z,i[10]=Ot.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,o=this.elements,s=n[0],a=n[4],c=n[8],d=n[12],u=n[1],h=n[5],f=n[9],m=n[13],_=n[2],v=n[6],g=n[10],p=n[14],S=n[3],M=n[7],E=n[11],D=n[15],R=i[0],T=i[4],I=i[8],b=i[12],x=i[1],L=i[5],z=i[9],G=i[13],K=i[2],O=i[6],F=i[10],q=i[14],W=i[3],ne=i[7],de=i[11],ue=i[15];return o[0]=s*R+a*x+c*K+d*W,o[4]=s*T+a*L+c*O+d*ne,o[8]=s*I+a*z+c*F+d*de,o[12]=s*b+a*G+c*q+d*ue,o[1]=u*R+h*x+f*K+m*W,o[5]=u*T+h*L+f*O+m*ne,o[9]=u*I+h*z+f*F+m*de,o[13]=u*b+h*G+f*q+m*ue,o[2]=_*R+v*x+g*K+p*W,o[6]=_*T+v*L+g*O+p*ne,o[10]=_*I+v*z+g*F+p*de,o[14]=_*b+v*G+g*q+p*ue,o[3]=S*R+M*x+E*K+D*W,o[7]=S*T+M*L+E*O+D*ne,o[11]=S*I+M*z+E*F+D*de,o[15]=S*b+M*G+E*q+D*ue,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],o=e[12],s=e[1],a=e[5],c=e[9],d=e[13],u=e[2],h=e[6],f=e[10],m=e[14],_=e[3],v=e[7],g=e[11],p=e[15];return _*(+o*c*h-i*d*h-o*a*f+n*d*f+i*a*m-n*c*m)+v*(+t*c*m-t*d*f+o*s*f-i*s*m+i*d*u-o*c*u)+g*(+t*d*h-t*a*m-o*s*h+n*s*m+o*a*u-n*d*u)+p*(-i*a*u-t*c*h+t*a*f+i*s*h-n*s*f+n*c*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],d=e[7],u=e[8],h=e[9],f=e[10],m=e[11],_=e[12],v=e[13],g=e[14],p=e[15],S=h*g*d-v*f*d+v*c*m-a*g*m-h*c*p+a*f*p,M=_*f*d-u*g*d-_*c*m+s*g*m+u*c*p-s*f*p,E=u*v*d-_*h*d+_*a*m-s*v*m-u*a*p+s*h*p,D=_*h*c-u*v*c-_*a*f+s*v*f+u*a*g-s*h*g,R=t*S+n*M+i*E+o*D;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/R;return e[0]=S*T,e[1]=(v*f*o-h*g*o-v*i*m+n*g*m+h*i*p-n*f*p)*T,e[2]=(a*g*o-v*c*o+v*i*d-n*g*d-a*i*p+n*c*p)*T,e[3]=(h*c*o-a*f*o-h*i*d+n*f*d+a*i*m-n*c*m)*T,e[4]=M*T,e[5]=(u*g*o-_*f*o+_*i*m-t*g*m-u*i*p+t*f*p)*T,e[6]=(_*c*o-s*g*o-_*i*d+t*g*d+s*i*p-t*c*p)*T,e[7]=(s*f*o-u*c*o+u*i*d-t*f*d-s*i*m+t*c*m)*T,e[8]=E*T,e[9]=(_*h*o-u*v*o-_*n*m+t*v*m+u*n*p-t*h*p)*T,e[10]=(s*v*o-_*a*o+_*n*d-t*v*d-s*n*p+t*a*p)*T,e[11]=(u*a*o-s*h*o-u*n*d+t*h*d+s*n*m-t*a*m)*T,e[12]=D*T,e[13]=(u*v*i-_*h*i+_*n*f-t*v*f-u*n*g+t*h*g)*T,e[14]=(_*a*i-s*v*i-_*n*c+t*v*c+s*n*g-t*a*g)*T,e[15]=(s*h*i-u*a*i+u*n*c-t*h*c-s*n*f+t*a*f)*T,this}scale(e){const t=this.elements,n=e.x,i=e.y,o=e.z;return t[0]*=n,t[4]*=i,t[8]*=o,t[1]*=n,t[5]*=i,t[9]*=o,t[2]*=n,t[6]*=i,t[10]*=o,t[3]*=n,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),o=1-n,s=e.x,a=e.y,c=e.z,d=o*s,u=o*a;return this.set(d*s+n,d*a-i*c,d*c+i*a,0,d*a+i*c,u*a+n,u*c-i*s,0,d*c-i*a,u*c+i*s,o*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,o,s){return this.set(1,n,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,o=t._x,s=t._y,a=t._z,c=t._w,d=o+o,u=s+s,h=a+a,f=o*d,m=o*u,_=o*h,v=s*u,g=s*h,p=a*h,S=c*d,M=c*u,E=c*h,D=n.x,R=n.y,T=n.z;return i[0]=(1-(v+p))*D,i[1]=(m+E)*D,i[2]=(_-M)*D,i[3]=0,i[4]=(m-E)*R,i[5]=(1-(f+p))*R,i[6]=(g+S)*R,i[7]=0,i[8]=(_+M)*T,i[9]=(g-S)*T,i[10]=(1-(f+v))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let o=yi.set(i[0],i[1],i[2]).length();const s=yi.set(i[4],i[5],i[6]).length(),a=yi.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],qt.copy(this);const d=1/o,u=1/s,h=1/a;return qt.elements[0]*=d,qt.elements[1]*=d,qt.elements[2]*=d,qt.elements[4]*=u,qt.elements[5]*=u,qt.elements[6]*=u,qt.elements[8]*=h,qt.elements[9]*=h,qt.elements[10]*=h,t.setFromRotationMatrix(qt),n.x=o,n.y=s,n.z=a,this}makePerspective(e,t,n,i,o,s,a=Pn){const c=this.elements,d=2*o/(t-e),u=2*o/(n-i),h=(t+e)/(t-e),f=(n+i)/(n-i);let m,_;if(a===Pn)m=-(s+o)/(s-o),_=-2*s*o/(s-o);else if(a===Io)m=-s/(s-o),_=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=d,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=u,c[9]=f,c[13]=0,c[2]=0,c[6]=0,c[10]=m,c[14]=_,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,i,o,s,a=Pn){const c=this.elements,d=1/(t-e),u=1/(n-i),h=1/(s-o),f=(t+e)*d,m=(n+i)*u;let _,v;if(a===Pn)_=(s+o)*h,v=-2*h;else if(a===Io)_=o*h,v=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-f,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-m,c[2]=0,c[6]=0,c[10]=v,c[14]=-_,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const yi=new A,qt=new Le,uh=new A(0,0,0),hh=new A(1,1,1),Hn=new A,Kr=new A,Ot=new A,Sl=new Le,wl=new pn;class on{constructor(e=0,t=0,n=0,i=on.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],c=i[1],d=i[5],u=i[9],h=i[2],f=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(vt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,d),this._z=0);break;case"YXZ":this._x=Math.asin(-vt(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(vt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-s,d)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-vt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-s,d));break;case"YZX":this._z=Math.asin(vt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-vt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,d),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Sl.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Sl,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return wl.setFromEuler(this),this.setFromQuaternion(wl,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}on.DEFAULT_ORDER="XYZ";class ma{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let fh=0;const bl=new A,Si=new pn,yn=new Le,$r=new A,ur=new A,ph=new A,mh=new pn,El=new A(1,0,0),Tl=new A(0,1,0),Al=new A(0,0,1),kl={type:"added"},gh={type:"removed"},wi={type:"childadded",child:null},xs={type:"childremoved",child:null};class rt extends fi{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:fh++}),this.uuid=tn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=rt.DEFAULT_UP.clone();const e=new A,t=new on,n=new pn,i=new A(1,1,1);function o(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Le},normalMatrix:{value:new Oe}}),this.matrix=new Le,this.matrixWorld=new Le,this.matrixAutoUpdate=rt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=rt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ma,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Si.setFromAxisAngle(e,t),this.quaternion.multiply(Si),this}rotateOnWorldAxis(e,t){return Si.setFromAxisAngle(e,t),this.quaternion.premultiply(Si),this}rotateX(e){return this.rotateOnAxis(El,e)}rotateY(e){return this.rotateOnAxis(Tl,e)}rotateZ(e){return this.rotateOnAxis(Al,e)}translateOnAxis(e,t){return bl.copy(e).applyQuaternion(this.quaternion),this.position.add(bl.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(El,e)}translateY(e){return this.translateOnAxis(Tl,e)}translateZ(e){return this.translateOnAxis(Al,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yn.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?$r.copy(e):$r.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),ur.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yn.lookAt(ur,$r,this.up):yn.lookAt($r,ur,this.up),this.quaternion.setFromRotationMatrix(yn),i&&(yn.extractRotation(i.matrixWorld),Si.setFromRotationMatrix(yn),this.quaternion.premultiply(Si.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(kl),wi.child=e,this.dispatchEvent(wi),wi.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(gh),xs.child=e,this.dispatchEvent(xs),xs.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),yn.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yn.multiply(e.parent.matrixWorld)),e.applyMatrix4(yn),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(kl),wi.child=e,this.dispatchEvent(wi),wi.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ur,e,ph),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ur,mh,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){const o=t[n];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++){const a=i[o];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,c){return a[c.uuid]===void 0&&(a[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const c=a.shapes;if(Array.isArray(c))for(let d=0,u=c.length;d<u;d++){const h=c[d];o(e.shapes,h)}else o(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let c=0,d=this.material.length;c<d;c++)a.push(o(e.materials,this.material[c]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const c=this.animations[a];i.animations.push(o(e.animations,c))}}if(t){const a=s(e.geometries),c=s(e.materials),d=s(e.textures),u=s(e.images),h=s(e.shapes),f=s(e.skeletons),m=s(e.animations),_=s(e.nodes);a.length>0&&(n.geometries=a),c.length>0&&(n.materials=c),d.length>0&&(n.textures=d),u.length>0&&(n.images=u),h.length>0&&(n.shapes=h),f.length>0&&(n.skeletons=f),m.length>0&&(n.animations=m),_.length>0&&(n.nodes=_)}return n.object=i,n;function s(a){const c=[];for(const d in a){const u=a[d];delete u.metadata,c.push(u)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}rt.DEFAULT_UP=new A(0,1,0);rt.DEFAULT_MATRIX_AUTO_UPDATE=!0;rt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Yt=new A,Sn=new A,ys=new A,wn=new A,bi=new A,Ei=new A,Rl=new A,Ss=new A,ws=new A,bs=new A;class Qt{constructor(e=new A,t=new A,n=new A){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Yt.subVectors(e,t),i.cross(Yt);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,n,i,o){Yt.subVectors(i,t),Sn.subVectors(n,t),ys.subVectors(e,t);const s=Yt.dot(Yt),a=Yt.dot(Sn),c=Yt.dot(ys),d=Sn.dot(Sn),u=Sn.dot(ys),h=s*d-a*a;if(h===0)return o.set(0,0,0),null;const f=1/h,m=(d*c-a*u)*f,_=(s*u-a*c)*f;return o.set(1-m-_,_,m)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,wn)===null?!1:wn.x>=0&&wn.y>=0&&wn.x+wn.y<=1}static getInterpolation(e,t,n,i,o,s,a,c){return this.getBarycoord(e,t,n,i,wn)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(o,wn.x),c.addScaledVector(s,wn.y),c.addScaledVector(a,wn.z),c)}static isFrontFacing(e,t,n,i){return Yt.subVectors(n,t),Sn.subVectors(e,t),Yt.cross(Sn).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Yt.subVectors(this.c,this.b),Sn.subVectors(this.a,this.b),Yt.cross(Sn).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qt.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qt.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,o){return Qt.getInterpolation(e,this.a,this.b,this.c,t,n,i,o)}containsPoint(e){return Qt.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qt.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,o=this.c;let s,a;bi.subVectors(i,n),Ei.subVectors(o,n),Ss.subVectors(e,n);const c=bi.dot(Ss),d=Ei.dot(Ss);if(c<=0&&d<=0)return t.copy(n);ws.subVectors(e,i);const u=bi.dot(ws),h=Ei.dot(ws);if(u>=0&&h<=u)return t.copy(i);const f=c*h-u*d;if(f<=0&&c>=0&&u<=0)return s=c/(c-u),t.copy(n).addScaledVector(bi,s);bs.subVectors(e,o);const m=bi.dot(bs),_=Ei.dot(bs);if(_>=0&&m<=_)return t.copy(o);const v=m*d-c*_;if(v<=0&&d>=0&&_<=0)return a=d/(d-_),t.copy(n).addScaledVector(Ei,a);const g=u*_-m*h;if(g<=0&&h-u>=0&&m-_>=0)return Rl.subVectors(o,i),a=(h-u)/(h-u+(m-_)),t.copy(i).addScaledVector(Rl,a);const p=1/(g+v+f);return s=v*p,a=f*p,t.copy(n).addScaledVector(bi,s).addScaledVector(Ei,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const n1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vn={h:0,s:0,l:0},Jr={h:0,s:0,l:0};function Es(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}class xe{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=St){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,qe.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=qe.workingColorSpace){return this.r=e,this.g=t,this.b=n,qe.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=qe.workingColorSpace){if(e=fa(e,1),t=vt(t,0,1),n=vt(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,s=2*n-o;this.r=Es(s,o,e+1/3),this.g=Es(s,o,e),this.b=Es(s,o,e-1/3)}return qe.toWorkingColorSpace(this,i),this}setStyle(e,t=St){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=St){const n=n1[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Hi(e.r),this.g=Hi(e.g),this.b=Hi(e.b),this}copyLinearToSRGB(e){return this.r=fs(e.r),this.g=fs(e.g),this.b=fs(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=St){return qe.fromWorkingColorSpace(At.copy(this),e),Math.round(vt(At.r*255,0,255))*65536+Math.round(vt(At.g*255,0,255))*256+Math.round(vt(At.b*255,0,255))}getHexString(e=St){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=qe.workingColorSpace){qe.fromWorkingColorSpace(At.copy(this),t);const n=At.r,i=At.g,o=At.b,s=Math.max(n,i,o),a=Math.min(n,i,o);let c,d;const u=(a+s)/2;if(a===s)c=0,d=0;else{const h=s-a;switch(d=u<=.5?h/(s+a):h/(2-s-a),s){case n:c=(i-o)/h+(i<o?6:0);break;case i:c=(o-n)/h+2;break;case o:c=(n-i)/h+4;break}c/=6}return e.h=c,e.s=d,e.l=u,e}getRGB(e,t=qe.workingColorSpace){return qe.fromWorkingColorSpace(At.copy(this),t),e.r=At.r,e.g=At.g,e.b=At.b,e}getStyle(e=St){qe.fromWorkingColorSpace(At.copy(this),e);const t=At.r,n=At.g,i=At.b;return e!==St?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(Vn),this.setHSL(Vn.h+e,Vn.s+t,Vn.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Vn),e.getHSL(Jr);const n=br(Vn.h,Jr.h,t),i=br(Vn.s,Jr.s,t),o=br(Vn.l,Jr.l,t);return this.setHSL(n,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,o=e.elements;return this.r=o[0]*t+o[3]*n+o[6]*i,this.g=o[1]*t+o[4]*n+o[7]*i,this.b=o[2]*t+o[5]*n+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const At=new xe;xe.NAMES=n1;let _h=0;class nn extends fi{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_h++}),this.uuid=tn(),this.name="",this.type="Material",this.blending=Fi,this.side=fn,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ys,this.blendDst=Ks,this.blendEquation=li,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xe(0,0,0),this.blendAlpha=0,this.depthFunc=Ao,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=gl,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_i,this.stencilZFail=_i,this.stencilZPass=_i,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Fi&&(n.blending=this.blending),this.side!==fn&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Ys&&(n.blendSrc=this.blendSrc),this.blendDst!==Ks&&(n.blendDst=this.blendDst),this.blendEquation!==li&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Ao&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==gl&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==_i&&(n.stencilFail=this.stencilFail),this.stencilZFail!==_i&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==_i&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(o){const s=[];for(const a in o){const c=o[a];delete c.metadata,s.push(c)}return s}if(t){const o=i(e.textures),s=i(e.images);o.length>0&&(n.textures=o),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let o=0;o!==i;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ui extends nn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new on,this.combine=da,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const pt=new A,Qr=new ye;class Et{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=ea,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=un,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return pa("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Qr.fromBufferAttribute(this,t),Qr.applyMatrix3(e),this.setXY(t,Qr.x,Qr.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)pt.fromBufferAttribute(this,t),pt.applyMatrix3(e),this.setXYZ(t,pt.x,pt.y,pt.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)pt.fromBufferAttribute(this,t),pt.applyMatrix4(e),this.setXYZ(t,pt.x,pt.y,pt.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)pt.fromBufferAttribute(this,t),pt.applyNormalMatrix(e),this.setXYZ(t,pt.x,pt.y,pt.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)pt.fromBufferAttribute(this,t),pt.transformDirection(e),this.setXYZ(t,pt.x,pt.y,pt.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Jt(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=$e(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Jt(t,this.array)),t}setX(e,t){return this.normalized&&(t=$e(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Jt(t,this.array)),t}setY(e,t){return this.normalized&&(t=$e(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Jt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=$e(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Jt(t,this.array)),t}setW(e,t){return this.normalized&&(t=$e(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=$e(t,this.array),n=$e(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=$e(t,this.array),n=$e(n,this.array),i=$e(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,o){return e*=this.itemSize,this.normalized&&(t=$e(t,this.array),n=$e(n,this.array),i=$e(i,this.array),o=$e(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ea&&(e.usage=this.usage),e}}class i1 extends Et{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class r1 extends Et{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Wt extends Et{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Ch=0;const zt=new Le,Ts=new rt,Ti=new A,Ht=new rn,hr=new rn,Ct=new A;class Xt extends fi{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ch++}),this.uuid=tn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Qc(e)?r1:i1)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new Oe().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return zt.makeRotationFromQuaternion(e),this.applyMatrix4(zt),this}rotateX(e){return zt.makeRotationX(e),this.applyMatrix4(zt),this}rotateY(e){return zt.makeRotationY(e),this.applyMatrix4(zt),this}rotateZ(e){return zt.makeRotationZ(e),this.applyMatrix4(zt),this}translate(e,t,n){return zt.makeTranslation(e,t,n),this.applyMatrix4(zt),this}scale(e,t,n){return zt.makeScale(e,t,n),this.applyMatrix4(zt),this}lookAt(e){return Ts.lookAt(e),Ts.updateMatrix(),this.applyMatrix4(Ts.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ti).negate(),this.translate(Ti.x,Ti.y,Ti.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Wt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new A(-1/0,-1/0,-1/0),new A(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const o=t[n];Ht.setFromBufferAttribute(o),this.morphTargetsRelative?(Ct.addVectors(this.boundingBox.min,Ht.min),this.boundingBox.expandByPoint(Ct),Ct.addVectors(this.boundingBox.max,Ht.max),this.boundingBox.expandByPoint(Ct)):(this.boundingBox.expandByPoint(Ht.min),this.boundingBox.expandByPoint(Ht.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new jt);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new A,1/0);return}if(e){const n=this.boundingSphere.center;if(Ht.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){const a=t[o];hr.setFromBufferAttribute(a),this.morphTargetsRelative?(Ct.addVectors(Ht.min,hr.min),Ht.expandByPoint(Ct),Ct.addVectors(Ht.max,hr.max),Ht.expandByPoint(Ct)):(Ht.expandByPoint(hr.min),Ht.expandByPoint(hr.max))}Ht.getCenter(n);let i=0;for(let o=0,s=e.count;o<s;o++)Ct.fromBufferAttribute(e,o),i=Math.max(i,n.distanceToSquared(Ct));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],c=this.morphTargetsRelative;for(let d=0,u=a.count;d<u;d++)Ct.fromBufferAttribute(a,d),c&&(Ti.fromBufferAttribute(e,d),Ct.add(Ti)),i=Math.max(i,n.distanceToSquared(Ct))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Et(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),a=[],c=[];for(let I=0;I<n.count;I++)a[I]=new A,c[I]=new A;const d=new A,u=new A,h=new A,f=new ye,m=new ye,_=new ye,v=new A,g=new A;function p(I,b,x){d.fromBufferAttribute(n,I),u.fromBufferAttribute(n,b),h.fromBufferAttribute(n,x),f.fromBufferAttribute(o,I),m.fromBufferAttribute(o,b),_.fromBufferAttribute(o,x),u.sub(d),h.sub(d),m.sub(f),_.sub(f);const L=1/(m.x*_.y-_.x*m.y);isFinite(L)&&(v.copy(u).multiplyScalar(_.y).addScaledVector(h,-m.y).multiplyScalar(L),g.copy(h).multiplyScalar(m.x).addScaledVector(u,-_.x).multiplyScalar(L),a[I].add(v),a[b].add(v),a[x].add(v),c[I].add(g),c[b].add(g),c[x].add(g))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let I=0,b=S.length;I<b;++I){const x=S[I],L=x.start,z=x.count;for(let G=L,K=L+z;G<K;G+=3)p(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const M=new A,E=new A,D=new A,R=new A;function T(I){D.fromBufferAttribute(i,I),R.copy(D);const b=a[I];M.copy(b),M.sub(D.multiplyScalar(D.dot(b))).normalize(),E.crossVectors(R,b);const L=E.dot(c[I])<0?-1:1;s.setXYZW(I,M.x,M.y,M.z,L)}for(let I=0,b=S.length;I<b;++I){const x=S[I],L=x.start,z=x.count;for(let G=L,K=L+z;G<K;G+=3)T(e.getX(G+0)),T(e.getX(G+1)),T(e.getX(G+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Et(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let f=0,m=n.count;f<m;f++)n.setXYZ(f,0,0,0);const i=new A,o=new A,s=new A,a=new A,c=new A,d=new A,u=new A,h=new A;if(e)for(let f=0,m=e.count;f<m;f+=3){const _=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);i.fromBufferAttribute(t,_),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),u.subVectors(s,o),h.subVectors(i,o),u.cross(h),a.fromBufferAttribute(n,_),c.fromBufferAttribute(n,v),d.fromBufferAttribute(n,g),a.add(u),c.add(u),d.add(u),n.setXYZ(_,a.x,a.y,a.z),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(g,d.x,d.y,d.z)}else for(let f=0,m=t.count;f<m;f+=3)i.fromBufferAttribute(t,f+0),o.fromBufferAttribute(t,f+1),s.fromBufferAttribute(t,f+2),u.subVectors(s,o),h.subVectors(i,o),u.cross(h),n.setXYZ(f+0,u.x,u.y,u.z),n.setXYZ(f+1,u.x,u.y,u.z),n.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ct.fromBufferAttribute(e,t),Ct.normalize(),e.setXYZ(t,Ct.x,Ct.y,Ct.z)}toNonIndexed(){function e(a,c){const d=a.array,u=a.itemSize,h=a.normalized,f=new d.constructor(c.length*u);let m=0,_=0;for(let v=0,g=c.length;v<g;v++){a.isInterleavedBufferAttribute?m=c[v]*a.data.stride+a.offset:m=c[v]*u;for(let p=0;p<u;p++)f[_++]=d[m++]}return new Et(f,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Xt,n=this.index.array,i=this.attributes;for(const a in i){const c=i[a],d=e(c,n);t.setAttribute(a,d)}const o=this.morphAttributes;for(const a in o){const c=[],d=o[a];for(let u=0,h=d.length;u<h;u++){const f=d[u],m=e(f,n);c.push(m)}t.morphAttributes[a]=c}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,c=s.length;a<c;a++){const d=s[a];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const c in n){const d=n[c];e.data.attributes[c]=d.toJSON(e.data)}const i={};let o=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],u=[];for(let h=0,f=d.length;h<f;h++){const m=d[h];u.push(m.toJSON(e.data))}u.length>0&&(i[c]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const d in i){const u=i[d];this.setAttribute(d,u.clone(t))}const o=e.morphAttributes;for(const d in o){const u=[],h=o[d];for(let f=0,m=h.length;f<m;f++)u.push(h[f].clone(t));this.morphAttributes[d]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let d=0,u=s.length;d<u;d++){const h=s[d];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ll=new Le,ti=new Fr,eo=new jt,Pl=new A,Ai=new A,ki=new A,Ri=new A,As=new A,to=new A,no=new ye,io=new ye,ro=new ye,Dl=new A,Il=new A,Nl=new A,oo=new A,so=new A;class bt extends rt{constructor(e=new Xt,t=new ui){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,o=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){to.set(0,0,0);for(let c=0,d=o.length;c<d;c++){const u=a[c],h=o[c];u!==0&&(As.fromBufferAttribute(h,e),s?to.addScaledVector(As,u):to.addScaledVector(As.sub(t),u))}t.add(to)}return t}raycast(e,t){const n=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),eo.copy(n.boundingSphere),eo.applyMatrix4(o),ti.copy(e.ray).recast(e.near),!(eo.containsPoint(ti.origin)===!1&&(ti.intersectSphere(eo,Pl)===null||ti.origin.distanceToSquared(Pl)>(e.far-e.near)**2))&&(Ll.copy(o).invert(),ti.copy(e.ray).applyMatrix4(Ll),!(n.boundingBox!==null&&ti.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,ti)))}_computeIntersections(e,t,n){let i;const o=this.geometry,s=this.material,a=o.index,c=o.attributes.position,d=o.attributes.uv,u=o.attributes.uv1,h=o.attributes.normal,f=o.groups,m=o.drawRange;if(a!==null)if(Array.isArray(s))for(let _=0,v=f.length;_<v;_++){const g=f[_],p=s[g.materialIndex],S=Math.max(g.start,m.start),M=Math.min(a.count,Math.min(g.start+g.count,m.start+m.count));for(let E=S,D=M;E<D;E+=3){const R=a.getX(E),T=a.getX(E+1),I=a.getX(E+2);i=ao(this,p,e,n,d,u,h,R,T,I),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const _=Math.max(0,m.start),v=Math.min(a.count,m.start+m.count);for(let g=_,p=v;g<p;g+=3){const S=a.getX(g),M=a.getX(g+1),E=a.getX(g+2);i=ao(this,s,e,n,d,u,h,S,M,E),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}else if(c!==void 0)if(Array.isArray(s))for(let _=0,v=f.length;_<v;_++){const g=f[_],p=s[g.materialIndex],S=Math.max(g.start,m.start),M=Math.min(c.count,Math.min(g.start+g.count,m.start+m.count));for(let E=S,D=M;E<D;E+=3){const R=E,T=E+1,I=E+2;i=ao(this,p,e,n,d,u,h,R,T,I),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const _=Math.max(0,m.start),v=Math.min(c.count,m.start+m.count);for(let g=_,p=v;g<p;g+=3){const S=g,M=g+1,E=g+2;i=ao(this,s,e,n,d,u,h,S,M,E),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}}}function vh(r,e,t,n,i,o,s,a){let c;if(e.side===Dt?c=n.intersectTriangle(s,o,i,!0,a):c=n.intersectTriangle(i,o,s,e.side===fn,a),c===null)return null;so.copy(a),so.applyMatrix4(r.matrixWorld);const d=t.ray.origin.distanceTo(so);return d<t.near||d>t.far?null:{distance:d,point:so.clone(),object:r}}function ao(r,e,t,n,i,o,s,a,c,d){r.getVertexPosition(a,Ai),r.getVertexPosition(c,ki),r.getVertexPosition(d,Ri);const u=vh(r,e,t,n,Ai,ki,Ri,oo);if(u){i&&(no.fromBufferAttribute(i,a),io.fromBufferAttribute(i,c),ro.fromBufferAttribute(i,d),u.uv=Qt.getInterpolation(oo,Ai,ki,Ri,no,io,ro,new ye)),o&&(no.fromBufferAttribute(o,a),io.fromBufferAttribute(o,c),ro.fromBufferAttribute(o,d),u.uv1=Qt.getInterpolation(oo,Ai,ki,Ri,no,io,ro,new ye)),s&&(Dl.fromBufferAttribute(s,a),Il.fromBufferAttribute(s,c),Nl.fromBufferAttribute(s,d),u.normal=Qt.getInterpolation(oo,Ai,ki,Ri,Dl,Il,Nl,new A),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:c,c:d,normal:new A,materialIndex:0};Qt.getNormal(Ai,ki,Ri,h.normal),u.face=h}return u}class or extends Xt{constructor(e=1,t=1,n=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const c=[],d=[],u=[],h=[];let f=0,m=0;_("z","y","x",-1,-1,n,t,e,s,o,0),_("z","y","x",1,-1,n,t,-e,s,o,1),_("x","z","y",1,1,e,n,t,i,s,2),_("x","z","y",1,-1,e,n,-t,i,s,3),_("x","y","z",1,-1,e,t,n,i,o,4),_("x","y","z",-1,-1,e,t,-n,i,o,5),this.setIndex(c),this.setAttribute("position",new Wt(d,3)),this.setAttribute("normal",new Wt(u,3)),this.setAttribute("uv",new Wt(h,2));function _(v,g,p,S,M,E,D,R,T,I,b){const x=E/T,L=D/I,z=E/2,G=D/2,K=R/2,O=T+1,F=I+1;let q=0,W=0;const ne=new A;for(let de=0;de<F;de++){const ue=de*L-G;for(let Te=0;Te<O;Te++){const ke=Te*x-z;ne[v]=ke*S,ne[g]=ue*M,ne[p]=K,d.push(ne.x,ne.y,ne.z),ne[v]=0,ne[g]=0,ne[p]=R>0?1:-1,u.push(ne.x,ne.y,ne.z),h.push(Te/T),h.push(1-de/I),q+=1}}for(let de=0;de<I;de++)for(let ue=0;ue<T;ue++){const Te=f+ue+O*de,ke=f+ue+O*(de+1),Y=f+(ue+1)+O*(de+1),te=f+(ue+1)+O*de;c.push(Te,ke,te),c.push(ke,Y,te),W+=6}a.addGroup(m,W,b),m+=W,f+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new or(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function er(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function Lt(r){const e={};for(let t=0;t<r.length;t++){const n=er(r[t]);for(const i in n)e[i]=n[i]}return e}function Mh(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function o1(r){const e=r.getRenderTarget();return e===null?r.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:qe.workingColorSpace}const No={clone:er,merge:Lt};var xh=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,yh=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class mn extends nn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=xh,this.fragmentShader=yh,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=er(e.uniforms),this.uniformsGroups=Mh(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class s1 extends rt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Le,this.projectionMatrix=new Le,this.projectionMatrixInverse=new Le,this.coordinateSystem=Pn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Bn=new A,Ul=new ye,Fl=new ye;class wt extends s1{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ji*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(wr*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ji*2*Math.atan(Math.tan(wr*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Bn.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Bn.x,Bn.y).multiplyScalar(-e/Bn.z),Bn.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Bn.x,Bn.y).multiplyScalar(-e/Bn.z)}getViewSize(e,t){return this.getViewBounds(e,Ul,Fl),t.subVectors(Fl,Ul)}setViewOffset(e,t,n,i,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(wr*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const c=s.fullWidth,d=s.fullHeight;o+=s.offsetX*i/c,t-=s.offsetY*n/d,i*=s.width/c,n*=s.height/d}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Li=-90,Pi=1;class Sh extends rt{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new wt(Li,Pi,e,t);i.layers=this.layers,this.add(i);const o=new wt(Li,Pi,e,t);o.layers=this.layers,this.add(o);const s=new wt(Li,Pi,e,t);s.layers=this.layers,this.add(s);const a=new wt(Li,Pi,e,t);a.layers=this.layers,this.add(a);const c=new wt(Li,Pi,e,t);c.layers=this.layers,this.add(c);const d=new wt(Li,Pi,e,t);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,o,s,a,c]=t;for(const d of t)this.remove(d);if(e===Pn)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Io)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of t)this.add(d),d.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,c,d,u]=this.children,h=e.getRenderTarget(),f=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,o),e.setRenderTarget(n,1,i),e.render(t,s),e.setRenderTarget(n,2,i),e.render(t,a),e.setRenderTarget(n,3,i),e.render(t,c),e.setRenderTarget(n,4,i),e.render(t,d),n.texture.generateMipmaps=v,e.setRenderTarget(n,5,i),e.render(t,u),e.setRenderTarget(h,f,m),e.xr.enabled=_,n.texture.needsPMREMUpdate=!0}}class a1 extends xt{constructor(e,t,n,i,o,s,a,c,d,u){e=e!==void 0?e:[],t=t!==void 0?t:Zi,super(e,t,n,i,o,s,a,c,d,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class wh extends Yn{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new a1(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Vt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new or(5,5,5),o=new mn({name:"CubemapFromEquirect",uniforms:er(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Dt,blending:Xn});o.uniforms.tEquirect.value=t;const s=new bt(i,o),a=t.minFilter;return t.minFilter===Ln&&(t.minFilter=Vt),new Sh(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,i);e.setRenderTarget(o)}}const ks=new A,bh=new A,Eh=new Oe;class ln{constructor(e=new A(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=ks.subVectors(n,t).cross(bh.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(ks),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(e.start).addScaledVector(n,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Eh.getNormalMatrix(e),i=this.coplanarPoint(ks).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ni=new jt,lo=new A;class ga{constructor(e=new ln,t=new ln,n=new ln,i=new ln,o=new ln,s=new ln){this.planes=[e,t,n,i,o,s]}set(e,t,n,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Pn){const n=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],c=i[3],d=i[4],u=i[5],h=i[6],f=i[7],m=i[8],_=i[9],v=i[10],g=i[11],p=i[12],S=i[13],M=i[14],E=i[15];if(n[0].setComponents(c-o,f-d,g-m,E-p).normalize(),n[1].setComponents(c+o,f+d,g+m,E+p).normalize(),n[2].setComponents(c+s,f+u,g+_,E+S).normalize(),n[3].setComponents(c-s,f-u,g-_,E-S).normalize(),n[4].setComponents(c-a,f-h,g-v,E-M).normalize(),t===Pn)n[5].setComponents(c+a,f+h,g+v,E+M).normalize();else if(t===Io)n[5].setComponents(a,h,v,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ni.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),ni.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ni)}intersectsSprite(e){return ni.center.set(0,0,0),ni.radius=.7071067811865476,ni.applyMatrix4(e.matrixWorld),this.intersectsSphere(ni)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(lo.x=i.normal.x>0?e.max.x:e.min.x,lo.y=i.normal.y>0?e.max.y:e.min.y,lo.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(lo)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function l1(){let r=null,e=!1,t=null,n=null;function i(o,s){t(o,s),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){r=o}}}function Th(r){const e=new WeakMap;function t(a,c){const d=a.array,u=a.usage,h=d.byteLength,f=r.createBuffer();r.bindBuffer(c,f),r.bufferData(c,d,u),a.onUploadCallback();let m;if(d instanceof Float32Array)m=r.FLOAT;else if(d instanceof Uint16Array)a.isFloat16BufferAttribute?m=r.HALF_FLOAT:m=r.UNSIGNED_SHORT;else if(d instanceof Int16Array)m=r.SHORT;else if(d instanceof Uint32Array)m=r.UNSIGNED_INT;else if(d instanceof Int32Array)m=r.INT;else if(d instanceof Int8Array)m=r.BYTE;else if(d instanceof Uint8Array)m=r.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)m=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:f,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:a.version,size:h}}function n(a,c,d){const u=c.array,h=c._updateRange,f=c.updateRanges;if(r.bindBuffer(d,a),h.count===-1&&f.length===0&&r.bufferSubData(d,0,u),f.length!==0){for(let m=0,_=f.length;m<_;m++){const v=f[m];r.bufferSubData(d,v.start*u.BYTES_PER_ELEMENT,u,v.start,v.count)}c.clearUpdateRanges()}h.count!==-1&&(r.bufferSubData(d,h.offset*u.BYTES_PER_ELEMENT,u,h.offset,h.count),h.count=-1),c.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);c&&(r.deleteBuffer(c.buffer),e.delete(a))}function s(a,c){if(a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const d=e.get(a);if(d===void 0)e.set(a,t(a,c));else if(d.version<a.version){if(d.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(d.buffer,a,c),d.version=a.version}}return{get:i,remove:o,update:s}}class Or extends Xt{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const o=e/2,s=t/2,a=Math.floor(n),c=Math.floor(i),d=a+1,u=c+1,h=e/a,f=t/c,m=[],_=[],v=[],g=[];for(let p=0;p<u;p++){const S=p*f-s;for(let M=0;M<d;M++){const E=M*h-o;_.push(E,-S,0),v.push(0,0,1),g.push(M/a),g.push(1-p/c)}}for(let p=0;p<c;p++)for(let S=0;S<a;S++){const M=S+d*p,E=S+d*(p+1),D=S+1+d*(p+1),R=S+1+d*p;m.push(M,E,R),m.push(E,D,R)}this.setIndex(m),this.setAttribute("position",new Wt(_,3)),this.setAttribute("normal",new Wt(v,3)),this.setAttribute("uv",new Wt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Or(e.width,e.height,e.widthSegments,e.heightSegments)}}var Ah=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,kh=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Rh=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Lh=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ph=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Dh=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ih=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Nh=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Uh=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Fh=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Oh=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Hh=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Vh=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Bh=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,zh=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Gh=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Wh=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,jh=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Xh=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Zh=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,qh=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Yh=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Kh=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,$h=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Jh=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Qh=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,e2=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,t2=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,n2=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,i2=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,r2="gl_FragColor = linearToOutputTexel( gl_FragColor );",o2=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,s2=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,a2=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,l2=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,c2=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,d2=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,u2=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,h2=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,f2=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,p2=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,m2=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,g2=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,_2=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,C2=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,v2=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,M2=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,x2=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,y2=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,S2=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,w2=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,b2=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,E2=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,T2=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,A2=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,k2=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,R2=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,L2=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,P2=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,D2=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,I2=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,N2=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,U2=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,F2=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,O2=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,H2=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,V2=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,B2=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,z2=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,G2=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,W2=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,j2=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,X2=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Z2=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,q2=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Y2=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,K2=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$2=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,J2=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Q2=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,e0=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,t0=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,n0=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,i0=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,r0=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,o0=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,s0=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,a0=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,l0=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,c0=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,d0=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,u0=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,h0=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,f0=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,p0=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,m0=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,g0=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_0=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,C0=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,v0=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,M0=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,x0=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,y0=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,S0=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,w0=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,b0=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,E0=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const T0=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,A0=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,k0=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,R0=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,L0=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,P0=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,D0=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,I0=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,N0=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,U0=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,F0=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,O0=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,H0=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,V0=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,B0=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,z0=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,G0=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,W0=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,j0=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,X0=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Z0=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,q0=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Y0=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,K0=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$0=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,J0=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Q0=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ef=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tf=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,nf=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rf=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,of=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sf=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,af=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Fe={alphahash_fragment:Ah,alphahash_pars_fragment:kh,alphamap_fragment:Rh,alphamap_pars_fragment:Lh,alphatest_fragment:Ph,alphatest_pars_fragment:Dh,aomap_fragment:Ih,aomap_pars_fragment:Nh,batching_pars_vertex:Uh,batching_vertex:Fh,begin_vertex:Oh,beginnormal_vertex:Hh,bsdfs:Vh,iridescence_fragment:Bh,bumpmap_pars_fragment:zh,clipping_planes_fragment:Gh,clipping_planes_pars_fragment:Wh,clipping_planes_pars_vertex:jh,clipping_planes_vertex:Xh,color_fragment:Zh,color_pars_fragment:qh,color_pars_vertex:Yh,color_vertex:Kh,common:$h,cube_uv_reflection_fragment:Jh,defaultnormal_vertex:Qh,displacementmap_pars_vertex:e2,displacementmap_vertex:t2,emissivemap_fragment:n2,emissivemap_pars_fragment:i2,colorspace_fragment:r2,colorspace_pars_fragment:o2,envmap_fragment:s2,envmap_common_pars_fragment:a2,envmap_pars_fragment:l2,envmap_pars_vertex:c2,envmap_physical_pars_fragment:M2,envmap_vertex:d2,fog_vertex:u2,fog_pars_vertex:h2,fog_fragment:f2,fog_pars_fragment:p2,gradientmap_pars_fragment:m2,lightmap_pars_fragment:g2,lights_lambert_fragment:_2,lights_lambert_pars_fragment:C2,lights_pars_begin:v2,lights_toon_fragment:x2,lights_toon_pars_fragment:y2,lights_phong_fragment:S2,lights_phong_pars_fragment:w2,lights_physical_fragment:b2,lights_physical_pars_fragment:E2,lights_fragment_begin:T2,lights_fragment_maps:A2,lights_fragment_end:k2,logdepthbuf_fragment:R2,logdepthbuf_pars_fragment:L2,logdepthbuf_pars_vertex:P2,logdepthbuf_vertex:D2,map_fragment:I2,map_pars_fragment:N2,map_particle_fragment:U2,map_particle_pars_fragment:F2,metalnessmap_fragment:O2,metalnessmap_pars_fragment:H2,morphinstance_vertex:V2,morphcolor_vertex:B2,morphnormal_vertex:z2,morphtarget_pars_vertex:G2,morphtarget_vertex:W2,normal_fragment_begin:j2,normal_fragment_maps:X2,normal_pars_fragment:Z2,normal_pars_vertex:q2,normal_vertex:Y2,normalmap_pars_fragment:K2,clearcoat_normal_fragment_begin:$2,clearcoat_normal_fragment_maps:J2,clearcoat_pars_fragment:Q2,iridescence_pars_fragment:e0,opaque_fragment:t0,packing:n0,premultiplied_alpha_fragment:i0,project_vertex:r0,dithering_fragment:o0,dithering_pars_fragment:s0,roughnessmap_fragment:a0,roughnessmap_pars_fragment:l0,shadowmap_pars_fragment:c0,shadowmap_pars_vertex:d0,shadowmap_vertex:u0,shadowmask_pars_fragment:h0,skinbase_vertex:f0,skinning_pars_vertex:p0,skinning_vertex:m0,skinnormal_vertex:g0,specularmap_fragment:_0,specularmap_pars_fragment:C0,tonemapping_fragment:v0,tonemapping_pars_fragment:M0,transmission_fragment:x0,transmission_pars_fragment:y0,uv_pars_fragment:S0,uv_pars_vertex:w0,uv_vertex:b0,worldpos_vertex:E0,background_vert:T0,background_frag:A0,backgroundCube_vert:k0,backgroundCube_frag:R0,cube_vert:L0,cube_frag:P0,depth_vert:D0,depth_frag:I0,distanceRGBA_vert:N0,distanceRGBA_frag:U0,equirect_vert:F0,equirect_frag:O0,linedashed_vert:H0,linedashed_frag:V0,meshbasic_vert:B0,meshbasic_frag:z0,meshlambert_vert:G0,meshlambert_frag:W0,meshmatcap_vert:j0,meshmatcap_frag:X0,meshnormal_vert:Z0,meshnormal_frag:q0,meshphong_vert:Y0,meshphong_frag:K0,meshphysical_vert:$0,meshphysical_frag:J0,meshtoon_vert:Q0,meshtoon_frag:ef,points_vert:tf,points_frag:nf,shadow_vert:rf,shadow_frag:of,sprite_vert:sf,sprite_frag:af},oe={common:{diffuse:{value:new xe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Oe},alphaMap:{value:null},alphaMapTransform:{value:new Oe},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Oe}},envmap:{envMap:{value:null},envMapRotation:{value:new Oe},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Oe}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Oe}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Oe},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Oe},normalScale:{value:new ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Oe},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Oe}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Oe}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Oe}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Oe},alphaTest:{value:0},uvTransform:{value:new Oe}},sprite:{diffuse:{value:new xe(16777215)},opacity:{value:1},center:{value:new ye(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Oe},alphaMap:{value:null},alphaMapTransform:{value:new Oe},alphaTest:{value:0}}},cn={basic:{uniforms:Lt([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.fog]),vertexShader:Fe.meshbasic_vert,fragmentShader:Fe.meshbasic_frag},lambert:{uniforms:Lt([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,oe.lights,{emissive:{value:new xe(0)}}]),vertexShader:Fe.meshlambert_vert,fragmentShader:Fe.meshlambert_frag},phong:{uniforms:Lt([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,oe.lights,{emissive:{value:new xe(0)},specular:{value:new xe(1118481)},shininess:{value:30}}]),vertexShader:Fe.meshphong_vert,fragmentShader:Fe.meshphong_frag},standard:{uniforms:Lt([oe.common,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.roughnessmap,oe.metalnessmap,oe.fog,oe.lights,{emissive:{value:new xe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Fe.meshphysical_vert,fragmentShader:Fe.meshphysical_frag},toon:{uniforms:Lt([oe.common,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.gradientmap,oe.fog,oe.lights,{emissive:{value:new xe(0)}}]),vertexShader:Fe.meshtoon_vert,fragmentShader:Fe.meshtoon_frag},matcap:{uniforms:Lt([oe.common,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,{matcap:{value:null}}]),vertexShader:Fe.meshmatcap_vert,fragmentShader:Fe.meshmatcap_frag},points:{uniforms:Lt([oe.points,oe.fog]),vertexShader:Fe.points_vert,fragmentShader:Fe.points_frag},dashed:{uniforms:Lt([oe.common,oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Fe.linedashed_vert,fragmentShader:Fe.linedashed_frag},depth:{uniforms:Lt([oe.common,oe.displacementmap]),vertexShader:Fe.depth_vert,fragmentShader:Fe.depth_frag},normal:{uniforms:Lt([oe.common,oe.bumpmap,oe.normalmap,oe.displacementmap,{opacity:{value:1}}]),vertexShader:Fe.meshnormal_vert,fragmentShader:Fe.meshnormal_frag},sprite:{uniforms:Lt([oe.sprite,oe.fog]),vertexShader:Fe.sprite_vert,fragmentShader:Fe.sprite_frag},background:{uniforms:{uvTransform:{value:new Oe},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Fe.background_vert,fragmentShader:Fe.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Oe}},vertexShader:Fe.backgroundCube_vert,fragmentShader:Fe.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Fe.cube_vert,fragmentShader:Fe.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Fe.equirect_vert,fragmentShader:Fe.equirect_frag},distanceRGBA:{uniforms:Lt([oe.common,oe.displacementmap,{referencePosition:{value:new A},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Fe.distanceRGBA_vert,fragmentShader:Fe.distanceRGBA_frag},shadow:{uniforms:Lt([oe.lights,oe.fog,{color:{value:new xe(0)},opacity:{value:1}}]),vertexShader:Fe.shadow_vert,fragmentShader:Fe.shadow_frag}};cn.physical={uniforms:Lt([cn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Oe},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Oe},clearcoatNormalScale:{value:new ye(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Oe},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Oe},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Oe},sheen:{value:0},sheenColor:{value:new xe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Oe},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Oe},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Oe},transmissionSamplerSize:{value:new ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Oe},attenuationDistance:{value:0},attenuationColor:{value:new xe(0)},specularColor:{value:new xe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Oe},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Oe},anisotropyVector:{value:new ye},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Oe}}]),vertexShader:Fe.meshphysical_vert,fragmentShader:Fe.meshphysical_frag};const co={r:0,b:0,g:0},ii=new on,lf=new Le;function cf(r,e,t,n,i,o,s){const a=new xe(0);let c=o===!0?0:1,d,u,h=null,f=0,m=null;function _(S){let M=S.isScene===!0?S.background:null;return M&&M.isTexture&&(M=(S.backgroundBlurriness>0?t:e).get(M)),M}function v(S){let M=!1;const E=_(S);E===null?p(a,c):E&&E.isColor&&(p(E,1),M=!0);const D=r.xr.getEnvironmentBlendMode();D==="additive"?n.buffers.color.setClear(0,0,0,1,s):D==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,s),(r.autoClear||M)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))}function g(S,M){const E=_(M);E&&(E.isCubeTexture||E.mapping===qo)?(u===void 0&&(u=new bt(new or(1,1,1),new mn({name:"BackgroundCubeMaterial",uniforms:er(cn.backgroundCube.uniforms),vertexShader:cn.backgroundCube.vertexShader,fragmentShader:cn.backgroundCube.fragmentShader,side:Dt,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(D,R,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),ii.copy(M.backgroundRotation),ii.x*=-1,ii.y*=-1,ii.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(ii.y*=-1,ii.z*=-1),u.material.uniforms.envMap.value=E,u.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(lf.makeRotationFromEuler(ii)),u.material.toneMapped=qe.getTransfer(E.colorSpace)!==it,(h!==E||f!==E.version||m!==r.toneMapping)&&(u.material.needsUpdate=!0,h=E,f=E.version,m=r.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null)):E&&E.isTexture&&(d===void 0&&(d=new bt(new Or(2,2),new mn({name:"BackgroundMaterial",uniforms:er(cn.background.uniforms),vertexShader:cn.background.vertexShader,fragmentShader:cn.background.fragmentShader,side:fn,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(d)),d.material.uniforms.t2D.value=E,d.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,d.material.toneMapped=qe.getTransfer(E.colorSpace)!==it,E.matrixAutoUpdate===!0&&E.updateMatrix(),d.material.uniforms.uvTransform.value.copy(E.matrix),(h!==E||f!==E.version||m!==r.toneMapping)&&(d.material.needsUpdate=!0,h=E,f=E.version,m=r.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null))}function p(S,M){S.getRGB(co,o1(r)),n.buffers.color.setClear(co.r,co.g,co.b,M,s)}return{getClearColor:function(){return a},setClearColor:function(S,M=1){a.set(S),c=M,p(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(S){c=S,p(a,c)},render:v,addToRenderList:g}}function df(r,e){const t=r.getParameter(r.MAX_VERTEX_ATTRIBS),n={},i=f(null);let o=i,s=!1;function a(x,L,z,G,K){let O=!1;const F=h(G,z,L);o!==F&&(o=F,d(o.object)),O=m(x,G,z,K),O&&_(x,G,z,K),K!==null&&e.update(K,r.ELEMENT_ARRAY_BUFFER),(O||s)&&(s=!1,E(x,L,z,G),K!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function c(){return r.createVertexArray()}function d(x){return r.bindVertexArray(x)}function u(x){return r.deleteVertexArray(x)}function h(x,L,z){const G=z.wireframe===!0;let K=n[x.id];K===void 0&&(K={},n[x.id]=K);let O=K[L.id];O===void 0&&(O={},K[L.id]=O);let F=O[G];return F===void 0&&(F=f(c()),O[G]=F),F}function f(x){const L=[],z=[],G=[];for(let K=0;K<t;K++)L[K]=0,z[K]=0,G[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:L,enabledAttributes:z,attributeDivisors:G,object:x,attributes:{},index:null}}function m(x,L,z,G){const K=o.attributes,O=L.attributes;let F=0;const q=z.getAttributes();for(const W in q)if(q[W].location>=0){const de=K[W];let ue=O[W];if(ue===void 0&&(W==="instanceMatrix"&&x.instanceMatrix&&(ue=x.instanceMatrix),W==="instanceColor"&&x.instanceColor&&(ue=x.instanceColor)),de===void 0||de.attribute!==ue||ue&&de.data!==ue.data)return!0;F++}return o.attributesNum!==F||o.index!==G}function _(x,L,z,G){const K={},O=L.attributes;let F=0;const q=z.getAttributes();for(const W in q)if(q[W].location>=0){let de=O[W];de===void 0&&(W==="instanceMatrix"&&x.instanceMatrix&&(de=x.instanceMatrix),W==="instanceColor"&&x.instanceColor&&(de=x.instanceColor));const ue={};ue.attribute=de,de&&de.data&&(ue.data=de.data),K[W]=ue,F++}o.attributes=K,o.attributesNum=F,o.index=G}function v(){const x=o.newAttributes;for(let L=0,z=x.length;L<z;L++)x[L]=0}function g(x){p(x,0)}function p(x,L){const z=o.newAttributes,G=o.enabledAttributes,K=o.attributeDivisors;z[x]=1,G[x]===0&&(r.enableVertexAttribArray(x),G[x]=1),K[x]!==L&&(r.vertexAttribDivisor(x,L),K[x]=L)}function S(){const x=o.newAttributes,L=o.enabledAttributes;for(let z=0,G=L.length;z<G;z++)L[z]!==x[z]&&(r.disableVertexAttribArray(z),L[z]=0)}function M(x,L,z,G,K,O,F){F===!0?r.vertexAttribIPointer(x,L,z,K,O):r.vertexAttribPointer(x,L,z,G,K,O)}function E(x,L,z,G){v();const K=G.attributes,O=z.getAttributes(),F=L.defaultAttributeValues;for(const q in O){const W=O[q];if(W.location>=0){let ne=K[q];if(ne===void 0&&(q==="instanceMatrix"&&x.instanceMatrix&&(ne=x.instanceMatrix),q==="instanceColor"&&x.instanceColor&&(ne=x.instanceColor)),ne!==void 0){const de=ne.normalized,ue=ne.itemSize,Te=e.get(ne);if(Te===void 0)continue;const ke=Te.buffer,Y=Te.type,te=Te.bytesPerElement,fe=Y===r.INT||Y===r.UNSIGNED_INT||ne.gpuType===Wc;if(ne.isInterleavedBufferAttribute){const le=ne.data,He=le.stride,Pe=ne.offset;if(le.isInstancedInterleavedBuffer){for(let We=0;We<W.locationSize;We++)p(W.location+We,le.meshPerAttribute);x.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let We=0;We<W.locationSize;We++)g(W.location+We);r.bindBuffer(r.ARRAY_BUFFER,ke);for(let We=0;We<W.locationSize;We++)M(W.location+We,ue/W.locationSize,Y,de,He*te,(Pe+ue/W.locationSize*We)*te,fe)}else{if(ne.isInstancedBufferAttribute){for(let le=0;le<W.locationSize;le++)p(W.location+le,ne.meshPerAttribute);x.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let le=0;le<W.locationSize;le++)g(W.location+le);r.bindBuffer(r.ARRAY_BUFFER,ke);for(let le=0;le<W.locationSize;le++)M(W.location+le,ue/W.locationSize,Y,de,ue*te,ue/W.locationSize*le*te,fe)}}else if(F!==void 0){const de=F[q];if(de!==void 0)switch(de.length){case 2:r.vertexAttrib2fv(W.location,de);break;case 3:r.vertexAttrib3fv(W.location,de);break;case 4:r.vertexAttrib4fv(W.location,de);break;default:r.vertexAttrib1fv(W.location,de)}}}}S()}function D(){I();for(const x in n){const L=n[x];for(const z in L){const G=L[z];for(const K in G)u(G[K].object),delete G[K];delete L[z]}delete n[x]}}function R(x){if(n[x.id]===void 0)return;const L=n[x.id];for(const z in L){const G=L[z];for(const K in G)u(G[K].object),delete G[K];delete L[z]}delete n[x.id]}function T(x){for(const L in n){const z=n[L];if(z[x.id]===void 0)continue;const G=z[x.id];for(const K in G)u(G[K].object),delete G[K];delete z[x.id]}}function I(){b(),s=!0,o!==i&&(o=i,d(o.object))}function b(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:I,resetDefaultState:b,dispose:D,releaseStatesOfGeometry:R,releaseStatesOfProgram:T,initAttributes:v,enableAttribute:g,disableUnusedAttributes:S}}function uf(r,e,t){let n;function i(d){n=d}function o(d,u){r.drawArrays(n,d,u),t.update(u,n,1)}function s(d,u,h){h!==0&&(r.drawArraysInstanced(n,d,u,h),t.update(u,n,h))}function a(d,u,h){if(h===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let m=0;m<h;m++)this.render(d[m],u[m]);else{f.multiDrawArraysWEBGL(n,d,0,u,0,h);let m=0;for(let _=0;_<h;_++)m+=u[_];t.update(m,n,1)}}function c(d,u,h,f){if(h===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let _=0;_<d.length;_++)s(d[_],u[_],f[_]);else{m.multiDrawArraysInstancedWEBGL(n,d,0,u,0,f,0,h);let _=0;for(let v=0;v<h;v++)_+=u[v];for(let v=0;v<f.length;v++)t.update(_,n,f[v])}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=c}function hf(r,e,t,n){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=r.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){return!(R!==en&&n.convert(R)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(R){const T=R===Yo&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(R!==qn&&n.convert(R)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&R!==un&&!T)}function c(R){if(R==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=t.precision!==void 0?t.precision:"highp";const u=c(d);u!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",u,"instead."),d=u);const h=t.logarithmicDepthBuffer===!0,f=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),m=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=r.getParameter(r.MAX_TEXTURE_SIZE),v=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),g=r.getParameter(r.MAX_VERTEX_ATTRIBS),p=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),S=r.getParameter(r.MAX_VARYING_VECTORS),M=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),E=m>0,D=r.getParameter(r.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:c,textureFormatReadable:s,textureTypeReadable:a,precision:d,logarithmicDepthBuffer:h,maxTextures:f,maxVertexTextures:m,maxTextureSize:_,maxCubemapSize:v,maxAttributes:g,maxVertexUniforms:p,maxVaryings:S,maxFragmentUniforms:M,vertexTextures:E,maxSamples:D}}function ff(r){const e=this;let t=null,n=0,i=!1,o=!1;const s=new ln,a=new Oe,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const m=h.length!==0||f||n!==0||i;return i=f,n=h.length,m},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(h,f){t=u(h,f,0)},this.setState=function(h,f,m){const _=h.clippingPlanes,v=h.clipIntersection,g=h.clipShadows,p=r.get(h);if(!i||_===null||_.length===0||o&&!g)o?u(null):d();else{const S=o?0:n,M=S*4;let E=p.clippingState||null;c.value=E,E=u(_,f,M,m);for(let D=0;D!==M;++D)E[D]=t[D];p.clippingState=E,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=S}};function d(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(h,f,m,_){const v=h!==null?h.length:0;let g=null;if(v!==0){if(g=c.value,_!==!0||g===null){const p=m+v*4,S=f.matrixWorldInverse;a.getNormalMatrix(S),(g===null||g.length<p)&&(g=new Float32Array(p));for(let M=0,E=m;M!==v;++M,E+=4)s.copy(h[M]).applyMatrix4(S,a),s.normal.toArray(g,E),g[E+3]=s.constant}c.value=g,c.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,g}}function pf(r){let e=new WeakMap;function t(s,a){return a===$s?s.mapping=Zi:a===Js&&(s.mapping=qi),s}function n(s){if(s&&s.isTexture){const a=s.mapping;if(a===$s||a===Js)if(e.has(s)){const c=e.get(s).texture;return t(c,s.mapping)}else{const c=s.image;if(c&&c.height>0){const d=new wh(c.height);return d.fromEquirectangularTexture(r,s),e.set(s,d),s.addEventListener("dispose",i),t(d.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const c=e.get(a);c!==void 0&&(e.delete(a),c.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}class _a extends s1{constructor(e=-1,t=1,n=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=n-e,s=n+e,a=i+t,c=i-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=d*this.view.offsetX,s=o+d*this.view.width,a-=u*this.view.offsetY,c=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Ui=4,Ol=[.125,.215,.35,.446,.526,.582],ci=20,Rs=new _a,Hl=new xe;let Ls=null,Ps=0,Ds=0,Is=!1;const ai=(1+Math.sqrt(5))/2,Di=1/ai,Vl=[new A(-ai,Di,0),new A(ai,Di,0),new A(-Di,0,ai),new A(Di,0,ai),new A(0,ai,-Di),new A(0,ai,Di),new A(-1,1,-1),new A(1,1,-1),new A(-1,1,1),new A(1,1,1)];class ta{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){Ls=this._renderer.getRenderTarget(),Ps=this._renderer.getActiveCubeFace(),Ds=this._renderer.getActiveMipmapLevel(),Is=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Gl(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=zl(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ls,Ps,Ds),this._renderer.xr.enabled=Is,e.scissorTest=!1,uo(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Zi||e.mapping===qi?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ls=this._renderer.getRenderTarget(),Ps=this._renderer.getActiveCubeFace(),Ds=this._renderer.getActiveMipmapLevel(),Is=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Vt,minFilter:Vt,generateMipmaps:!1,type:Yo,format:en,colorSpace:yt,depthBuffer:!1},i=Bl(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Bl(e,t,n);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=mf(o)),this._blurMaterial=gf(o,e,t)}return i}_compileMaterial(e){const t=new bt(this._lodPlanes[0],e);this._renderer.compile(t,Rs)}_sceneToCubeUV(e,t,n,i){const a=new wt(90,1,t,n),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(Hl),u.toneMapping=Zn,u.autoClear=!1;const m=new ui({name:"PMREM.Background",side:Dt,depthWrite:!1,depthTest:!1}),_=new bt(new or,m);let v=!1;const g=e.background;g?g.isColor&&(m.color.copy(g),e.background=null,v=!0):(m.color.copy(Hl),v=!0);for(let p=0;p<6;p++){const S=p%3;S===0?(a.up.set(0,c[p],0),a.lookAt(d[p],0,0)):S===1?(a.up.set(0,0,c[p]),a.lookAt(0,d[p],0)):(a.up.set(0,c[p],0),a.lookAt(0,0,d[p]));const M=this._cubeSize;uo(i,S*M,p>2?M:0,M,M),u.setRenderTarget(i),v&&u.render(_,a),u.render(e,a)}_.geometry.dispose(),_.material.dispose(),u.toneMapping=f,u.autoClear=h,e.background=g}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Zi||e.mapping===qi;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Gl()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=zl());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new bt(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const c=this._cubeSize;uo(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(s,Rs)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=Vl[(i-o-1)%Vl.length];this._blur(e,o-1,o,s,a)}t.autoClear=n}_blur(e,t,n,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,i,"latitudinal",o),this._halfBlur(s,e,n,n,i,"longitudinal",o)}_halfBlur(e,t,n,i,o,s,a){const c=this._renderer,d=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new bt(this._lodPlanes[i],d),f=d.uniforms,m=this._sizeLods[n]-1,_=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*ci-1),v=o/_,g=isFinite(o)?1+Math.floor(u*v):ci;g>ci&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${ci}`);const p=[];let S=0;for(let T=0;T<ci;++T){const I=T/v,b=Math.exp(-I*I/2);p.push(b),T===0?S+=b:T<g&&(S+=2*b)}for(let T=0;T<p.length;T++)p[T]=p[T]/S;f.envMap.value=e.texture,f.samples.value=g,f.weights.value=p,f.latitudinal.value=s==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:M}=this;f.dTheta.value=_,f.mipInt.value=M-n;const E=this._sizeLods[i],D=3*E*(i>M-Ui?i-M+Ui:0),R=4*(this._cubeSize-E);uo(t,D,R,3*E,2*E),c.setRenderTarget(t),c.render(h,Rs)}}function mf(r){const e=[],t=[],n=[];let i=r;const o=r-Ui+1+Ol.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);t.push(a);let c=1/a;s>r-Ui?c=Ol[s-r+Ui-1]:s===0&&(c=0),n.push(c);const d=1/(a-2),u=-d,h=1+d,f=[u,u,h,u,h,h,u,u,h,h,u,h],m=6,_=6,v=3,g=2,p=1,S=new Float32Array(v*_*m),M=new Float32Array(g*_*m),E=new Float32Array(p*_*m);for(let R=0;R<m;R++){const T=R%3*2/3-1,I=R>2?0:-1,b=[T,I,0,T+2/3,I,0,T+2/3,I+1,0,T,I,0,T+2/3,I+1,0,T,I+1,0];S.set(b,v*_*R),M.set(f,g*_*R);const x=[R,R,R,R,R,R];E.set(x,p*_*R)}const D=new Xt;D.setAttribute("position",new Et(S,v)),D.setAttribute("uv",new Et(M,g)),D.setAttribute("faceIndex",new Et(E,p)),e.push(D),i>Ui&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function Bl(r,e,t){const n=new Yn(r,e,t);return n.texture.mapping=qo,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function uo(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function gf(r,e,t){const n=new Float32Array(ci),i=new A(0,1,0);return new mn({name:"SphericalGaussianBlur",defines:{n:ci,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Ca(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Xn,depthTest:!1,depthWrite:!1})}function zl(){return new mn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Ca(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Xn,depthTest:!1,depthWrite:!1})}function Gl(){return new mn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Ca(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Xn,depthTest:!1,depthWrite:!1})}function Ca(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function _f(r){let e=new WeakMap,t=null;function n(a){if(a&&a.isTexture){const c=a.mapping,d=c===$s||c===Js,u=c===Zi||c===qi;if(d||u){let h=e.get(a);const f=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return t===null&&(t=new ta(r)),h=d?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const m=a.image;return d&&m&&m.height>0||u&&m&&i(m)?(t===null&&(t=new ta(r)),h=d?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",o),h.texture):null}}}return a}function i(a){let c=0;const d=6;for(let u=0;u<d;u++)a[u]!==void 0&&c++;return c===d}function o(a){const c=a.target;c.removeEventListener("dispose",o);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:s}}function Cf(r){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const i=t(n);return i===null&&pa("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function vf(r,e,t,n){const i={},o=new WeakMap;function s(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const _ in f.attributes)e.remove(f.attributes[_]);for(const _ in f.morphAttributes){const v=f.morphAttributes[_];for(let g=0,p=v.length;g<p;g++)e.remove(v[g])}f.removeEventListener("dispose",s),delete i[f.id];const m=o.get(f);m&&(e.remove(m),o.delete(f)),n.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(h,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,t.memory.geometries++),f}function c(h){const f=h.attributes;for(const _ in f)e.update(f[_],r.ARRAY_BUFFER);const m=h.morphAttributes;for(const _ in m){const v=m[_];for(let g=0,p=v.length;g<p;g++)e.update(v[g],r.ARRAY_BUFFER)}}function d(h){const f=[],m=h.index,_=h.attributes.position;let v=0;if(m!==null){const S=m.array;v=m.version;for(let M=0,E=S.length;M<E;M+=3){const D=S[M+0],R=S[M+1],T=S[M+2];f.push(D,R,R,T,T,D)}}else if(_!==void 0){const S=_.array;v=_.version;for(let M=0,E=S.length/3-1;M<E;M+=3){const D=M+0,R=M+1,T=M+2;f.push(D,R,R,T,T,D)}}else return;const g=new(Qc(f)?r1:i1)(f,1);g.version=v;const p=o.get(h);p&&e.remove(p),o.set(h,g)}function u(h){const f=o.get(h);if(f){const m=h.index;m!==null&&f.version<m.version&&d(h)}else d(h);return o.get(h)}return{get:a,update:c,getWireframeAttribute:u}}function Mf(r,e,t){let n;function i(f){n=f}let o,s;function a(f){o=f.type,s=f.bytesPerElement}function c(f,m){r.drawElements(n,m,o,f*s),t.update(m,n,1)}function d(f,m,_){_!==0&&(r.drawElementsInstanced(n,m,o,f*s,_),t.update(m,n,_))}function u(f,m,_){if(_===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let g=0;g<_;g++)this.render(f[g]/s,m[g]);else{v.multiDrawElementsWEBGL(n,m,0,o,f,0,_);let g=0;for(let p=0;p<_;p++)g+=m[p];t.update(g,n,1)}}function h(f,m,_,v){if(_===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let p=0;p<f.length;p++)d(f[p]/s,m[p],v[p]);else{g.multiDrawElementsInstancedWEBGL(n,m,0,o,f,0,v,0,_);let p=0;for(let S=0;S<_;S++)p+=m[S];for(let S=0;S<v.length;S++)t.update(p,n,v[S])}}this.setMode=i,this.setIndex=a,this.render=c,this.renderInstances=d,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function xf(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,s,a){switch(t.calls++,s){case r.TRIANGLES:t.triangles+=a*(o/3);break;case r.LINES:t.lines+=a*(o/2);break;case r.LINE_STRIP:t.lines+=a*(o-1);break;case r.LINE_LOOP:t.lines+=a*o;break;case r.POINTS:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function yf(r,e,t){const n=new WeakMap,i=new Qe;function o(s,a,c){const d=s.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=u!==void 0?u.length:0;let f=n.get(a);if(f===void 0||f.count!==h){let x=function(){I.dispose(),n.delete(a),a.removeEventListener("dispose",x)};var m=x;f!==void 0&&f.texture.dispose();const _=a.morphAttributes.position!==void 0,v=a.morphAttributes.normal!==void 0,g=a.morphAttributes.color!==void 0,p=a.morphAttributes.position||[],S=a.morphAttributes.normal||[],M=a.morphAttributes.color||[];let E=0;_===!0&&(E=1),v===!0&&(E=2),g===!0&&(E=3);let D=a.attributes.position.count*E,R=1;D>e.maxTextureSize&&(R=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const T=new Float32Array(D*R*4*h),I=new t1(T,D,R,h);I.type=un,I.needsUpdate=!0;const b=E*4;for(let L=0;L<h;L++){const z=p[L],G=S[L],K=M[L],O=D*R*4*L;for(let F=0;F<z.count;F++){const q=F*b;_===!0&&(i.fromBufferAttribute(z,F),T[O+q+0]=i.x,T[O+q+1]=i.y,T[O+q+2]=i.z,T[O+q+3]=0),v===!0&&(i.fromBufferAttribute(G,F),T[O+q+4]=i.x,T[O+q+5]=i.y,T[O+q+6]=i.z,T[O+q+7]=0),g===!0&&(i.fromBufferAttribute(K,F),T[O+q+8]=i.x,T[O+q+9]=i.y,T[O+q+10]=i.z,T[O+q+11]=K.itemSize===4?i.w:1)}}f={count:h,texture:I,size:new ye(D,R)},n.set(a,f),a.addEventListener("dispose",x)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)c.getUniforms().setValue(r,"morphTexture",s.morphTexture,t);else{let _=0;for(let g=0;g<d.length;g++)_+=d[g];const v=a.morphTargetsRelative?1:1-_;c.getUniforms().setValue(r,"morphTargetBaseInfluence",v),c.getUniforms().setValue(r,"morphTargetInfluences",d)}c.getUniforms().setValue(r,"morphTargetsTexture",f.texture,t),c.getUniforms().setValue(r,"morphTargetsTextureSize",f.size)}return{update:o}}function Sf(r,e,t,n){let i=new WeakMap;function o(c){const d=n.render.frame,u=c.geometry,h=e.get(c,u);if(i.get(h)!==d&&(e.update(h),i.set(h,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",a)===!1&&c.addEventListener("dispose",a),i.get(c)!==d&&(t.update(c.instanceMatrix,r.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,r.ARRAY_BUFFER),i.set(c,d))),c.isSkinnedMesh){const f=c.skeleton;i.get(f)!==d&&(f.update(),i.set(f,d))}return h}function s(){i=new WeakMap}function a(c){const d=c.target;d.removeEventListener("dispose",a),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:o,dispose:s}}class c1 extends xt{constructor(e,t,n,i,o,s,a,c,d,u=Oi){if(u!==Oi&&u!==$i)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&u===Oi&&(n=Yi),n===void 0&&u===$i&&(n=Ki),super(null,i,o,s,a,c,u,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Pt,this.minFilter=c!==void 0?c:Pt,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const d1=new xt,u1=new c1(1,1);u1.compareFunction=Jc;const h1=new t1,f1=new ch,p1=new a1,Wl=[],jl=[],Xl=new Float32Array(16),Zl=new Float32Array(9),ql=new Float32Array(4);function sr(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let o=Wl[i];if(o===void 0&&(o=new Float32Array(i),Wl[i]=o),e!==0){n.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,r[s].toArray(o,a)}return o}function mt(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function gt(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function $o(r,e){let t=jl[e];t===void 0&&(t=new Int32Array(e),jl[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function wf(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function bf(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(mt(t,e))return;r.uniform2fv(this.addr,e),gt(t,e)}}function Ef(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(mt(t,e))return;r.uniform3fv(this.addr,e),gt(t,e)}}function Tf(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(mt(t,e))return;r.uniform4fv(this.addr,e),gt(t,e)}}function Af(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(mt(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),gt(t,e)}else{if(mt(t,n))return;ql.set(n),r.uniformMatrix2fv(this.addr,!1,ql),gt(t,n)}}function kf(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(mt(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),gt(t,e)}else{if(mt(t,n))return;Zl.set(n),r.uniformMatrix3fv(this.addr,!1,Zl),gt(t,n)}}function Rf(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(mt(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),gt(t,e)}else{if(mt(t,n))return;Xl.set(n),r.uniformMatrix4fv(this.addr,!1,Xl),gt(t,n)}}function Lf(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function Pf(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(mt(t,e))return;r.uniform2iv(this.addr,e),gt(t,e)}}function Df(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(mt(t,e))return;r.uniform3iv(this.addr,e),gt(t,e)}}function If(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(mt(t,e))return;r.uniform4iv(this.addr,e),gt(t,e)}}function Nf(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function Uf(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(mt(t,e))return;r.uniform2uiv(this.addr,e),gt(t,e)}}function Ff(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(mt(t,e))return;r.uniform3uiv(this.addr,e),gt(t,e)}}function Of(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(mt(t,e))return;r.uniform4uiv(this.addr,e),gt(t,e)}}function Hf(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i);const o=this.type===r.SAMPLER_2D_SHADOW?u1:d1;t.setTexture2D(e||o,i)}function Vf(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||f1,i)}function Bf(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||p1,i)}function zf(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||h1,i)}function Gf(r){switch(r){case 5126:return wf;case 35664:return bf;case 35665:return Ef;case 35666:return Tf;case 35674:return Af;case 35675:return kf;case 35676:return Rf;case 5124:case 35670:return Lf;case 35667:case 35671:return Pf;case 35668:case 35672:return Df;case 35669:case 35673:return If;case 5125:return Nf;case 36294:return Uf;case 36295:return Ff;case 36296:return Of;case 35678:case 36198:case 36298:case 36306:case 35682:return Hf;case 35679:case 36299:case 36307:return Vf;case 35680:case 36300:case 36308:case 36293:return Bf;case 36289:case 36303:case 36311:case 36292:return zf}}function Wf(r,e){r.uniform1fv(this.addr,e)}function jf(r,e){const t=sr(e,this.size,2);r.uniform2fv(this.addr,t)}function Xf(r,e){const t=sr(e,this.size,3);r.uniform3fv(this.addr,t)}function Zf(r,e){const t=sr(e,this.size,4);r.uniform4fv(this.addr,t)}function qf(r,e){const t=sr(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function Yf(r,e){const t=sr(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function Kf(r,e){const t=sr(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function $f(r,e){r.uniform1iv(this.addr,e)}function Jf(r,e){r.uniform2iv(this.addr,e)}function Qf(r,e){r.uniform3iv(this.addr,e)}function ep(r,e){r.uniform4iv(this.addr,e)}function tp(r,e){r.uniform1uiv(this.addr,e)}function np(r,e){r.uniform2uiv(this.addr,e)}function ip(r,e){r.uniform3uiv(this.addr,e)}function rp(r,e){r.uniform4uiv(this.addr,e)}function op(r,e,t){const n=this.cache,i=e.length,o=$o(t,i);mt(n,o)||(r.uniform1iv(this.addr,o),gt(n,o));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||d1,o[s])}function sp(r,e,t){const n=this.cache,i=e.length,o=$o(t,i);mt(n,o)||(r.uniform1iv(this.addr,o),gt(n,o));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||f1,o[s])}function ap(r,e,t){const n=this.cache,i=e.length,o=$o(t,i);mt(n,o)||(r.uniform1iv(this.addr,o),gt(n,o));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||p1,o[s])}function lp(r,e,t){const n=this.cache,i=e.length,o=$o(t,i);mt(n,o)||(r.uniform1iv(this.addr,o),gt(n,o));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||h1,o[s])}function cp(r){switch(r){case 5126:return Wf;case 35664:return jf;case 35665:return Xf;case 35666:return Zf;case 35674:return qf;case 35675:return Yf;case 35676:return Kf;case 5124:case 35670:return $f;case 35667:case 35671:return Jf;case 35668:case 35672:return Qf;case 35669:case 35673:return ep;case 5125:return tp;case 36294:return np;case 36295:return ip;case 36296:return rp;case 35678:case 36198:case 36298:case 36306:case 35682:return op;case 35679:case 36299:case 36307:return sp;case 35680:case 36300:case 36308:case 36293:return ap;case 36289:case 36303:case 36311:case 36292:return lp}}class dp{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=Gf(t.type)}}class up{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=cp(t.type)}}class hp{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,t[a.id],n)}}}const Ns=/(\w+)(\])?(\[|\.)?/g;function Yl(r,e){r.seq.push(e),r.map[e.id]=e}function fp(r,e,t){const n=r.name,i=n.length;for(Ns.lastIndex=0;;){const o=Ns.exec(n),s=Ns.lastIndex;let a=o[1];const c=o[2]==="]",d=o[3];if(c&&(a=a|0),d===void 0||d==="["&&s+2===i){Yl(t,d===void 0?new dp(a,r,e):new up(a,r,e));break}else{let h=t.map[a];h===void 0&&(h=new hp(a),Yl(t,h)),t=h}}}class Eo{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const o=e.getActiveUniform(t,i),s=e.getUniformLocation(t,o.name);fp(o,s,this)}}setValue(e,t,n,i){const o=this.map[t];o!==void 0&&o.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let o=0,s=t.length;o!==s;++o){const a=t[o],c=n[a.id];c.needsUpdate!==!1&&a.setValue(e,c.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in t&&n.push(s)}return n}}function Kl(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}const pp=37297;let mp=0;function gp(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=i;s<o;s++){const a=s+1;n.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return n.join(`
`)}function _p(r){const e=qe.getPrimaries(qe.workingColorSpace),t=qe.getPrimaries(r);let n;switch(e===t?n="":e===Do&&t===Po?n="LinearDisplayP3ToLinearSRGB":e===Po&&t===Do&&(n="LinearSRGBToLinearDisplayP3"),r){case yt:case Ko:return[n,"LinearTransferOETF"];case St:case ha:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",r),[n,"LinearTransferOETF"]}}function $l(r,e,t){const n=r.getShaderParameter(e,r.COMPILE_STATUS),i=r.getShaderInfoLog(e).trim();if(n&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return t.toUpperCase()+`

`+i+`

`+gp(r.getShaderSource(e),s)}else return i}function Cp(r,e){const t=_p(e);return`vec4 ${r}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function vp(r,e){let t;switch(e){case hu:t="Linear";break;case fu:t="Reinhard";break;case pu:t="OptimizedCineon";break;case Bc:t="ACESFilmic";break;case gu:t="AgX";break;case _u:t="Neutral";break;case mu:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Mp(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Sr).join(`
`)}function xp(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function yp(r,e){const t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const o=r.getActiveAttrib(e,i),s=o.name;let a=1;o.type===r.FLOAT_MAT2&&(a=2),o.type===r.FLOAT_MAT3&&(a=3),o.type===r.FLOAT_MAT4&&(a=4),t[s]={type:o.type,location:r.getAttribLocation(e,s),locationSize:a}}return t}function Sr(r){return r!==""}function Jl(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ql(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Sp=/^[ \t]*#include +<([\w\d./]+)>/gm;function na(r){return r.replace(Sp,bp)}const wp=new Map;function bp(r,e){let t=Fe[e];if(t===void 0){const n=wp.get(e);if(n!==void 0)t=Fe[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return na(t)}const Ep=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ec(r){return r.replace(Ep,Tp)}function Tp(r,e,t,n){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function tc(r){let e=`precision ${r.precision} float;
	precision ${r.precision} int;
	precision ${r.precision} sampler2D;
	precision ${r.precision} samplerCube;
	precision ${r.precision} sampler3D;
	precision ${r.precision} sampler2DArray;
	precision ${r.precision} sampler2DShadow;
	precision ${r.precision} samplerCubeShadow;
	precision ${r.precision} sampler2DArrayShadow;
	precision ${r.precision} isampler2D;
	precision ${r.precision} isampler3D;
	precision ${r.precision} isamplerCube;
	precision ${r.precision} isampler2DArray;
	precision ${r.precision} usampler2D;
	precision ${r.precision} usampler3D;
	precision ${r.precision} usamplerCube;
	precision ${r.precision} usampler2DArray;
	`;return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Ap(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===Hc?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===Vc?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===an&&(e="SHADOWMAP_TYPE_VSM"),e}function kp(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Zi:case qi:e="ENVMAP_TYPE_CUBE";break;case qo:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Rp(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case qi:e="ENVMAP_MODE_REFRACTION";break}return e}function Lp(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case da:e="ENVMAP_BLENDING_MULTIPLY";break;case du:e="ENVMAP_BLENDING_MIX";break;case uu:e="ENVMAP_BLENDING_ADD";break}return e}function Pp(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function Dp(r,e,t,n){const i=r.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const c=Ap(t),d=kp(t),u=Rp(t),h=Lp(t),f=Pp(t),m=Mp(t),_=xp(o),v=i.createProgram();let g,p,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Sr).join(`
`),g.length>0&&(g+=`
`),p=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Sr).join(`
`),p.length>0&&(p+=`
`)):(g=[tc(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Sr).join(`
`),p=[tc(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Zn?"#define TONE_MAPPING":"",t.toneMapping!==Zn?Fe.tonemapping_pars_fragment:"",t.toneMapping!==Zn?vp("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Fe.colorspace_pars_fragment,Cp("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Sr).join(`
`)),s=na(s),s=Jl(s,t),s=Ql(s,t),a=na(a),a=Jl(a,t),a=Ql(a,t),s=ec(s),a=ec(a),t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,g=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,p=["#define varying in",t.glslVersion===_l?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===_l?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const M=S+g+s,E=S+p+a,D=Kl(i,i.VERTEX_SHADER,M),R=Kl(i,i.FRAGMENT_SHADER,E);i.attachShader(v,D),i.attachShader(v,R),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function T(L){if(r.debug.checkShaderErrors){const z=i.getProgramInfoLog(v).trim(),G=i.getShaderInfoLog(D).trim(),K=i.getShaderInfoLog(R).trim();let O=!0,F=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(O=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(i,v,D,R);else{const q=$l(i,D,"vertex"),W=$l(i,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Material Name: `+L.name+`
Material Type: `+L.type+`

Program Info Log: `+z+`
`+q+`
`+W)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):(G===""||K==="")&&(F=!1);F&&(L.diagnostics={runnable:O,programLog:z,vertexShader:{log:G,prefix:g},fragmentShader:{log:K,prefix:p}})}i.deleteShader(D),i.deleteShader(R),I=new Eo(i,v),b=yp(i,v)}let I;this.getUniforms=function(){return I===void 0&&T(this),I};let b;this.getAttributes=function(){return b===void 0&&T(this),b};let x=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return x===!1&&(x=i.getProgramParameter(v,pp)),x},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=mp++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=D,this.fragmentShader=R,this}let Ip=0;class Np{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),o=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new Up(e),t.set(e,n)),n}}class Up{constructor(e){this.id=Ip++,this.code=e,this.usedTimes=0}}function Fp(r,e,t,n,i,o,s){const a=new ma,c=new Np,d=new Set,u=[],h=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(b){return d.add(b),b===0?"uv":`uv${b}`}function g(b,x,L,z,G){const K=z.fog,O=G.geometry,F=b.isMeshStandardMaterial?z.environment:null,q=(b.isMeshStandardMaterial?t:e).get(b.envMap||F),W=q&&q.mapping===qo?q.image.height:null,ne=_[b.type];b.precision!==null&&(m=i.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const de=O.morphAttributes.position||O.morphAttributes.normal||O.morphAttributes.color,ue=de!==void 0?de.length:0;let Te=0;O.morphAttributes.position!==void 0&&(Te=1),O.morphAttributes.normal!==void 0&&(Te=2),O.morphAttributes.color!==void 0&&(Te=3);let ke,Y,te,fe;if(ne){const Ze=cn[ne];ke=Ze.vertexShader,Y=Ze.fragmentShader}else ke=b.vertexShader,Y=b.fragmentShader,c.update(b),te=c.getVertexShaderID(b),fe=c.getFragmentShaderID(b);const le=r.getRenderTarget(),He=G.isInstancedMesh===!0,Pe=G.isBatchedMesh===!0,We=!!b.map,P=!!b.matcap,je=!!q,ze=!!b.aoMap,tt=!!b.lightMap,Se=!!b.bumpMap,Xe=!!b.normalMap,Ve=!!b.displacementMap,De=!!b.emissiveMap,ot=!!b.metalnessMap,k=!!b.roughnessMap,y=b.anisotropy>0,j=b.clearcoat>0,$=b.dispersion>0,Q=b.iridescence>0,ee=b.sheen>0,Ce=b.transmission>0,ae=y&&!!b.anisotropyMap,se=j&&!!b.clearcoatMap,Ie=j&&!!b.clearcoatNormalMap,ie=j&&!!b.clearcoatRoughnessMap,me=Q&&!!b.iridescenceMap,Be=Q&&!!b.iridescenceThicknessMap,be=ee&&!!b.sheenColorMap,ce=ee&&!!b.sheenRoughnessMap,Ne=!!b.specularMap,Ue=!!b.specularColorMap,st=!!b.specularIntensityMap,C=Ce&&!!b.transmissionMap,X=Ce&&!!b.thicknessMap,H=!!b.gradientMap,Z=!!b.alphaMap,J=b.alphaTest>0,ve=!!b.alphaHash,Re=!!b.extensions;let at=Zn;b.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(at=r.toneMapping);const ut={shaderID:ne,shaderType:b.type,shaderName:b.name,vertexShader:ke,fragmentShader:Y,defines:b.defines,customVertexShaderID:te,customFragmentShaderID:fe,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,batching:Pe,batchingColor:Pe&&G._colorsTexture!==null,instancing:He,instancingColor:He&&G.instanceColor!==null,instancingMorph:He&&G.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:le===null?r.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:yt,alphaToCoverage:!!b.alphaToCoverage,map:We,matcap:P,envMap:je,envMapMode:je&&q.mapping,envMapCubeUVHeight:W,aoMap:ze,lightMap:tt,bumpMap:Se,normalMap:Xe,displacementMap:f&&Ve,emissiveMap:De,normalMapObjectSpace:Xe&&b.normalMapType===Pu,normalMapTangentSpace:Xe&&b.normalMapType===ua,metalnessMap:ot,roughnessMap:k,anisotropy:y,anisotropyMap:ae,clearcoat:j,clearcoatMap:se,clearcoatNormalMap:Ie,clearcoatRoughnessMap:ie,dispersion:$,iridescence:Q,iridescenceMap:me,iridescenceThicknessMap:Be,sheen:ee,sheenColorMap:be,sheenRoughnessMap:ce,specularMap:Ne,specularColorMap:Ue,specularIntensityMap:st,transmission:Ce,transmissionMap:C,thicknessMap:X,gradientMap:H,opaque:b.transparent===!1&&b.blending===Fi&&b.alphaToCoverage===!1,alphaMap:Z,alphaTest:J,alphaHash:ve,combine:b.combine,mapUv:We&&v(b.map.channel),aoMapUv:ze&&v(b.aoMap.channel),lightMapUv:tt&&v(b.lightMap.channel),bumpMapUv:Se&&v(b.bumpMap.channel),normalMapUv:Xe&&v(b.normalMap.channel),displacementMapUv:Ve&&v(b.displacementMap.channel),emissiveMapUv:De&&v(b.emissiveMap.channel),metalnessMapUv:ot&&v(b.metalnessMap.channel),roughnessMapUv:k&&v(b.roughnessMap.channel),anisotropyMapUv:ae&&v(b.anisotropyMap.channel),clearcoatMapUv:se&&v(b.clearcoatMap.channel),clearcoatNormalMapUv:Ie&&v(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ie&&v(b.clearcoatRoughnessMap.channel),iridescenceMapUv:me&&v(b.iridescenceMap.channel),iridescenceThicknessMapUv:Be&&v(b.iridescenceThicknessMap.channel),sheenColorMapUv:be&&v(b.sheenColorMap.channel),sheenRoughnessMapUv:ce&&v(b.sheenRoughnessMap.channel),specularMapUv:Ne&&v(b.specularMap.channel),specularColorMapUv:Ue&&v(b.specularColorMap.channel),specularIntensityMapUv:st&&v(b.specularIntensityMap.channel),transmissionMapUv:C&&v(b.transmissionMap.channel),thicknessMapUv:X&&v(b.thicknessMap.channel),alphaMapUv:Z&&v(b.alphaMap.channel),vertexTangents:!!O.attributes.tangent&&(Xe||y),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!O.attributes.color&&O.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!O.attributes.uv&&(We||Z),fog:!!K,useFog:b.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:G.isSkinnedMesh===!0,morphTargets:O.morphAttributes.position!==void 0,morphNormals:O.morphAttributes.normal!==void 0,morphColors:O.morphAttributes.color!==void 0,morphTargetsCount:ue,morphTextureStride:Te,numDirLights:x.directional.length,numPointLights:x.point.length,numSpotLights:x.spot.length,numSpotLightMaps:x.spotLightMap.length,numRectAreaLights:x.rectArea.length,numHemiLights:x.hemi.length,numDirLightShadows:x.directionalShadowMap.length,numPointLightShadows:x.pointShadowMap.length,numSpotLightShadows:x.spotShadowMap.length,numSpotLightShadowsWithMaps:x.numSpotLightShadowsWithMaps,numLightProbes:x.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:b.dithering,shadowMapEnabled:r.shadowMap.enabled&&L.length>0,shadowMapType:r.shadowMap.type,toneMapping:at,decodeVideoTexture:We&&b.map.isVideoTexture===!0&&qe.getTransfer(b.map.colorSpace)===it,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===dn,flipSided:b.side===Dt,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionClipCullDistance:Re&&b.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Re&&b.extensions.multiDraw===!0&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:b.customProgramCacheKey()};return ut.vertexUv1s=d.has(1),ut.vertexUv2s=d.has(2),ut.vertexUv3s=d.has(3),d.clear(),ut}function p(b){const x=[];if(b.shaderID?x.push(b.shaderID):(x.push(b.customVertexShaderID),x.push(b.customFragmentShaderID)),b.defines!==void 0)for(const L in b.defines)x.push(L),x.push(b.defines[L]);return b.isRawShaderMaterial===!1&&(S(x,b),M(x,b),x.push(r.outputColorSpace)),x.push(b.customProgramCacheKey),x.join()}function S(b,x){b.push(x.precision),b.push(x.outputColorSpace),b.push(x.envMapMode),b.push(x.envMapCubeUVHeight),b.push(x.mapUv),b.push(x.alphaMapUv),b.push(x.lightMapUv),b.push(x.aoMapUv),b.push(x.bumpMapUv),b.push(x.normalMapUv),b.push(x.displacementMapUv),b.push(x.emissiveMapUv),b.push(x.metalnessMapUv),b.push(x.roughnessMapUv),b.push(x.anisotropyMapUv),b.push(x.clearcoatMapUv),b.push(x.clearcoatNormalMapUv),b.push(x.clearcoatRoughnessMapUv),b.push(x.iridescenceMapUv),b.push(x.iridescenceThicknessMapUv),b.push(x.sheenColorMapUv),b.push(x.sheenRoughnessMapUv),b.push(x.specularMapUv),b.push(x.specularColorMapUv),b.push(x.specularIntensityMapUv),b.push(x.transmissionMapUv),b.push(x.thicknessMapUv),b.push(x.combine),b.push(x.fogExp2),b.push(x.sizeAttenuation),b.push(x.morphTargetsCount),b.push(x.morphAttributeCount),b.push(x.numDirLights),b.push(x.numPointLights),b.push(x.numSpotLights),b.push(x.numSpotLightMaps),b.push(x.numHemiLights),b.push(x.numRectAreaLights),b.push(x.numDirLightShadows),b.push(x.numPointLightShadows),b.push(x.numSpotLightShadows),b.push(x.numSpotLightShadowsWithMaps),b.push(x.numLightProbes),b.push(x.shadowMapType),b.push(x.toneMapping),b.push(x.numClippingPlanes),b.push(x.numClipIntersection),b.push(x.depthPacking)}function M(b,x){a.disableAll(),x.supportsVertexTextures&&a.enable(0),x.instancing&&a.enable(1),x.instancingColor&&a.enable(2),x.instancingMorph&&a.enable(3),x.matcap&&a.enable(4),x.envMap&&a.enable(5),x.normalMapObjectSpace&&a.enable(6),x.normalMapTangentSpace&&a.enable(7),x.clearcoat&&a.enable(8),x.iridescence&&a.enable(9),x.alphaTest&&a.enable(10),x.vertexColors&&a.enable(11),x.vertexAlphas&&a.enable(12),x.vertexUv1s&&a.enable(13),x.vertexUv2s&&a.enable(14),x.vertexUv3s&&a.enable(15),x.vertexTangents&&a.enable(16),x.anisotropy&&a.enable(17),x.alphaHash&&a.enable(18),x.batching&&a.enable(19),x.dispersion&&a.enable(20),x.batchingColor&&a.enable(21),b.push(a.mask),a.disableAll(),x.fog&&a.enable(0),x.useFog&&a.enable(1),x.flatShading&&a.enable(2),x.logarithmicDepthBuffer&&a.enable(3),x.skinning&&a.enable(4),x.morphTargets&&a.enable(5),x.morphNormals&&a.enable(6),x.morphColors&&a.enable(7),x.premultipliedAlpha&&a.enable(8),x.shadowMapEnabled&&a.enable(9),x.doubleSided&&a.enable(10),x.flipSided&&a.enable(11),x.useDepthPacking&&a.enable(12),x.dithering&&a.enable(13),x.transmission&&a.enable(14),x.sheen&&a.enable(15),x.opaque&&a.enable(16),x.pointsUvs&&a.enable(17),x.decodeVideoTexture&&a.enable(18),x.alphaToCoverage&&a.enable(19),b.push(a.mask)}function E(b){const x=_[b.type];let L;if(x){const z=cn[x];L=No.clone(z.uniforms)}else L=b.uniforms;return L}function D(b,x){let L;for(let z=0,G=u.length;z<G;z++){const K=u[z];if(K.cacheKey===x){L=K,++L.usedTimes;break}}return L===void 0&&(L=new Dp(r,x,b,o),u.push(L)),L}function R(b){if(--b.usedTimes===0){const x=u.indexOf(b);u[x]=u[u.length-1],u.pop(),b.destroy()}}function T(b){c.remove(b)}function I(){c.dispose()}return{getParameters:g,getProgramCacheKey:p,getUniforms:E,acquireProgram:D,releaseProgram:R,releaseShaderCache:T,programs:u,dispose:I}}function Op(){let r=new WeakMap;function e(o){let s=r.get(o);return s===void 0&&(s={},r.set(o,s)),s}function t(o){r.delete(o)}function n(o,s,a){r.get(o)[s]=a}function i(){r=new WeakMap}return{get:e,remove:t,update:n,dispose:i}}function Hp(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function nc(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function ic(){const r=[];let e=0;const t=[],n=[],i=[];function o(){e=0,t.length=0,n.length=0,i.length=0}function s(h,f,m,_,v,g){let p=r[e];return p===void 0?(p={id:h.id,object:h,geometry:f,material:m,groupOrder:_,renderOrder:h.renderOrder,z:v,group:g},r[e]=p):(p.id=h.id,p.object=h,p.geometry=f,p.material=m,p.groupOrder=_,p.renderOrder=h.renderOrder,p.z=v,p.group=g),e++,p}function a(h,f,m,_,v,g){const p=s(h,f,m,_,v,g);m.transmission>0?n.push(p):m.transparent===!0?i.push(p):t.push(p)}function c(h,f,m,_,v,g){const p=s(h,f,m,_,v,g);m.transmission>0?n.unshift(p):m.transparent===!0?i.unshift(p):t.unshift(p)}function d(h,f){t.length>1&&t.sort(h||Hp),n.length>1&&n.sort(f||nc),i.length>1&&i.sort(f||nc)}function u(){for(let h=e,f=r.length;h<f;h++){const m=r[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:n,transparent:i,init:o,push:a,unshift:c,finish:u,sort:d}}function Vp(){let r=new WeakMap;function e(n,i){const o=r.get(n);let s;return o===void 0?(s=new ic,r.set(n,[s])):i>=o.length?(s=new ic,o.push(s)):s=o[i],s}function t(){r=new WeakMap}return{get:e,dispose:t}}function Bp(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new A,color:new xe};break;case"SpotLight":t={position:new A,direction:new A,color:new xe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new A,color:new xe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new A,skyColor:new xe,groundColor:new xe};break;case"RectAreaLight":t={color:new xe,position:new A,halfWidth:new A,halfHeight:new A};break}return r[e.id]=t,t}}}function zp(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let Gp=0;function Wp(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function jp(r){const e=new Bp,t=zp(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)n.probe.push(new A);const i=new A,o=new Le,s=new Le;function a(d){let u=0,h=0,f=0;for(let b=0;b<9;b++)n.probe[b].set(0,0,0);let m=0,_=0,v=0,g=0,p=0,S=0,M=0,E=0,D=0,R=0,T=0;d.sort(Wp);for(let b=0,x=d.length;b<x;b++){const L=d[b],z=L.color,G=L.intensity,K=L.distance,O=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)u+=z.r*G,h+=z.g*G,f+=z.b*G;else if(L.isLightProbe){for(let F=0;F<9;F++)n.probe[F].addScaledVector(L.sh.coefficients[F],G);T++}else if(L.isDirectionalLight){const F=e.get(L);if(F.color.copy(L.color).multiplyScalar(L.intensity),L.castShadow){const q=L.shadow,W=t.get(L);W.shadowBias=q.bias,W.shadowNormalBias=q.normalBias,W.shadowRadius=q.radius,W.shadowMapSize=q.mapSize,n.directionalShadow[m]=W,n.directionalShadowMap[m]=O,n.directionalShadowMatrix[m]=L.shadow.matrix,S++}n.directional[m]=F,m++}else if(L.isSpotLight){const F=e.get(L);F.position.setFromMatrixPosition(L.matrixWorld),F.color.copy(z).multiplyScalar(G),F.distance=K,F.coneCos=Math.cos(L.angle),F.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),F.decay=L.decay,n.spot[v]=F;const q=L.shadow;if(L.map&&(n.spotLightMap[D]=L.map,D++,q.updateMatrices(L),L.castShadow&&R++),n.spotLightMatrix[v]=q.matrix,L.castShadow){const W=t.get(L);W.shadowBias=q.bias,W.shadowNormalBias=q.normalBias,W.shadowRadius=q.radius,W.shadowMapSize=q.mapSize,n.spotShadow[v]=W,n.spotShadowMap[v]=O,E++}v++}else if(L.isRectAreaLight){const F=e.get(L);F.color.copy(z).multiplyScalar(G),F.halfWidth.set(L.width*.5,0,0),F.halfHeight.set(0,L.height*.5,0),n.rectArea[g]=F,g++}else if(L.isPointLight){const F=e.get(L);if(F.color.copy(L.color).multiplyScalar(L.intensity),F.distance=L.distance,F.decay=L.decay,L.castShadow){const q=L.shadow,W=t.get(L);W.shadowBias=q.bias,W.shadowNormalBias=q.normalBias,W.shadowRadius=q.radius,W.shadowMapSize=q.mapSize,W.shadowCameraNear=q.camera.near,W.shadowCameraFar=q.camera.far,n.pointShadow[_]=W,n.pointShadowMap[_]=O,n.pointShadowMatrix[_]=L.shadow.matrix,M++}n.point[_]=F,_++}else if(L.isHemisphereLight){const F=e.get(L);F.skyColor.copy(L.color).multiplyScalar(G),F.groundColor.copy(L.groundColor).multiplyScalar(G),n.hemi[p]=F,p++}}g>0&&(r.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=oe.LTC_FLOAT_1,n.rectAreaLTC2=oe.LTC_FLOAT_2):(n.rectAreaLTC1=oe.LTC_HALF_1,n.rectAreaLTC2=oe.LTC_HALF_2)),n.ambient[0]=u,n.ambient[1]=h,n.ambient[2]=f;const I=n.hash;(I.directionalLength!==m||I.pointLength!==_||I.spotLength!==v||I.rectAreaLength!==g||I.hemiLength!==p||I.numDirectionalShadows!==S||I.numPointShadows!==M||I.numSpotShadows!==E||I.numSpotMaps!==D||I.numLightProbes!==T)&&(n.directional.length=m,n.spot.length=v,n.rectArea.length=g,n.point.length=_,n.hemi.length=p,n.directionalShadow.length=S,n.directionalShadowMap.length=S,n.pointShadow.length=M,n.pointShadowMap.length=M,n.spotShadow.length=E,n.spotShadowMap.length=E,n.directionalShadowMatrix.length=S,n.pointShadowMatrix.length=M,n.spotLightMatrix.length=E+D-R,n.spotLightMap.length=D,n.numSpotLightShadowsWithMaps=R,n.numLightProbes=T,I.directionalLength=m,I.pointLength=_,I.spotLength=v,I.rectAreaLength=g,I.hemiLength=p,I.numDirectionalShadows=S,I.numPointShadows=M,I.numSpotShadows=E,I.numSpotMaps=D,I.numLightProbes=T,n.version=Gp++)}function c(d,u){let h=0,f=0,m=0,_=0,v=0;const g=u.matrixWorldInverse;for(let p=0,S=d.length;p<S;p++){const M=d[p];if(M.isDirectionalLight){const E=n.directional[h];E.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(g),h++}else if(M.isSpotLight){const E=n.spot[m];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(g),E.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(g),m++}else if(M.isRectAreaLight){const E=n.rectArea[_];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(g),s.identity(),o.copy(M.matrixWorld),o.premultiply(g),s.extractRotation(o),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(s),E.halfHeight.applyMatrix4(s),_++}else if(M.isPointLight){const E=n.point[f];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(g),f++}else if(M.isHemisphereLight){const E=n.hemi[v];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(g),v++}}}return{setup:a,setupView:c,state:n}}function rc(r){const e=new jp(r),t=[],n=[];function i(u){d.camera=u,t.length=0,n.length=0}function o(u){t.push(u)}function s(u){n.push(u)}function a(){e.setup(t)}function c(u){e.setupView(t,u)}const d={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:d,setupLights:a,setupLightsView:c,pushLight:o,pushShadow:s}}function Xp(r){let e=new WeakMap;function t(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new rc(r),e.set(i,[a])):o>=s.length?(a=new rc(r),s.push(a)):a=s[o],a}function n(){e=new WeakMap}return{get:t,dispose:n}}class Zp extends nn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Ru,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class qp extends nn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Yp=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Kp=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function $p(r,e,t){let n=new ga;const i=new ye,o=new ye,s=new Qe,a=new Zp({depthPacking:Lu}),c=new qp,d={},u=t.maxTextureSize,h={[fn]:Dt,[Dt]:fn,[dn]:dn},f=new mn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ye},radius:{value:4}},vertexShader:Yp,fragmentShader:Kp}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const _=new Xt;_.setAttribute("position",new Et(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new bt(_,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Hc;let p=this.type;this.render=function(R,T,I){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||R.length===0)return;const b=r.getRenderTarget(),x=r.getActiveCubeFace(),L=r.getActiveMipmapLevel(),z=r.state;z.setBlending(Xn),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const G=p!==an&&this.type===an,K=p===an&&this.type!==an;for(let O=0,F=R.length;O<F;O++){const q=R[O],W=q.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;i.copy(W.mapSize);const ne=W.getFrameExtents();if(i.multiply(ne),o.copy(W.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/ne.x),i.x=o.x*ne.x,W.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/ne.y),i.y=o.y*ne.y,W.mapSize.y=o.y)),W.map===null||G===!0||K===!0){const ue=this.type!==an?{minFilter:Pt,magFilter:Pt}:{};W.map!==null&&W.map.dispose(),W.map=new Yn(i.x,i.y,ue),W.map.texture.name=q.name+".shadowMap",W.camera.updateProjectionMatrix()}r.setRenderTarget(W.map),r.clear();const de=W.getViewportCount();for(let ue=0;ue<de;ue++){const Te=W.getViewport(ue);s.set(o.x*Te.x,o.y*Te.y,o.x*Te.z,o.y*Te.w),z.viewport(s),W.updateMatrices(q,ue),n=W.getFrustum(),E(T,I,W.camera,q,this.type)}W.isPointLightShadow!==!0&&this.type===an&&S(W,I),W.needsUpdate=!1}p=this.type,g.needsUpdate=!1,r.setRenderTarget(b,x,L)};function S(R,T){const I=e.update(v);f.defines.VSM_SAMPLES!==R.blurSamples&&(f.defines.VSM_SAMPLES=R.blurSamples,m.defines.VSM_SAMPLES=R.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new Yn(i.x,i.y)),f.uniforms.shadow_pass.value=R.map.texture,f.uniforms.resolution.value=R.mapSize,f.uniforms.radius.value=R.radius,r.setRenderTarget(R.mapPass),r.clear(),r.renderBufferDirect(T,null,I,f,v,null),m.uniforms.shadow_pass.value=R.mapPass.texture,m.uniforms.resolution.value=R.mapSize,m.uniforms.radius.value=R.radius,r.setRenderTarget(R.map),r.clear(),r.renderBufferDirect(T,null,I,m,v,null)}function M(R,T,I,b){let x=null;const L=I.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(L!==void 0)x=L;else if(x=I.isPointLight===!0?c:a,r.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const z=x.uuid,G=T.uuid;let K=d[z];K===void 0&&(K={},d[z]=K);let O=K[G];O===void 0&&(O=x.clone(),K[G]=O,T.addEventListener("dispose",D)),x=O}if(x.visible=T.visible,x.wireframe=T.wireframe,b===an?x.side=T.shadowSide!==null?T.shadowSide:T.side:x.side=T.shadowSide!==null?T.shadowSide:h[T.side],x.alphaMap=T.alphaMap,x.alphaTest=T.alphaTest,x.map=T.map,x.clipShadows=T.clipShadows,x.clippingPlanes=T.clippingPlanes,x.clipIntersection=T.clipIntersection,x.displacementMap=T.displacementMap,x.displacementScale=T.displacementScale,x.displacementBias=T.displacementBias,x.wireframeLinewidth=T.wireframeLinewidth,x.linewidth=T.linewidth,I.isPointLight===!0&&x.isMeshDistanceMaterial===!0){const z=r.properties.get(x);z.light=I}return x}function E(R,T,I,b,x){if(R.visible===!1)return;if(R.layers.test(T.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&x===an)&&(!R.frustumCulled||n.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,R.matrixWorld);const G=e.update(R),K=R.material;if(Array.isArray(K)){const O=G.groups;for(let F=0,q=O.length;F<q;F++){const W=O[F],ne=K[W.materialIndex];if(ne&&ne.visible){const de=M(R,ne,b,x);R.onBeforeShadow(r,R,T,I,G,de,W),r.renderBufferDirect(I,null,G,de,R,W),R.onAfterShadow(r,R,T,I,G,de,W)}}}else if(K.visible){const O=M(R,K,b,x);R.onBeforeShadow(r,R,T,I,G,O,null),r.renderBufferDirect(I,null,G,O,R,null),R.onAfterShadow(r,R,T,I,G,O,null)}}const z=R.children;for(let G=0,K=z.length;G<K;G++)E(z[G],T,I,b,x)}function D(R){R.target.removeEventListener("dispose",D);for(const I in d){const b=d[I],x=R.target.uuid;x in b&&(b[x].dispose(),delete b[x])}}}function Jp(r){function e(){let C=!1;const X=new Qe;let H=null;const Z=new Qe(0,0,0,0);return{setMask:function(J){H!==J&&!C&&(r.colorMask(J,J,J,J),H=J)},setLocked:function(J){C=J},setClear:function(J,ve,Re,at,ut){ut===!0&&(J*=at,ve*=at,Re*=at),X.set(J,ve,Re,at),Z.equals(X)===!1&&(r.clearColor(J,ve,Re,at),Z.copy(X))},reset:function(){C=!1,H=null,Z.set(-1,0,0,0)}}}function t(){let C=!1,X=null,H=null,Z=null;return{setTest:function(J){J?fe(r.DEPTH_TEST):le(r.DEPTH_TEST)},setMask:function(J){X!==J&&!C&&(r.depthMask(J),X=J)},setFunc:function(J){if(H!==J){switch(J){case iu:r.depthFunc(r.NEVER);break;case ru:r.depthFunc(r.ALWAYS);break;case ou:r.depthFunc(r.LESS);break;case Ao:r.depthFunc(r.LEQUAL);break;case su:r.depthFunc(r.EQUAL);break;case au:r.depthFunc(r.GEQUAL);break;case lu:r.depthFunc(r.GREATER);break;case cu:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}H=J}},setLocked:function(J){C=J},setClear:function(J){Z!==J&&(r.clearDepth(J),Z=J)},reset:function(){C=!1,X=null,H=null,Z=null}}}function n(){let C=!1,X=null,H=null,Z=null,J=null,ve=null,Re=null,at=null,ut=null;return{setTest:function(Ze){C||(Ze?fe(r.STENCIL_TEST):le(r.STENCIL_TEST))},setMask:function(Ze){X!==Ze&&!C&&(r.stencilMask(Ze),X=Ze)},setFunc:function(Ze,ht,ft){(H!==Ze||Z!==ht||J!==ft)&&(r.stencilFunc(Ze,ht,ft),H=Ze,Z=ht,J=ft)},setOp:function(Ze,ht,ft){(ve!==Ze||Re!==ht||at!==ft)&&(r.stencilOp(Ze,ht,ft),ve=Ze,Re=ht,at=ft)},setLocked:function(Ze){C=Ze},setClear:function(Ze){ut!==Ze&&(r.clearStencil(Ze),ut=Ze)},reset:function(){C=!1,X=null,H=null,Z=null,J=null,ve=null,Re=null,at=null,ut=null}}}const i=new e,o=new t,s=new n,a=new WeakMap,c=new WeakMap;let d={},u={},h=new WeakMap,f=[],m=null,_=!1,v=null,g=null,p=null,S=null,M=null,E=null,D=null,R=new xe(0,0,0),T=0,I=!1,b=null,x=null,L=null,z=null,G=null;const K=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,F=0;const q=r.getParameter(r.VERSION);q.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec(q)[1]),O=F>=1):q.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),O=F>=2);let W=null,ne={};const de=r.getParameter(r.SCISSOR_BOX),ue=r.getParameter(r.VIEWPORT),Te=new Qe().fromArray(de),ke=new Qe().fromArray(ue);function Y(C,X,H,Z){const J=new Uint8Array(4),ve=r.createTexture();r.bindTexture(C,ve),r.texParameteri(C,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(C,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let Re=0;Re<H;Re++)C===r.TEXTURE_3D||C===r.TEXTURE_2D_ARRAY?r.texImage3D(X,0,r.RGBA,1,1,Z,0,r.RGBA,r.UNSIGNED_BYTE,J):r.texImage2D(X+Re,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,J);return ve}const te={};te[r.TEXTURE_2D]=Y(r.TEXTURE_2D,r.TEXTURE_2D,1),te[r.TEXTURE_CUBE_MAP]=Y(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),te[r.TEXTURE_2D_ARRAY]=Y(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),te[r.TEXTURE_3D]=Y(r.TEXTURE_3D,r.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),s.setClear(0),fe(r.DEPTH_TEST),o.setFunc(Ao),Se(!1),Xe(Ua),fe(r.CULL_FACE),ze(Xn);function fe(C){d[C]!==!0&&(r.enable(C),d[C]=!0)}function le(C){d[C]!==!1&&(r.disable(C),d[C]=!1)}function He(C,X){return u[C]!==X?(r.bindFramebuffer(C,X),u[C]=X,C===r.DRAW_FRAMEBUFFER&&(u[r.FRAMEBUFFER]=X),C===r.FRAMEBUFFER&&(u[r.DRAW_FRAMEBUFFER]=X),!0):!1}function Pe(C,X){let H=f,Z=!1;if(C){H=h.get(X),H===void 0&&(H=[],h.set(X,H));const J=C.textures;if(H.length!==J.length||H[0]!==r.COLOR_ATTACHMENT0){for(let ve=0,Re=J.length;ve<Re;ve++)H[ve]=r.COLOR_ATTACHMENT0+ve;H.length=J.length,Z=!0}}else H[0]!==r.BACK&&(H[0]=r.BACK,Z=!0);Z&&r.drawBuffers(H)}function We(C){return m!==C?(r.useProgram(C),m=C,!0):!1}const P={[li]:r.FUNC_ADD,[Vd]:r.FUNC_SUBTRACT,[Bd]:r.FUNC_REVERSE_SUBTRACT};P[zd]=r.MIN,P[Gd]=r.MAX;const je={[Wd]:r.ZERO,[jd]:r.ONE,[Xd]:r.SRC_COLOR,[Ys]:r.SRC_ALPHA,[Jd]:r.SRC_ALPHA_SATURATE,[Kd]:r.DST_COLOR,[qd]:r.DST_ALPHA,[Zd]:r.ONE_MINUS_SRC_COLOR,[Ks]:r.ONE_MINUS_SRC_ALPHA,[$d]:r.ONE_MINUS_DST_COLOR,[Yd]:r.ONE_MINUS_DST_ALPHA,[Qd]:r.CONSTANT_COLOR,[eu]:r.ONE_MINUS_CONSTANT_COLOR,[tu]:r.CONSTANT_ALPHA,[nu]:r.ONE_MINUS_CONSTANT_ALPHA};function ze(C,X,H,Z,J,ve,Re,at,ut,Ze){if(C===Xn){_===!0&&(le(r.BLEND),_=!1);return}if(_===!1&&(fe(r.BLEND),_=!0),C!==Hd){if(C!==v||Ze!==I){if((g!==li||M!==li)&&(r.blendEquation(r.FUNC_ADD),g=li,M=li),Ze)switch(C){case Fi:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Fa:r.blendFunc(r.ONE,r.ONE);break;case Oa:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case Ha:r.blendFuncSeparate(r.ZERO,r.SRC_COLOR,r.ZERO,r.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",C);break}else switch(C){case Fi:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Fa:r.blendFunc(r.SRC_ALPHA,r.ONE);break;case Oa:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case Ha:r.blendFunc(r.ZERO,r.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",C);break}p=null,S=null,E=null,D=null,R.set(0,0,0),T=0,v=C,I=Ze}return}J=J||X,ve=ve||H,Re=Re||Z,(X!==g||J!==M)&&(r.blendEquationSeparate(P[X],P[J]),g=X,M=J),(H!==p||Z!==S||ve!==E||Re!==D)&&(r.blendFuncSeparate(je[H],je[Z],je[ve],je[Re]),p=H,S=Z,E=ve,D=Re),(at.equals(R)===!1||ut!==T)&&(r.blendColor(at.r,at.g,at.b,ut),R.copy(at),T=ut),v=C,I=!1}function tt(C,X){C.side===dn?le(r.CULL_FACE):fe(r.CULL_FACE);let H=C.side===Dt;X&&(H=!H),Se(H),C.blending===Fi&&C.transparent===!1?ze(Xn):ze(C.blending,C.blendEquation,C.blendSrc,C.blendDst,C.blendEquationAlpha,C.blendSrcAlpha,C.blendDstAlpha,C.blendColor,C.blendAlpha,C.premultipliedAlpha),o.setFunc(C.depthFunc),o.setTest(C.depthTest),o.setMask(C.depthWrite),i.setMask(C.colorWrite);const Z=C.stencilWrite;s.setTest(Z),Z&&(s.setMask(C.stencilWriteMask),s.setFunc(C.stencilFunc,C.stencilRef,C.stencilFuncMask),s.setOp(C.stencilFail,C.stencilZFail,C.stencilZPass)),De(C.polygonOffset,C.polygonOffsetFactor,C.polygonOffsetUnits),C.alphaToCoverage===!0?fe(r.SAMPLE_ALPHA_TO_COVERAGE):le(r.SAMPLE_ALPHA_TO_COVERAGE)}function Se(C){b!==C&&(C?r.frontFace(r.CW):r.frontFace(r.CCW),b=C)}function Xe(C){C!==Fd?(fe(r.CULL_FACE),C!==x&&(C===Ua?r.cullFace(r.BACK):C===Od?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):le(r.CULL_FACE),x=C}function Ve(C){C!==L&&(O&&r.lineWidth(C),L=C)}function De(C,X,H){C?(fe(r.POLYGON_OFFSET_FILL),(z!==X||G!==H)&&(r.polygonOffset(X,H),z=X,G=H)):le(r.POLYGON_OFFSET_FILL)}function ot(C){C?fe(r.SCISSOR_TEST):le(r.SCISSOR_TEST)}function k(C){C===void 0&&(C=r.TEXTURE0+K-1),W!==C&&(r.activeTexture(C),W=C)}function y(C,X,H){H===void 0&&(W===null?H=r.TEXTURE0+K-1:H=W);let Z=ne[H];Z===void 0&&(Z={type:void 0,texture:void 0},ne[H]=Z),(Z.type!==C||Z.texture!==X)&&(W!==H&&(r.activeTexture(H),W=H),r.bindTexture(C,X||te[C]),Z.type=C,Z.texture=X)}function j(){const C=ne[W];C!==void 0&&C.type!==void 0&&(r.bindTexture(C.type,null),C.type=void 0,C.texture=void 0)}function $(){try{r.compressedTexImage2D.apply(r,arguments)}catch(C){console.error("THREE.WebGLState:",C)}}function Q(){try{r.compressedTexImage3D.apply(r,arguments)}catch(C){console.error("THREE.WebGLState:",C)}}function ee(){try{r.texSubImage2D.apply(r,arguments)}catch(C){console.error("THREE.WebGLState:",C)}}function Ce(){try{r.texSubImage3D.apply(r,arguments)}catch(C){console.error("THREE.WebGLState:",C)}}function ae(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(C){console.error("THREE.WebGLState:",C)}}function se(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(C){console.error("THREE.WebGLState:",C)}}function Ie(){try{r.texStorage2D.apply(r,arguments)}catch(C){console.error("THREE.WebGLState:",C)}}function ie(){try{r.texStorage3D.apply(r,arguments)}catch(C){console.error("THREE.WebGLState:",C)}}function me(){try{r.texImage2D.apply(r,arguments)}catch(C){console.error("THREE.WebGLState:",C)}}function Be(){try{r.texImage3D.apply(r,arguments)}catch(C){console.error("THREE.WebGLState:",C)}}function be(C){Te.equals(C)===!1&&(r.scissor(C.x,C.y,C.z,C.w),Te.copy(C))}function ce(C){ke.equals(C)===!1&&(r.viewport(C.x,C.y,C.z,C.w),ke.copy(C))}function Ne(C,X){let H=c.get(X);H===void 0&&(H=new WeakMap,c.set(X,H));let Z=H.get(C);Z===void 0&&(Z=r.getUniformBlockIndex(X,C.name),H.set(C,Z))}function Ue(C,X){const Z=c.get(X).get(C);a.get(X)!==Z&&(r.uniformBlockBinding(X,Z,C.__bindingPointIndex),a.set(X,Z))}function st(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),d={},W=null,ne={},u={},h=new WeakMap,f=[],m=null,_=!1,v=null,g=null,p=null,S=null,M=null,E=null,D=null,R=new xe(0,0,0),T=0,I=!1,b=null,x=null,L=null,z=null,G=null,Te.set(0,0,r.canvas.width,r.canvas.height),ke.set(0,0,r.canvas.width,r.canvas.height),i.reset(),o.reset(),s.reset()}return{buffers:{color:i,depth:o,stencil:s},enable:fe,disable:le,bindFramebuffer:He,drawBuffers:Pe,useProgram:We,setBlending:ze,setMaterial:tt,setFlipSided:Se,setCullFace:Xe,setLineWidth:Ve,setPolygonOffset:De,setScissorTest:ot,activeTexture:k,bindTexture:y,unbindTexture:j,compressedTexImage2D:$,compressedTexImage3D:Q,texImage2D:me,texImage3D:Be,updateUBOMapping:Ne,uniformBlockBinding:Ue,texStorage2D:Ie,texStorage3D:ie,texSubImage2D:ee,texSubImage3D:Ce,compressedTexSubImage2D:ae,compressedTexSubImage3D:se,scissor:be,viewport:ce,reset:st}}function Qp(r,e,t,n,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new ye,u=new WeakMap;let h;const f=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(k,y){return m?new OffscreenCanvas(k,y):Pr("canvas")}function v(k,y,j){let $=1;const Q=ot(k);if((Q.width>j||Q.height>j)&&($=j/Math.max(Q.width,Q.height)),$<1)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap||typeof VideoFrame<"u"&&k instanceof VideoFrame){const ee=Math.floor($*Q.width),Ce=Math.floor($*Q.height);h===void 0&&(h=_(ee,Ce));const ae=y?_(ee,Ce):h;return ae.width=ee,ae.height=Ce,ae.getContext("2d").drawImage(k,0,0,ee,Ce),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+ee+"x"+Ce+")."),ae}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),k;return k}function g(k){return k.generateMipmaps&&k.minFilter!==Pt&&k.minFilter!==Vt}function p(k){r.generateMipmap(k)}function S(k,y,j,$,Q=!1){if(k!==null){if(r[k]!==void 0)return r[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let ee=y;if(y===r.RED&&(j===r.FLOAT&&(ee=r.R32F),j===r.HALF_FLOAT&&(ee=r.R16F),j===r.UNSIGNED_BYTE&&(ee=r.R8)),y===r.RED_INTEGER&&(j===r.UNSIGNED_BYTE&&(ee=r.R8UI),j===r.UNSIGNED_SHORT&&(ee=r.R16UI),j===r.UNSIGNED_INT&&(ee=r.R32UI),j===r.BYTE&&(ee=r.R8I),j===r.SHORT&&(ee=r.R16I),j===r.INT&&(ee=r.R32I)),y===r.RG&&(j===r.FLOAT&&(ee=r.RG32F),j===r.HALF_FLOAT&&(ee=r.RG16F),j===r.UNSIGNED_BYTE&&(ee=r.RG8)),y===r.RG_INTEGER&&(j===r.UNSIGNED_BYTE&&(ee=r.RG8UI),j===r.UNSIGNED_SHORT&&(ee=r.RG16UI),j===r.UNSIGNED_INT&&(ee=r.RG32UI),j===r.BYTE&&(ee=r.RG8I),j===r.SHORT&&(ee=r.RG16I),j===r.INT&&(ee=r.RG32I)),y===r.RGB&&j===r.UNSIGNED_INT_5_9_9_9_REV&&(ee=r.RGB9_E5),y===r.RGBA){const Ce=Q?Lo:qe.getTransfer($);j===r.FLOAT&&(ee=r.RGBA32F),j===r.HALF_FLOAT&&(ee=r.RGBA16F),j===r.UNSIGNED_BYTE&&(ee=Ce===it?r.SRGB8_ALPHA8:r.RGBA8),j===r.UNSIGNED_SHORT_4_4_4_4&&(ee=r.RGBA4),j===r.UNSIGNED_SHORT_5_5_5_1&&(ee=r.RGB5_A1)}return(ee===r.R16F||ee===r.R32F||ee===r.RG16F||ee===r.RG32F||ee===r.RGBA16F||ee===r.RGBA32F)&&e.get("EXT_color_buffer_float"),ee}function M(k,y){let j;return k?y===null||y===Yi||y===Ki?j=r.DEPTH24_STENCIL8:y===un?j=r.DEPTH32F_STENCIL8:y===Ro&&(j=r.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):y===null||y===Yi||y===Ki?j=r.DEPTH_COMPONENT24:y===un?j=r.DEPTH_COMPONENT32F:y===Ro&&(j=r.DEPTH_COMPONENT16),j}function E(k,y){return g(k)===!0||k.isFramebufferTexture&&k.minFilter!==Pt&&k.minFilter!==Vt?Math.log2(Math.max(y.width,y.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?y.mipmaps.length:1}function D(k){const y=k.target;y.removeEventListener("dispose",D),T(y),y.isVideoTexture&&u.delete(y)}function R(k){const y=k.target;y.removeEventListener("dispose",R),b(y)}function T(k){const y=n.get(k);if(y.__webglInit===void 0)return;const j=k.source,$=f.get(j);if($){const Q=$[y.__cacheKey];Q.usedTimes--,Q.usedTimes===0&&I(k),Object.keys($).length===0&&f.delete(j)}n.remove(k)}function I(k){const y=n.get(k);r.deleteTexture(y.__webglTexture);const j=k.source,$=f.get(j);delete $[y.__cacheKey],s.memory.textures--}function b(k){const y=n.get(k);if(k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let $=0;$<6;$++){if(Array.isArray(y.__webglFramebuffer[$]))for(let Q=0;Q<y.__webglFramebuffer[$].length;Q++)r.deleteFramebuffer(y.__webglFramebuffer[$][Q]);else r.deleteFramebuffer(y.__webglFramebuffer[$]);y.__webglDepthbuffer&&r.deleteRenderbuffer(y.__webglDepthbuffer[$])}else{if(Array.isArray(y.__webglFramebuffer))for(let $=0;$<y.__webglFramebuffer.length;$++)r.deleteFramebuffer(y.__webglFramebuffer[$]);else r.deleteFramebuffer(y.__webglFramebuffer);if(y.__webglDepthbuffer&&r.deleteRenderbuffer(y.__webglDepthbuffer),y.__webglMultisampledFramebuffer&&r.deleteFramebuffer(y.__webglMultisampledFramebuffer),y.__webglColorRenderbuffer)for(let $=0;$<y.__webglColorRenderbuffer.length;$++)y.__webglColorRenderbuffer[$]&&r.deleteRenderbuffer(y.__webglColorRenderbuffer[$]);y.__webglDepthRenderbuffer&&r.deleteRenderbuffer(y.__webglDepthRenderbuffer)}const j=k.textures;for(let $=0,Q=j.length;$<Q;$++){const ee=n.get(j[$]);ee.__webglTexture&&(r.deleteTexture(ee.__webglTexture),s.memory.textures--),n.remove(j[$])}n.remove(k)}let x=0;function L(){x=0}function z(){const k=x;return k>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+i.maxTextures),x+=1,k}function G(k){const y=[];return y.push(k.wrapS),y.push(k.wrapT),y.push(k.wrapR||0),y.push(k.magFilter),y.push(k.minFilter),y.push(k.anisotropy),y.push(k.internalFormat),y.push(k.format),y.push(k.type),y.push(k.generateMipmaps),y.push(k.premultiplyAlpha),y.push(k.flipY),y.push(k.unpackAlignment),y.push(k.colorSpace),y.join()}function K(k,y){const j=n.get(k);if(k.isVideoTexture&&Ve(k),k.isRenderTargetTexture===!1&&k.version>0&&j.__version!==k.version){const $=k.image;if($===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if($.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(j,k,y);return}}t.bindTexture(r.TEXTURE_2D,j.__webglTexture,r.TEXTURE0+y)}function O(k,y){const j=n.get(k);if(k.version>0&&j.__version!==k.version){ke(j,k,y);return}t.bindTexture(r.TEXTURE_2D_ARRAY,j.__webglTexture,r.TEXTURE0+y)}function F(k,y){const j=n.get(k);if(k.version>0&&j.__version!==k.version){ke(j,k,y);return}t.bindTexture(r.TEXTURE_3D,j.__webglTexture,r.TEXTURE0+y)}function q(k,y){const j=n.get(k);if(k.version>0&&j.__version!==k.version){Y(j,k,y);return}t.bindTexture(r.TEXTURE_CUBE_MAP,j.__webglTexture,r.TEXTURE0+y)}const W={[hi]:r.REPEAT,[Wn]:r.CLAMP_TO_EDGE,[ko]:r.MIRRORED_REPEAT},ne={[Pt]:r.NEAREST,[Gc]:r.NEAREST_MIPMAP_NEAREST,[yr]:r.NEAREST_MIPMAP_LINEAR,[Vt]:r.LINEAR,[bo]:r.LINEAR_MIPMAP_NEAREST,[Ln]:r.LINEAR_MIPMAP_LINEAR},de={[Du]:r.NEVER,[Hu]:r.ALWAYS,[Iu]:r.LESS,[Jc]:r.LEQUAL,[Nu]:r.EQUAL,[Ou]:r.GEQUAL,[Uu]:r.GREATER,[Fu]:r.NOTEQUAL};function ue(k,y){if(y.type===un&&e.has("OES_texture_float_linear")===!1&&(y.magFilter===Vt||y.magFilter===bo||y.magFilter===yr||y.magFilter===Ln||y.minFilter===Vt||y.minFilter===bo||y.minFilter===yr||y.minFilter===Ln)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(k,r.TEXTURE_WRAP_S,W[y.wrapS]),r.texParameteri(k,r.TEXTURE_WRAP_T,W[y.wrapT]),(k===r.TEXTURE_3D||k===r.TEXTURE_2D_ARRAY)&&r.texParameteri(k,r.TEXTURE_WRAP_R,W[y.wrapR]),r.texParameteri(k,r.TEXTURE_MAG_FILTER,ne[y.magFilter]),r.texParameteri(k,r.TEXTURE_MIN_FILTER,ne[y.minFilter]),y.compareFunction&&(r.texParameteri(k,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(k,r.TEXTURE_COMPARE_FUNC,de[y.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(y.magFilter===Pt||y.minFilter!==yr&&y.minFilter!==Ln||y.type===un&&e.has("OES_texture_float_linear")===!1)return;if(y.anisotropy>1||n.get(y).__currentAnisotropy){const j=e.get("EXT_texture_filter_anisotropic");r.texParameterf(k,j.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(y.anisotropy,i.getMaxAnisotropy())),n.get(y).__currentAnisotropy=y.anisotropy}}}function Te(k,y){let j=!1;k.__webglInit===void 0&&(k.__webglInit=!0,y.addEventListener("dispose",D));const $=y.source;let Q=f.get($);Q===void 0&&(Q={},f.set($,Q));const ee=G(y);if(ee!==k.__cacheKey){Q[ee]===void 0&&(Q[ee]={texture:r.createTexture(),usedTimes:0},s.memory.textures++,j=!0),Q[ee].usedTimes++;const Ce=Q[k.__cacheKey];Ce!==void 0&&(Q[k.__cacheKey].usedTimes--,Ce.usedTimes===0&&I(y)),k.__cacheKey=ee,k.__webglTexture=Q[ee].texture}return j}function ke(k,y,j){let $=r.TEXTURE_2D;(y.isDataArrayTexture||y.isCompressedArrayTexture)&&($=r.TEXTURE_2D_ARRAY),y.isData3DTexture&&($=r.TEXTURE_3D);const Q=Te(k,y),ee=y.source;t.bindTexture($,k.__webglTexture,r.TEXTURE0+j);const Ce=n.get(ee);if(ee.version!==Ce.__version||Q===!0){t.activeTexture(r.TEXTURE0+j);const ae=qe.getPrimaries(qe.workingColorSpace),se=y.colorSpace===Gn?null:qe.getPrimaries(y.colorSpace),Ie=y.colorSpace===Gn||ae===se?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,y.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,y.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,y.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ie);let ie=v(y.image,!1,i.maxTextureSize);ie=De(y,ie);const me=o.convert(y.format,y.colorSpace),Be=o.convert(y.type);let be=S(y.internalFormat,me,Be,y.colorSpace,y.isVideoTexture);ue($,y);let ce;const Ne=y.mipmaps,Ue=y.isVideoTexture!==!0,st=Ce.__version===void 0||Q===!0,C=ee.dataReady,X=E(y,ie);if(y.isDepthTexture)be=M(y.format===$i,y.type),st&&(Ue?t.texStorage2D(r.TEXTURE_2D,1,be,ie.width,ie.height):t.texImage2D(r.TEXTURE_2D,0,be,ie.width,ie.height,0,me,Be,null));else if(y.isDataTexture)if(Ne.length>0){Ue&&st&&t.texStorage2D(r.TEXTURE_2D,X,be,Ne[0].width,Ne[0].height);for(let H=0,Z=Ne.length;H<Z;H++)ce=Ne[H],Ue?C&&t.texSubImage2D(r.TEXTURE_2D,H,0,0,ce.width,ce.height,me,Be,ce.data):t.texImage2D(r.TEXTURE_2D,H,be,ce.width,ce.height,0,me,Be,ce.data);y.generateMipmaps=!1}else Ue?(st&&t.texStorage2D(r.TEXTURE_2D,X,be,ie.width,ie.height),C&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,ie.width,ie.height,me,Be,ie.data)):t.texImage2D(r.TEXTURE_2D,0,be,ie.width,ie.height,0,me,Be,ie.data);else if(y.isCompressedTexture)if(y.isCompressedArrayTexture){Ue&&st&&t.texStorage3D(r.TEXTURE_2D_ARRAY,X,be,Ne[0].width,Ne[0].height,ie.depth);for(let H=0,Z=Ne.length;H<Z;H++)if(ce=Ne[H],y.format!==en)if(me!==null)if(Ue){if(C)if(y.layerUpdates.size>0){for(const J of y.layerUpdates){const ve=ce.width*ce.height;t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,H,0,0,J,ce.width,ce.height,1,me,ce.data.slice(ve*J,ve*(J+1)),0,0)}y.clearLayerUpdates()}else t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,H,0,0,0,ce.width,ce.height,ie.depth,me,ce.data,0,0)}else t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,H,be,ce.width,ce.height,ie.depth,0,ce.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ue?C&&t.texSubImage3D(r.TEXTURE_2D_ARRAY,H,0,0,0,ce.width,ce.height,ie.depth,me,Be,ce.data):t.texImage3D(r.TEXTURE_2D_ARRAY,H,be,ce.width,ce.height,ie.depth,0,me,Be,ce.data)}else{Ue&&st&&t.texStorage2D(r.TEXTURE_2D,X,be,Ne[0].width,Ne[0].height);for(let H=0,Z=Ne.length;H<Z;H++)ce=Ne[H],y.format!==en?me!==null?Ue?C&&t.compressedTexSubImage2D(r.TEXTURE_2D,H,0,0,ce.width,ce.height,me,ce.data):t.compressedTexImage2D(r.TEXTURE_2D,H,be,ce.width,ce.height,0,ce.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ue?C&&t.texSubImage2D(r.TEXTURE_2D,H,0,0,ce.width,ce.height,me,Be,ce.data):t.texImage2D(r.TEXTURE_2D,H,be,ce.width,ce.height,0,me,Be,ce.data)}else if(y.isDataArrayTexture)if(Ue){if(st&&t.texStorage3D(r.TEXTURE_2D_ARRAY,X,be,ie.width,ie.height,ie.depth),C)if(y.layerUpdates.size>0){let H;switch(Be){case r.UNSIGNED_BYTE:switch(me){case r.ALPHA:H=1;break;case r.LUMINANCE:H=1;break;case r.LUMINANCE_ALPHA:H=2;break;case r.RGB:H=3;break;case r.RGBA:H=4;break;default:throw new Error(`Unknown texel size for format ${me}.`)}break;case r.UNSIGNED_SHORT_4_4_4_4:case r.UNSIGNED_SHORT_5_5_5_1:case r.UNSIGNED_SHORT_5_6_5:H=1;break;default:throw new Error(`Unknown texel size for type ${Be}.`)}const Z=ie.width*ie.height*H;for(const J of y.layerUpdates)t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,J,ie.width,ie.height,1,me,Be,ie.data.slice(Z*J,Z*(J+1)));y.clearLayerUpdates()}else t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,ie.width,ie.height,ie.depth,me,Be,ie.data)}else t.texImage3D(r.TEXTURE_2D_ARRAY,0,be,ie.width,ie.height,ie.depth,0,me,Be,ie.data);else if(y.isData3DTexture)Ue?(st&&t.texStorage3D(r.TEXTURE_3D,X,be,ie.width,ie.height,ie.depth),C&&t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,ie.width,ie.height,ie.depth,me,Be,ie.data)):t.texImage3D(r.TEXTURE_3D,0,be,ie.width,ie.height,ie.depth,0,me,Be,ie.data);else if(y.isFramebufferTexture){if(st)if(Ue)t.texStorage2D(r.TEXTURE_2D,X,be,ie.width,ie.height);else{let H=ie.width,Z=ie.height;for(let J=0;J<X;J++)t.texImage2D(r.TEXTURE_2D,J,be,H,Z,0,me,Be,null),H>>=1,Z>>=1}}else if(Ne.length>0){if(Ue&&st){const H=ot(Ne[0]);t.texStorage2D(r.TEXTURE_2D,X,be,H.width,H.height)}for(let H=0,Z=Ne.length;H<Z;H++)ce=Ne[H],Ue?C&&t.texSubImage2D(r.TEXTURE_2D,H,0,0,me,Be,ce):t.texImage2D(r.TEXTURE_2D,H,be,me,Be,ce);y.generateMipmaps=!1}else if(Ue){if(st){const H=ot(ie);t.texStorage2D(r.TEXTURE_2D,X,be,H.width,H.height)}C&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,me,Be,ie)}else t.texImage2D(r.TEXTURE_2D,0,be,me,Be,ie);g(y)&&p($),Ce.__version=ee.version,y.onUpdate&&y.onUpdate(y)}k.__version=y.version}function Y(k,y,j){if(y.image.length!==6)return;const $=Te(k,y),Q=y.source;t.bindTexture(r.TEXTURE_CUBE_MAP,k.__webglTexture,r.TEXTURE0+j);const ee=n.get(Q);if(Q.version!==ee.__version||$===!0){t.activeTexture(r.TEXTURE0+j);const Ce=qe.getPrimaries(qe.workingColorSpace),ae=y.colorSpace===Gn?null:qe.getPrimaries(y.colorSpace),se=y.colorSpace===Gn||Ce===ae?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,y.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,y.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,y.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,se);const Ie=y.isCompressedTexture||y.image[0].isCompressedTexture,ie=y.image[0]&&y.image[0].isDataTexture,me=[];for(let Z=0;Z<6;Z++)!Ie&&!ie?me[Z]=v(y.image[Z],!0,i.maxCubemapSize):me[Z]=ie?y.image[Z].image:y.image[Z],me[Z]=De(y,me[Z]);const Be=me[0],be=o.convert(y.format,y.colorSpace),ce=o.convert(y.type),Ne=S(y.internalFormat,be,ce,y.colorSpace),Ue=y.isVideoTexture!==!0,st=ee.__version===void 0||$===!0,C=Q.dataReady;let X=E(y,Be);ue(r.TEXTURE_CUBE_MAP,y);let H;if(Ie){Ue&&st&&t.texStorage2D(r.TEXTURE_CUBE_MAP,X,Ne,Be.width,Be.height);for(let Z=0;Z<6;Z++){H=me[Z].mipmaps;for(let J=0;J<H.length;J++){const ve=H[J];y.format!==en?be!==null?Ue?C&&t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,J,0,0,ve.width,ve.height,be,ve.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,J,Ne,ve.width,ve.height,0,ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ue?C&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,J,0,0,ve.width,ve.height,be,ce,ve.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,J,Ne,ve.width,ve.height,0,be,ce,ve.data)}}}else{if(H=y.mipmaps,Ue&&st){H.length>0&&X++;const Z=ot(me[0]);t.texStorage2D(r.TEXTURE_CUBE_MAP,X,Ne,Z.width,Z.height)}for(let Z=0;Z<6;Z++)if(ie){Ue?C&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,0,0,me[Z].width,me[Z].height,be,ce,me[Z].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,Ne,me[Z].width,me[Z].height,0,be,ce,me[Z].data);for(let J=0;J<H.length;J++){const Re=H[J].image[Z].image;Ue?C&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,J+1,0,0,Re.width,Re.height,be,ce,Re.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,J+1,Ne,Re.width,Re.height,0,be,ce,Re.data)}}else{Ue?C&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,0,0,be,ce,me[Z]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,Ne,be,ce,me[Z]);for(let J=0;J<H.length;J++){const ve=H[J];Ue?C&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,J+1,0,0,be,ce,ve.image[Z]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Z,J+1,Ne,be,ce,ve.image[Z])}}}g(y)&&p(r.TEXTURE_CUBE_MAP),ee.__version=Q.version,y.onUpdate&&y.onUpdate(y)}k.__version=y.version}function te(k,y,j,$,Q,ee){const Ce=o.convert(j.format,j.colorSpace),ae=o.convert(j.type),se=S(j.internalFormat,Ce,ae,j.colorSpace);if(!n.get(y).__hasExternalTextures){const ie=Math.max(1,y.width>>ee),me=Math.max(1,y.height>>ee);Q===r.TEXTURE_3D||Q===r.TEXTURE_2D_ARRAY?t.texImage3D(Q,ee,se,ie,me,y.depth,0,Ce,ae,null):t.texImage2D(Q,ee,se,ie,me,0,Ce,ae,null)}t.bindFramebuffer(r.FRAMEBUFFER,k),Xe(y)?a.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,$,Q,n.get(j).__webglTexture,0,Se(y)):(Q===r.TEXTURE_2D||Q>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Q<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,$,Q,n.get(j).__webglTexture,ee),t.bindFramebuffer(r.FRAMEBUFFER,null)}function fe(k,y,j){if(r.bindRenderbuffer(r.RENDERBUFFER,k),y.depthBuffer){const $=y.depthTexture,Q=$&&$.isDepthTexture?$.type:null,ee=M(y.stencilBuffer,Q),Ce=y.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,ae=Se(y);Xe(y)?a.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,ae,ee,y.width,y.height):j?r.renderbufferStorageMultisample(r.RENDERBUFFER,ae,ee,y.width,y.height):r.renderbufferStorage(r.RENDERBUFFER,ee,y.width,y.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,Ce,r.RENDERBUFFER,k)}else{const $=y.textures;for(let Q=0;Q<$.length;Q++){const ee=$[Q],Ce=o.convert(ee.format,ee.colorSpace),ae=o.convert(ee.type),se=S(ee.internalFormat,Ce,ae,ee.colorSpace),Ie=Se(y);j&&Xe(y)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,Ie,se,y.width,y.height):Xe(y)?a.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Ie,se,y.width,y.height):r.renderbufferStorage(r.RENDERBUFFER,se,y.width,y.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function le(k,y){if(y&&y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,k),!(y.depthTexture&&y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(y.depthTexture).__webglTexture||y.depthTexture.image.width!==y.width||y.depthTexture.image.height!==y.height)&&(y.depthTexture.image.width=y.width,y.depthTexture.image.height=y.height,y.depthTexture.needsUpdate=!0),K(y.depthTexture,0);const $=n.get(y.depthTexture).__webglTexture,Q=Se(y);if(y.depthTexture.format===Oi)Xe(y)?a.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,$,0,Q):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,$,0);else if(y.depthTexture.format===$i)Xe(y)?a.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,$,0,Q):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,$,0);else throw new Error("Unknown depthTexture format")}function He(k){const y=n.get(k),j=k.isWebGLCubeRenderTarget===!0;if(k.depthTexture&&!y.__autoAllocateDepthBuffer){if(j)throw new Error("target.depthTexture not supported in Cube render targets");le(y.__webglFramebuffer,k)}else if(j){y.__webglDepthbuffer=[];for(let $=0;$<6;$++)t.bindFramebuffer(r.FRAMEBUFFER,y.__webglFramebuffer[$]),y.__webglDepthbuffer[$]=r.createRenderbuffer(),fe(y.__webglDepthbuffer[$],k,!1)}else t.bindFramebuffer(r.FRAMEBUFFER,y.__webglFramebuffer),y.__webglDepthbuffer=r.createRenderbuffer(),fe(y.__webglDepthbuffer,k,!1);t.bindFramebuffer(r.FRAMEBUFFER,null)}function Pe(k,y,j){const $=n.get(k);y!==void 0&&te($.__webglFramebuffer,k,k.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),j!==void 0&&He(k)}function We(k){const y=k.texture,j=n.get(k),$=n.get(y);k.addEventListener("dispose",R);const Q=k.textures,ee=k.isWebGLCubeRenderTarget===!0,Ce=Q.length>1;if(Ce||($.__webglTexture===void 0&&($.__webglTexture=r.createTexture()),$.__version=y.version,s.memory.textures++),ee){j.__webglFramebuffer=[];for(let ae=0;ae<6;ae++)if(y.mipmaps&&y.mipmaps.length>0){j.__webglFramebuffer[ae]=[];for(let se=0;se<y.mipmaps.length;se++)j.__webglFramebuffer[ae][se]=r.createFramebuffer()}else j.__webglFramebuffer[ae]=r.createFramebuffer()}else{if(y.mipmaps&&y.mipmaps.length>0){j.__webglFramebuffer=[];for(let ae=0;ae<y.mipmaps.length;ae++)j.__webglFramebuffer[ae]=r.createFramebuffer()}else j.__webglFramebuffer=r.createFramebuffer();if(Ce)for(let ae=0,se=Q.length;ae<se;ae++){const Ie=n.get(Q[ae]);Ie.__webglTexture===void 0&&(Ie.__webglTexture=r.createTexture(),s.memory.textures++)}if(k.samples>0&&Xe(k)===!1){j.__webglMultisampledFramebuffer=r.createFramebuffer(),j.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,j.__webglMultisampledFramebuffer);for(let ae=0;ae<Q.length;ae++){const se=Q[ae];j.__webglColorRenderbuffer[ae]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,j.__webglColorRenderbuffer[ae]);const Ie=o.convert(se.format,se.colorSpace),ie=o.convert(se.type),me=S(se.internalFormat,Ie,ie,se.colorSpace,k.isXRRenderTarget===!0),Be=Se(k);r.renderbufferStorageMultisample(r.RENDERBUFFER,Be,me,k.width,k.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+ae,r.RENDERBUFFER,j.__webglColorRenderbuffer[ae])}r.bindRenderbuffer(r.RENDERBUFFER,null),k.depthBuffer&&(j.__webglDepthRenderbuffer=r.createRenderbuffer(),fe(j.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(ee){t.bindTexture(r.TEXTURE_CUBE_MAP,$.__webglTexture),ue(r.TEXTURE_CUBE_MAP,y);for(let ae=0;ae<6;ae++)if(y.mipmaps&&y.mipmaps.length>0)for(let se=0;se<y.mipmaps.length;se++)te(j.__webglFramebuffer[ae][se],k,y,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+ae,se);else te(j.__webglFramebuffer[ae],k,y,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0);g(y)&&p(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ce){for(let ae=0,se=Q.length;ae<se;ae++){const Ie=Q[ae],ie=n.get(Ie);t.bindTexture(r.TEXTURE_2D,ie.__webglTexture),ue(r.TEXTURE_2D,Ie),te(j.__webglFramebuffer,k,Ie,r.COLOR_ATTACHMENT0+ae,r.TEXTURE_2D,0),g(Ie)&&p(r.TEXTURE_2D)}t.unbindTexture()}else{let ae=r.TEXTURE_2D;if((k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(ae=k.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(ae,$.__webglTexture),ue(ae,y),y.mipmaps&&y.mipmaps.length>0)for(let se=0;se<y.mipmaps.length;se++)te(j.__webglFramebuffer[se],k,y,r.COLOR_ATTACHMENT0,ae,se);else te(j.__webglFramebuffer,k,y,r.COLOR_ATTACHMENT0,ae,0);g(y)&&p(ae),t.unbindTexture()}k.depthBuffer&&He(k)}function P(k){const y=k.textures;for(let j=0,$=y.length;j<$;j++){const Q=y[j];if(g(Q)){const ee=k.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:r.TEXTURE_2D,Ce=n.get(Q).__webglTexture;t.bindTexture(ee,Ce),p(ee),t.unbindTexture()}}}const je=[],ze=[];function tt(k){if(k.samples>0){if(Xe(k)===!1){const y=k.textures,j=k.width,$=k.height;let Q=r.COLOR_BUFFER_BIT;const ee=k.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ce=n.get(k),ae=y.length>1;if(ae)for(let se=0;se<y.length;se++)t.bindFramebuffer(r.FRAMEBUFFER,Ce.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+se,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,Ce.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+se,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,Ce.__webglMultisampledFramebuffer),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ce.__webglFramebuffer);for(let se=0;se<y.length;se++){if(k.resolveDepthBuffer&&(k.depthBuffer&&(Q|=r.DEPTH_BUFFER_BIT),k.stencilBuffer&&k.resolveStencilBuffer&&(Q|=r.STENCIL_BUFFER_BIT)),ae){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Ce.__webglColorRenderbuffer[se]);const Ie=n.get(y[se]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,Ie,0)}r.blitFramebuffer(0,0,j,$,0,0,j,$,Q,r.NEAREST),c===!0&&(je.length=0,ze.length=0,je.push(r.COLOR_ATTACHMENT0+se),k.depthBuffer&&k.resolveDepthBuffer===!1&&(je.push(ee),ze.push(ee),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,ze)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,je))}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),ae)for(let se=0;se<y.length;se++){t.bindFramebuffer(r.FRAMEBUFFER,Ce.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+se,r.RENDERBUFFER,Ce.__webglColorRenderbuffer[se]);const Ie=n.get(y[se]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,Ce.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+se,r.TEXTURE_2D,Ie,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ce.__webglMultisampledFramebuffer)}else if(k.depthBuffer&&k.resolveDepthBuffer===!1&&c){const y=k.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[y])}}}function Se(k){return Math.min(i.maxSamples,k.samples)}function Xe(k){const y=n.get(k);return k.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&y.__useRenderToTexture!==!1}function Ve(k){const y=s.render.frame;u.get(k)!==y&&(u.set(k,y),k.update())}function De(k,y){const j=k.colorSpace,$=k.format,Q=k.type;return k.isCompressedTexture===!0||k.isVideoTexture===!0||j!==yt&&j!==Gn&&(qe.getTransfer(j)===it?($!==en||Q!==qn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",j)),y}function ot(k){return typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement?(d.width=k.naturalWidth||k.width,d.height=k.naturalHeight||k.height):typeof VideoFrame<"u"&&k instanceof VideoFrame?(d.width=k.displayWidth,d.height=k.displayHeight):(d.width=k.width,d.height=k.height),d}this.allocateTextureUnit=z,this.resetTextureUnits=L,this.setTexture2D=K,this.setTexture2DArray=O,this.setTexture3D=F,this.setTextureCube=q,this.rebindTextures=Pe,this.setupRenderTarget=We,this.updateRenderTargetMipmap=P,this.updateMultisampleRenderTarget=tt,this.setupDepthRenderbuffer=He,this.setupFrameBufferTexture=te,this.useMultisampledRTT=Xe}function e9(r,e){function t(n,i=Gn){let o;const s=qe.getTransfer(i);if(n===qn)return r.UNSIGNED_BYTE;if(n===jc)return r.UNSIGNED_SHORT_4_4_4_4;if(n===Xc)return r.UNSIGNED_SHORT_5_5_5_1;if(n===xu)return r.UNSIGNED_INT_5_9_9_9_REV;if(n===vu)return r.BYTE;if(n===Mu)return r.SHORT;if(n===Ro)return r.UNSIGNED_SHORT;if(n===Wc)return r.INT;if(n===Yi)return r.UNSIGNED_INT;if(n===un)return r.FLOAT;if(n===Yo)return r.HALF_FLOAT;if(n===yu)return r.ALPHA;if(n===Su)return r.RGB;if(n===en)return r.RGBA;if(n===wu)return r.LUMINANCE;if(n===bu)return r.LUMINANCE_ALPHA;if(n===Oi)return r.DEPTH_COMPONENT;if(n===$i)return r.DEPTH_STENCIL;if(n===Zc)return r.RED;if(n===qc)return r.RED_INTEGER;if(n===Eu)return r.RG;if(n===Yc)return r.RG_INTEGER;if(n===Kc)return r.RGBA_INTEGER;if(n===ss||n===as||n===ls||n===cs)if(s===it)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(n===ss)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===as)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===ls)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===cs)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(n===ss)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===as)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===ls)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===cs)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Ba||n===za||n===Ga||n===Wa)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(n===Ba)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===za)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Ga)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Wa)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===ja||n===Xa||n===Za)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(n===ja||n===Xa)return s===it?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===Za)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===qa||n===Ya||n===Ka||n===$a||n===Ja||n===Qa||n===el||n===tl||n===nl||n===il||n===rl||n===ol||n===sl||n===al)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(n===qa)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Ya)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Ka)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===$a)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Ja)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Qa)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===el)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===tl)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===nl)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===il)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===rl)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===ol)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===sl)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===al)return s===it?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===ds||n===ll||n===cl)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(n===ds)return s===it?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===ll)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===cl)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===Tu||n===dl||n===ul||n===hl)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(n===ds)return o.COMPRESSED_RED_RGTC1_EXT;if(n===dl)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===ul)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===hl)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Ki?r.UNSIGNED_INT_24_8:r[n]!==void 0?r[n]:null}return{convert:t}}class t9 extends wt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class hn extends rt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const n9={type:"move"};class Us{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new hn,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new hn,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new A,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new A),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new hn,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new A,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new A),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,o=null,s=null;const a=this._targetRay,c=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){s=!0;for(const v of e.hand.values()){const g=t.getJointPose(v,n),p=this._getHandJoint(d,v);g!==null&&(p.matrix.fromArray(g.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=g.radius),p.visible=g!==null}const u=d.joints["index-finger-tip"],h=d.joints["thumb-tip"],f=u.position.distanceTo(h.position),m=.02,_=.005;d.inputState.pinching&&f>m+_?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&f<=m-_&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(c.matrix.fromArray(o.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,o.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(o.linearVelocity)):c.hasLinearVelocity=!1,o.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(o.angularVelocity)):c.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(n9)))}return a!==null&&(a.visible=i!==null),c!==null&&(c.visible=o!==null),d!==null&&(d.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new hn;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}const i9=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,r9=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class o9{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const i=new xt,o=e.properties.get(i);o.__webglTexture=t.texture,(t.depthNear!=n.depthNear||t.depthFar!=n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new mn({vertexShader:i9,fragmentShader:r9,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new bt(new Or(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class s9 extends fi{constructor(e,t){super();const n=this;let i=null,o=1,s=null,a="local-floor",c=1,d=null,u=null,h=null,f=null,m=null,_=null;const v=new o9,g=t.getContextAttributes();let p=null,S=null;const M=[],E=[],D=new ye;let R=null;const T=new wt;T.layers.enable(1),T.viewport=new Qe;const I=new wt;I.layers.enable(2),I.viewport=new Qe;const b=[T,I],x=new t9;x.layers.enable(1),x.layers.enable(2);let L=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let te=M[Y];return te===void 0&&(te=new Us,M[Y]=te),te.getTargetRaySpace()},this.getControllerGrip=function(Y){let te=M[Y];return te===void 0&&(te=new Us,M[Y]=te),te.getGripSpace()},this.getHand=function(Y){let te=M[Y];return te===void 0&&(te=new Us,M[Y]=te),te.getHandSpace()};function G(Y){const te=E.indexOf(Y.inputSource);if(te===-1)return;const fe=M[te];fe!==void 0&&(fe.update(Y.inputSource,Y.frame,d||s),fe.dispatchEvent({type:Y.type,data:Y.inputSource}))}function K(){i.removeEventListener("select",G),i.removeEventListener("selectstart",G),i.removeEventListener("selectend",G),i.removeEventListener("squeeze",G),i.removeEventListener("squeezestart",G),i.removeEventListener("squeezeend",G),i.removeEventListener("end",K),i.removeEventListener("inputsourceschange",O);for(let Y=0;Y<M.length;Y++){const te=E[Y];te!==null&&(E[Y]=null,M[Y].disconnect(te))}L=null,z=null,v.reset(),e.setRenderTarget(p),m=null,f=null,h=null,i=null,S=null,ke.stop(),n.isPresenting=!1,e.setPixelRatio(R),e.setSize(D.width,D.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){o=Y,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||s},this.setReferenceSpace=function(Y){d=Y},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return h},this.getFrame=function(){return _},this.getSession=function(){return i},this.setSession=async function(Y){if(i=Y,i!==null){if(p=e.getRenderTarget(),i.addEventListener("select",G),i.addEventListener("selectstart",G),i.addEventListener("selectend",G),i.addEventListener("squeeze",G),i.addEventListener("squeezestart",G),i.addEventListener("squeezeend",G),i.addEventListener("end",K),i.addEventListener("inputsourceschange",O),g.xrCompatible!==!0&&await t.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(D),i.renderState.layers===void 0){const te={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(i,t,te),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),S=new Yn(m.framebufferWidth,m.framebufferHeight,{format:en,type:qn,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let te=null,fe=null,le=null;g.depth&&(le=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,te=g.stencil?$i:Oi,fe=g.stencil?Ki:Yi);const He={colorFormat:t.RGBA8,depthFormat:le,scaleFactor:o};h=new XRWebGLBinding(i,t),f=h.createProjectionLayer(He),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),S=new Yn(f.textureWidth,f.textureHeight,{format:en,type:qn,depthTexture:new c1(f.textureWidth,f.textureHeight,fe,void 0,void 0,void 0,void 0,void 0,void 0,te),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}S.isXRRenderTarget=!0,this.setFoveation(c),d=null,s=await i.requestReferenceSpace(a),ke.setContext(i),ke.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function O(Y){for(let te=0;te<Y.removed.length;te++){const fe=Y.removed[te],le=E.indexOf(fe);le>=0&&(E[le]=null,M[le].disconnect(fe))}for(let te=0;te<Y.added.length;te++){const fe=Y.added[te];let le=E.indexOf(fe);if(le===-1){for(let Pe=0;Pe<M.length;Pe++)if(Pe>=E.length){E.push(fe),le=Pe;break}else if(E[Pe]===null){E[Pe]=fe,le=Pe;break}if(le===-1)break}const He=M[le];He&&He.connect(fe)}}const F=new A,q=new A;function W(Y,te,fe){F.setFromMatrixPosition(te.matrixWorld),q.setFromMatrixPosition(fe.matrixWorld);const le=F.distanceTo(q),He=te.projectionMatrix.elements,Pe=fe.projectionMatrix.elements,We=He[14]/(He[10]-1),P=He[14]/(He[10]+1),je=(He[9]+1)/He[5],ze=(He[9]-1)/He[5],tt=(He[8]-1)/He[0],Se=(Pe[8]+1)/Pe[0],Xe=We*tt,Ve=We*Se,De=le/(-tt+Se),ot=De*-tt;te.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(ot),Y.translateZ(De),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const k=We+De,y=P+De,j=Xe-ot,$=Ve+(le-ot),Q=je*P/y*k,ee=ze*P/y*k;Y.projectionMatrix.makePerspective(j,$,Q,ee,k,y),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert()}function ne(Y,te){te===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(te.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(i===null)return;v.texture!==null&&(Y.near=v.depthNear,Y.far=v.depthFar),x.near=I.near=T.near=Y.near,x.far=I.far=T.far=Y.far,(L!==x.near||z!==x.far)&&(i.updateRenderState({depthNear:x.near,depthFar:x.far}),L=x.near,z=x.far,T.near=L,T.far=z,I.near=L,I.far=z,T.updateProjectionMatrix(),I.updateProjectionMatrix(),Y.updateProjectionMatrix());const te=Y.parent,fe=x.cameras;ne(x,te);for(let le=0;le<fe.length;le++)ne(fe[le],te);fe.length===2?W(x,T,I):x.projectionMatrix.copy(T.projectionMatrix),de(Y,x,te)};function de(Y,te,fe){fe===null?Y.matrix.copy(te.matrixWorld):(Y.matrix.copy(fe.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(te.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0),Y.projectionMatrix.copy(te.projectionMatrix),Y.projectionMatrixInverse.copy(te.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=Ji*2*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}this.getCamera=function(){return x},this.getFoveation=function(){if(!(f===null&&m===null))return c},this.setFoveation=function(Y){c=Y,f!==null&&(f.fixedFoveation=Y),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Y)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(x)};let ue=null;function Te(Y,te){if(u=te.getViewerPose(d||s),_=te,u!==null){const fe=u.views;m!==null&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let le=!1;fe.length!==x.cameras.length&&(x.cameras.length=0,le=!0);for(let Pe=0;Pe<fe.length;Pe++){const We=fe[Pe];let P=null;if(m!==null)P=m.getViewport(We);else{const ze=h.getViewSubImage(f,We);P=ze.viewport,Pe===0&&(e.setRenderTargetTextures(S,ze.colorTexture,f.ignoreDepthValues?void 0:ze.depthStencilTexture),e.setRenderTarget(S))}let je=b[Pe];je===void 0&&(je=new wt,je.layers.enable(Pe),je.viewport=new Qe,b[Pe]=je),je.matrix.fromArray(We.transform.matrix),je.matrix.decompose(je.position,je.quaternion,je.scale),je.projectionMatrix.fromArray(We.projectionMatrix),je.projectionMatrixInverse.copy(je.projectionMatrix).invert(),je.viewport.set(P.x,P.y,P.width,P.height),Pe===0&&(x.matrix.copy(je.matrix),x.matrix.decompose(x.position,x.quaternion,x.scale)),le===!0&&x.cameras.push(je)}const He=i.enabledFeatures;if(He&&He.includes("depth-sensing")){const Pe=h.getDepthInformation(fe[0]);Pe&&Pe.isValid&&Pe.texture&&v.init(e,Pe,i.renderState)}}for(let fe=0;fe<M.length;fe++){const le=E[fe],He=M[fe];le!==null&&He!==void 0&&He.update(le,te,d||s)}ue&&ue(Y,te),te.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:te}),_=null}const ke=new l1;ke.setAnimationLoop(Te),this.setAnimationLoop=function(Y){ue=Y},this.dispose=function(){}}}const ri=new on,a9=new Le;function l9(r,e){function t(g,p){g.matrixAutoUpdate===!0&&g.updateMatrix(),p.value.copy(g.matrix)}function n(g,p){p.color.getRGB(g.fogColor.value,o1(r)),p.isFog?(g.fogNear.value=p.near,g.fogFar.value=p.far):p.isFogExp2&&(g.fogDensity.value=p.density)}function i(g,p,S,M,E){p.isMeshBasicMaterial||p.isMeshLambertMaterial?o(g,p):p.isMeshToonMaterial?(o(g,p),h(g,p)):p.isMeshPhongMaterial?(o(g,p),u(g,p)):p.isMeshStandardMaterial?(o(g,p),f(g,p),p.isMeshPhysicalMaterial&&m(g,p,E)):p.isMeshMatcapMaterial?(o(g,p),_(g,p)):p.isMeshDepthMaterial?o(g,p):p.isMeshDistanceMaterial?(o(g,p),v(g,p)):p.isMeshNormalMaterial?o(g,p):p.isLineBasicMaterial?(s(g,p),p.isLineDashedMaterial&&a(g,p)):p.isPointsMaterial?c(g,p,S,M):p.isSpriteMaterial?d(g,p):p.isShadowMaterial?(g.color.value.copy(p.color),g.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function o(g,p){g.opacity.value=p.opacity,p.color&&g.diffuse.value.copy(p.color),p.emissive&&g.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(g.map.value=p.map,t(p.map,g.mapTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,t(p.alphaMap,g.alphaMapTransform)),p.bumpMap&&(g.bumpMap.value=p.bumpMap,t(p.bumpMap,g.bumpMapTransform),g.bumpScale.value=p.bumpScale,p.side===Dt&&(g.bumpScale.value*=-1)),p.normalMap&&(g.normalMap.value=p.normalMap,t(p.normalMap,g.normalMapTransform),g.normalScale.value.copy(p.normalScale),p.side===Dt&&g.normalScale.value.negate()),p.displacementMap&&(g.displacementMap.value=p.displacementMap,t(p.displacementMap,g.displacementMapTransform),g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias),p.emissiveMap&&(g.emissiveMap.value=p.emissiveMap,t(p.emissiveMap,g.emissiveMapTransform)),p.specularMap&&(g.specularMap.value=p.specularMap,t(p.specularMap,g.specularMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest);const S=e.get(p),M=S.envMap,E=S.envMapRotation;M&&(g.envMap.value=M,ri.copy(E),ri.x*=-1,ri.y*=-1,ri.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(ri.y*=-1,ri.z*=-1),g.envMapRotation.value.setFromMatrix4(a9.makeRotationFromEuler(ri)),g.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=p.reflectivity,g.ior.value=p.ior,g.refractionRatio.value=p.refractionRatio),p.lightMap&&(g.lightMap.value=p.lightMap,g.lightMapIntensity.value=p.lightMapIntensity,t(p.lightMap,g.lightMapTransform)),p.aoMap&&(g.aoMap.value=p.aoMap,g.aoMapIntensity.value=p.aoMapIntensity,t(p.aoMap,g.aoMapTransform))}function s(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,p.map&&(g.map.value=p.map,t(p.map,g.mapTransform))}function a(g,p){g.dashSize.value=p.dashSize,g.totalSize.value=p.dashSize+p.gapSize,g.scale.value=p.scale}function c(g,p,S,M){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.size.value=p.size*S,g.scale.value=M*.5,p.map&&(g.map.value=p.map,t(p.map,g.uvTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,t(p.alphaMap,g.alphaMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest)}function d(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.rotation.value=p.rotation,p.map&&(g.map.value=p.map,t(p.map,g.mapTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,t(p.alphaMap,g.alphaMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest)}function u(g,p){g.specular.value.copy(p.specular),g.shininess.value=Math.max(p.shininess,1e-4)}function h(g,p){p.gradientMap&&(g.gradientMap.value=p.gradientMap)}function f(g,p){g.metalness.value=p.metalness,p.metalnessMap&&(g.metalnessMap.value=p.metalnessMap,t(p.metalnessMap,g.metalnessMapTransform)),g.roughness.value=p.roughness,p.roughnessMap&&(g.roughnessMap.value=p.roughnessMap,t(p.roughnessMap,g.roughnessMapTransform)),p.envMap&&(g.envMapIntensity.value=p.envMapIntensity)}function m(g,p,S){g.ior.value=p.ior,p.sheen>0&&(g.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),g.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(g.sheenColorMap.value=p.sheenColorMap,t(p.sheenColorMap,g.sheenColorMapTransform)),p.sheenRoughnessMap&&(g.sheenRoughnessMap.value=p.sheenRoughnessMap,t(p.sheenRoughnessMap,g.sheenRoughnessMapTransform))),p.clearcoat>0&&(g.clearcoat.value=p.clearcoat,g.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(g.clearcoatMap.value=p.clearcoatMap,t(p.clearcoatMap,g.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,t(p.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(g.clearcoatNormalMap.value=p.clearcoatNormalMap,t(p.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===Dt&&g.clearcoatNormalScale.value.negate())),p.dispersion>0&&(g.dispersion.value=p.dispersion),p.iridescence>0&&(g.iridescence.value=p.iridescence,g.iridescenceIOR.value=p.iridescenceIOR,g.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(g.iridescenceMap.value=p.iridescenceMap,t(p.iridescenceMap,g.iridescenceMapTransform)),p.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=p.iridescenceThicknessMap,t(p.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),p.transmission>0&&(g.transmission.value=p.transmission,g.transmissionSamplerMap.value=S.texture,g.transmissionSamplerSize.value.set(S.width,S.height),p.transmissionMap&&(g.transmissionMap.value=p.transmissionMap,t(p.transmissionMap,g.transmissionMapTransform)),g.thickness.value=p.thickness,p.thicknessMap&&(g.thicknessMap.value=p.thicknessMap,t(p.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=p.attenuationDistance,g.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(g.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(g.anisotropyMap.value=p.anisotropyMap,t(p.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=p.specularIntensity,g.specularColor.value.copy(p.specularColor),p.specularColorMap&&(g.specularColorMap.value=p.specularColorMap,t(p.specularColorMap,g.specularColorMapTransform)),p.specularIntensityMap&&(g.specularIntensityMap.value=p.specularIntensityMap,t(p.specularIntensityMap,g.specularIntensityMapTransform))}function _(g,p){p.matcap&&(g.matcap.value=p.matcap)}function v(g,p){const S=e.get(p).light;g.referencePosition.value.setFromMatrixPosition(S.matrixWorld),g.nearDistance.value=S.shadow.camera.near,g.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function c9(r,e,t,n){let i={},o={},s=[];const a=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function c(S,M){const E=M.program;n.uniformBlockBinding(S,E)}function d(S,M){let E=i[S.id];E===void 0&&(_(S),E=u(S),i[S.id]=E,S.addEventListener("dispose",g));const D=M.program;n.updateUBOMapping(S,D);const R=e.render.frame;o[S.id]!==R&&(f(S),o[S.id]=R)}function u(S){const M=h();S.__bindingPointIndex=M;const E=r.createBuffer(),D=S.__size,R=S.usage;return r.bindBuffer(r.UNIFORM_BUFFER,E),r.bufferData(r.UNIFORM_BUFFER,D,R),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,M,E),E}function h(){for(let S=0;S<a;S++)if(s.indexOf(S)===-1)return s.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(S){const M=i[S.id],E=S.uniforms,D=S.__cache;r.bindBuffer(r.UNIFORM_BUFFER,M);for(let R=0,T=E.length;R<T;R++){const I=Array.isArray(E[R])?E[R]:[E[R]];for(let b=0,x=I.length;b<x;b++){const L=I[b];if(m(L,R,b,D)===!0){const z=L.__offset,G=Array.isArray(L.value)?L.value:[L.value];let K=0;for(let O=0;O<G.length;O++){const F=G[O],q=v(F);typeof F=="number"||typeof F=="boolean"?(L.__data[0]=F,r.bufferSubData(r.UNIFORM_BUFFER,z+K,L.__data)):F.isMatrix3?(L.__data[0]=F.elements[0],L.__data[1]=F.elements[1],L.__data[2]=F.elements[2],L.__data[3]=0,L.__data[4]=F.elements[3],L.__data[5]=F.elements[4],L.__data[6]=F.elements[5],L.__data[7]=0,L.__data[8]=F.elements[6],L.__data[9]=F.elements[7],L.__data[10]=F.elements[8],L.__data[11]=0):(F.toArray(L.__data,K),K+=q.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,z,L.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function m(S,M,E,D){const R=S.value,T=M+"_"+E;if(D[T]===void 0)return typeof R=="number"||typeof R=="boolean"?D[T]=R:D[T]=R.clone(),!0;{const I=D[T];if(typeof R=="number"||typeof R=="boolean"){if(I!==R)return D[T]=R,!0}else if(I.equals(R)===!1)return I.copy(R),!0}return!1}function _(S){const M=S.uniforms;let E=0;const D=16;for(let T=0,I=M.length;T<I;T++){const b=Array.isArray(M[T])?M[T]:[M[T]];for(let x=0,L=b.length;x<L;x++){const z=b[x],G=Array.isArray(z.value)?z.value:[z.value];for(let K=0,O=G.length;K<O;K++){const F=G[K],q=v(F),W=E%D;W!==0&&D-W<q.boundary&&(E+=D-W),z.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=E,E+=q.storage}}}const R=E%D;return R>0&&(E+=D-R),S.__size=E,S.__cache={},this}function v(S){const M={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(M.boundary=4,M.storage=4):S.isVector2?(M.boundary=8,M.storage=8):S.isVector3||S.isColor?(M.boundary=16,M.storage=12):S.isVector4?(M.boundary=16,M.storage=16):S.isMatrix3?(M.boundary=48,M.storage=48):S.isMatrix4?(M.boundary=64,M.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),M}function g(S){const M=S.target;M.removeEventListener("dispose",g);const E=s.indexOf(M.__bindingPointIndex);s.splice(E,1),r.deleteBuffer(i[M.id]),delete i[M.id],delete o[M.id]}function p(){for(const S in i)r.deleteBuffer(i[S]);s=[],i={},o={}}return{bind:c,update:d,dispose:p}}class m1{constructor(e={}){const{canvas:t=nh(),context:n=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let f;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=n.getContextAttributes().alpha}else f=s;const m=new Uint32Array(4),_=new Int32Array(4);let v=null,g=null;const p=[],S=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=St,this.toneMapping=Zn,this.toneMappingExposure=1;const M=this;let E=!1,D=0,R=0,T=null,I=-1,b=null;const x=new Qe,L=new Qe;let z=null;const G=new xe(0);let K=0,O=t.width,F=t.height,q=1,W=null,ne=null;const de=new Qe(0,0,O,F),ue=new Qe(0,0,O,F);let Te=!1;const ke=new ga;let Y=!1,te=!1;const fe=new Le,le=new A,He={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Pe=!1;function We(){return T===null?q:1}let P=n;function je(w,N){return t.getContext(w,N)}try{const w={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${ca}`),t.addEventListener("webglcontextlost",X,!1),t.addEventListener("webglcontextrestored",H,!1),t.addEventListener("webglcontextcreationerror",Z,!1),P===null){const N="webgl2";if(P=je(N,w),P===null)throw je(N)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(w){throw console.error("THREE.WebGLRenderer: "+w.message),w}let ze,tt,Se,Xe,Ve,De,ot,k,y,j,$,Q,ee,Ce,ae,se,Ie,ie,me,Be,be,ce,Ne,Ue;function st(){ze=new Cf(P),ze.init(),ce=new e9(P,ze),tt=new hf(P,ze,e,ce),Se=new Jp(P),Xe=new xf(P),Ve=new Op,De=new Qp(P,ze,Se,Ve,tt,ce,Xe),ot=new pf(M),k=new _f(M),y=new Th(P),Ne=new df(P,y),j=new vf(P,y,Xe,Ne),$=new Sf(P,j,y,Xe),me=new yf(P,tt,De),se=new ff(Ve),Q=new Fp(M,ot,k,ze,tt,Ne,se),ee=new l9(M,Ve),Ce=new Vp,ae=new Xp(ze),ie=new cf(M,ot,k,Se,$,f,c),Ie=new $p(M,$,tt),Ue=new c9(P,Xe,tt,Se),Be=new uf(P,ze,Xe),be=new Mf(P,ze,Xe),Xe.programs=Q.programs,M.capabilities=tt,M.extensions=ze,M.properties=Ve,M.renderLists=Ce,M.shadowMap=Ie,M.state=Se,M.info=Xe}st();const C=new s9(M,P);this.xr=C,this.getContext=function(){return P},this.getContextAttributes=function(){return P.getContextAttributes()},this.forceContextLoss=function(){const w=ze.get("WEBGL_lose_context");w&&w.loseContext()},this.forceContextRestore=function(){const w=ze.get("WEBGL_lose_context");w&&w.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(w){w!==void 0&&(q=w,this.setSize(O,F,!1))},this.getSize=function(w){return w.set(O,F)},this.setSize=function(w,N,V=!0){if(C.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=w,F=N,t.width=Math.floor(w*q),t.height=Math.floor(N*q),V===!0&&(t.style.width=w+"px",t.style.height=N+"px"),this.setViewport(0,0,w,N)},this.getDrawingBufferSize=function(w){return w.set(O*q,F*q).floor()},this.setDrawingBufferSize=function(w,N,V){O=w,F=N,q=V,t.width=Math.floor(w*V),t.height=Math.floor(N*V),this.setViewport(0,0,w,N)},this.getCurrentViewport=function(w){return w.copy(x)},this.getViewport=function(w){return w.copy(de)},this.setViewport=function(w,N,V,B){w.isVector4?de.set(w.x,w.y,w.z,w.w):de.set(w,N,V,B),Se.viewport(x.copy(de).multiplyScalar(q).round())},this.getScissor=function(w){return w.copy(ue)},this.setScissor=function(w,N,V,B){w.isVector4?ue.set(w.x,w.y,w.z,w.w):ue.set(w,N,V,B),Se.scissor(L.copy(ue).multiplyScalar(q).round())},this.getScissorTest=function(){return Te},this.setScissorTest=function(w){Se.setScissorTest(Te=w)},this.setOpaqueSort=function(w){W=w},this.setTransparentSort=function(w){ne=w},this.getClearColor=function(w){return w.copy(ie.getClearColor())},this.setClearColor=function(){ie.setClearColor.apply(ie,arguments)},this.getClearAlpha=function(){return ie.getClearAlpha()},this.setClearAlpha=function(){ie.setClearAlpha.apply(ie,arguments)},this.clear=function(w=!0,N=!0,V=!0){let B=0;if(w){let U=!1;if(T!==null){const re=T.texture.format;U=re===Kc||re===Yc||re===qc}if(U){const re=T.texture.type,he=re===qn||re===Yi||re===Ro||re===Ki||re===jc||re===Xc,pe=ie.getClearColor(),ge=ie.getClearAlpha(),Ee=pe.r,Ae=pe.g,we=pe.b;he?(m[0]=Ee,m[1]=Ae,m[2]=we,m[3]=ge,P.clearBufferuiv(P.COLOR,0,m)):(_[0]=Ee,_[1]=Ae,_[2]=we,_[3]=ge,P.clearBufferiv(P.COLOR,0,_))}else B|=P.COLOR_BUFFER_BIT}N&&(B|=P.DEPTH_BUFFER_BIT),V&&(B|=P.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),P.clear(B)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",X,!1),t.removeEventListener("webglcontextrestored",H,!1),t.removeEventListener("webglcontextcreationerror",Z,!1),Ce.dispose(),ae.dispose(),Ve.dispose(),ot.dispose(),k.dispose(),$.dispose(),Ne.dispose(),Ue.dispose(),Q.dispose(),C.dispose(),C.removeEventListener("sessionstart",ht),C.removeEventListener("sessionend",ft),It.stop()};function X(w){w.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function H(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const w=Xe.autoReset,N=Ie.enabled,V=Ie.autoUpdate,B=Ie.needsUpdate,U=Ie.type;st(),Xe.autoReset=w,Ie.enabled=N,Ie.autoUpdate=V,Ie.needsUpdate=B,Ie.type=U}function Z(w){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",w.statusMessage)}function J(w){const N=w.target;N.removeEventListener("dispose",J),ve(N)}function ve(w){Re(w),Ve.remove(w)}function Re(w){const N=Ve.get(w).programs;N!==void 0&&(N.forEach(function(V){Q.releaseProgram(V)}),w.isShaderMaterial&&Q.releaseShaderCache(w))}this.renderBufferDirect=function(w,N,V,B,U,re){N===null&&(N=He);const he=U.isMesh&&U.matrixWorld.determinant()<0,pe=J1(w,N,V,B,U);Se.setMaterial(B,he);let ge=V.index,Ee=1;if(B.wireframe===!0){if(ge=j.getWireframeAttribute(V),ge===void 0)return;Ee=2}const Ae=V.drawRange,we=V.attributes.position;let Ye=Ae.start*Ee,lt=(Ae.start+Ae.count)*Ee;re!==null&&(Ye=Math.max(Ye,re.start*Ee),lt=Math.min(lt,(re.start+re.count)*Ee)),ge!==null?(Ye=Math.max(Ye,0),lt=Math.min(lt,ge.count)):we!=null&&(Ye=Math.max(Ye,0),lt=Math.min(lt,we.count));const ct=lt-Ye;if(ct<0||ct===1/0)return;Ne.setup(U,B,pe,V,ge);let Ut,Ke=Be;if(ge!==null&&(Ut=y.get(ge),Ke=be,Ke.setIndex(Ut)),U.isMesh)B.wireframe===!0?(Se.setLineWidth(B.wireframeLinewidth*We()),Ke.setMode(P.LINES)):Ke.setMode(P.TRIANGLES);else if(U.isLine){let Me=B.linewidth;Me===void 0&&(Me=1),Se.setLineWidth(Me*We()),U.isLineSegments?Ke.setMode(P.LINES):U.isLineLoop?Ke.setMode(P.LINE_LOOP):Ke.setMode(P.LINE_STRIP)}else U.isPoints?Ke.setMode(P.POINTS):U.isSprite&&Ke.setMode(P.TRIANGLES);if(U.isBatchedMesh)U._multiDrawInstances!==null?Ke.renderMultiDrawInstances(U._multiDrawStarts,U._multiDrawCounts,U._multiDrawCount,U._multiDrawInstances):Ke.renderMultiDraw(U._multiDrawStarts,U._multiDrawCounts,U._multiDrawCount);else if(U.isInstancedMesh)Ke.renderInstances(Ye,ct,U.count);else if(V.isInstancedBufferGeometry){const Me=V._maxInstanceCount!==void 0?V._maxInstanceCount:1/0,kt=Math.min(V.instanceCount,Me);Ke.renderInstances(Ye,ct,kt)}else Ke.render(Ye,ct)};function at(w,N,V){w.transparent===!0&&w.side===dn&&w.forceSinglePass===!1?(w.side=Dt,w.needsUpdate=!0,Vr(w,N,V),w.side=fn,w.needsUpdate=!0,Vr(w,N,V),w.side=dn):Vr(w,N,V)}this.compile=function(w,N,V=null){V===null&&(V=w),g=ae.get(V),g.init(N),S.push(g),V.traverseVisible(function(U){U.isLight&&U.layers.test(N.layers)&&(g.pushLight(U),U.castShadow&&g.pushShadow(U))}),w!==V&&w.traverseVisible(function(U){U.isLight&&U.layers.test(N.layers)&&(g.pushLight(U),U.castShadow&&g.pushShadow(U))}),g.setupLights();const B=new Set;return w.traverse(function(U){const re=U.material;if(re)if(Array.isArray(re))for(let he=0;he<re.length;he++){const pe=re[he];at(pe,V,U),B.add(pe)}else at(re,V,U),B.add(re)}),S.pop(),g=null,B},this.compileAsync=function(w,N,V=null){const B=this.compile(w,N,V);return new Promise(U=>{function re(){if(B.forEach(function(he){Ve.get(he).currentProgram.isReady()&&B.delete(he)}),B.size===0){U(w);return}setTimeout(re,10)}ze.get("KHR_parallel_shader_compile")!==null?re():setTimeout(re,10)})};let ut=null;function Ze(w){ut&&ut(w)}function ht(){It.stop()}function ft(){It.start()}const It=new l1;It.setAnimationLoop(Ze),typeof self<"u"&&It.setContext(self),this.setAnimationLoop=function(w){ut=w,C.setAnimationLoop(w),w===null?It.stop():It.start()},C.addEventListener("sessionstart",ht),C.addEventListener("sessionend",ft),this.render=function(w,N){if(N!==void 0&&N.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;if(w.matrixWorldAutoUpdate===!0&&w.updateMatrixWorld(),N.parent===null&&N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),C.enabled===!0&&C.isPresenting===!0&&(C.cameraAutoUpdate===!0&&C.updateCamera(N),N=C.getCamera()),w.isScene===!0&&w.onBeforeRender(M,w,N,T),g=ae.get(w,S.length),g.init(N),S.push(g),fe.multiplyMatrices(N.projectionMatrix,N.matrixWorldInverse),ke.setFromProjectionMatrix(fe),te=this.localClippingEnabled,Y=se.init(this.clippingPlanes,te),v=Ce.get(w,p.length),v.init(),p.push(v),C.enabled===!0&&C.isPresenting===!0){const re=M.xr.getDepthSensingMesh();re!==null&&Nt(re,N,-1/0,M.sortObjects)}Nt(w,N,0,M.sortObjects),v.finish(),M.sortObjects===!0&&v.sort(W,ne),Pe=C.enabled===!1||C.isPresenting===!1||C.hasDepthSensing()===!1,Pe&&ie.addToRenderList(v,w),this.info.render.frame++,Y===!0&&se.beginShadows();const V=g.state.shadowsArray;Ie.render(V,w,N),Y===!0&&se.endShadows(),this.info.autoReset===!0&&this.info.reset();const B=v.opaque,U=v.transmissive;if(g.setupLights(),N.isArrayCamera){const re=N.cameras;if(U.length>0)for(let he=0,pe=re.length;he<pe;he++){const ge=re[he];Kn(B,U,w,ge)}Pe&&ie.render(w);for(let he=0,pe=re.length;he<pe;he++){const ge=re[he];In(v,w,ge,ge.viewport)}}else U.length>0&&Kn(B,U,w,N),Pe&&ie.render(w),In(v,w,N);T!==null&&(De.updateMultisampleRenderTarget(T),De.updateRenderTargetMipmap(T)),w.isScene===!0&&w.onAfterRender(M,w,N),Ne.resetDefaultState(),I=-1,b=null,S.pop(),S.length>0?(g=S[S.length-1],Y===!0&&se.setGlobalState(M.clippingPlanes,g.state.camera)):g=null,p.pop(),p.length>0?v=p[p.length-1]:v=null};function Nt(w,N,V,B){if(w.visible===!1)return;if(w.layers.test(N.layers)){if(w.isGroup)V=w.renderOrder;else if(w.isLOD)w.autoUpdate===!0&&w.update(N);else if(w.isLight)g.pushLight(w),w.castShadow&&g.pushShadow(w);else if(w.isSprite){if(!w.frustumCulled||ke.intersectsSprite(w)){B&&le.setFromMatrixPosition(w.matrixWorld).applyMatrix4(fe);const he=$.update(w),pe=w.material;pe.visible&&v.push(w,he,pe,V,le.z,null)}}else if((w.isMesh||w.isLine||w.isPoints)&&(!w.frustumCulled||ke.intersectsObject(w))){const he=$.update(w),pe=w.material;if(B&&(w.boundingSphere!==void 0?(w.boundingSphere===null&&w.computeBoundingSphere(),le.copy(w.boundingSphere.center)):(he.boundingSphere===null&&he.computeBoundingSphere(),le.copy(he.boundingSphere.center)),le.applyMatrix4(w.matrixWorld).applyMatrix4(fe)),Array.isArray(pe)){const ge=he.groups;for(let Ee=0,Ae=ge.length;Ee<Ae;Ee++){const we=ge[Ee],Ye=pe[we.materialIndex];Ye&&Ye.visible&&v.push(w,he,Ye,V,le.z,we)}}else pe.visible&&v.push(w,he,pe,V,le.z,null)}}const re=w.children;for(let he=0,pe=re.length;he<pe;he++)Nt(re[he],N,V,B)}function In(w,N,V,B){const U=w.opaque,re=w.transmissive,he=w.transparent;g.setupLightsView(V),Y===!0&&se.setGlobalState(M.clippingPlanes,V),B&&Se.viewport(x.copy(B)),U.length>0&&$n(U,N,V),re.length>0&&$n(re,N,V),he.length>0&&$n(he,N,V),Se.buffers.depth.setTest(!0),Se.buffers.depth.setMask(!0),Se.buffers.color.setMask(!0),Se.setPolygonOffset(!1)}function Kn(w,N,V,B){if((V.isScene===!0?V.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[B.id]===void 0&&(g.state.transmissionRenderTarget[B.id]=new Yn(1,1,{generateMipmaps:!0,type:ze.has("EXT_color_buffer_half_float")||ze.has("EXT_color_buffer_float")?Yo:qn,minFilter:Ln,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:qe.workingColorSpace}));const re=g.state.transmissionRenderTarget[B.id],he=B.viewport||x;re.setSize(he.z,he.w);const pe=M.getRenderTarget();M.setRenderTarget(re),M.getClearColor(G),K=M.getClearAlpha(),K<1&&M.setClearColor(16777215,.5),Pe?ie.render(V):M.clear();const ge=M.toneMapping;M.toneMapping=Zn;const Ee=B.viewport;if(B.viewport!==void 0&&(B.viewport=void 0),g.setupLightsView(B),Y===!0&&se.setGlobalState(M.clippingPlanes,B),$n(w,V,B),De.updateMultisampleRenderTarget(re),De.updateRenderTargetMipmap(re),ze.has("WEBGL_multisampled_render_to_texture")===!1){let Ae=!1;for(let we=0,Ye=N.length;we<Ye;we++){const lt=N[we],ct=lt.object,Ut=lt.geometry,Ke=lt.material,Me=lt.group;if(Ke.side===dn&&ct.layers.test(B.layers)){const kt=Ke.side;Ke.side=Dt,Ke.needsUpdate=!0,Ra(ct,V,B,Ut,Ke,Me),Ke.side=kt,Ke.needsUpdate=!0,Ae=!0}}Ae===!0&&(De.updateMultisampleRenderTarget(re),De.updateRenderTargetMipmap(re))}M.setRenderTarget(pe),M.setClearColor(G,K),Ee!==void 0&&(B.viewport=Ee),M.toneMapping=ge}function $n(w,N,V){const B=N.isScene===!0?N.overrideMaterial:null;for(let U=0,re=w.length;U<re;U++){const he=w[U],pe=he.object,ge=he.geometry,Ee=B===null?he.material:B,Ae=he.group;pe.layers.test(V.layers)&&Ra(pe,N,V,ge,Ee,Ae)}}function Ra(w,N,V,B,U,re){w.onBeforeRender(M,N,V,B,U,re),w.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,w.matrixWorld),w.normalMatrix.getNormalMatrix(w.modelViewMatrix),U.onBeforeRender(M,N,V,B,w,re),U.transparent===!0&&U.side===dn&&U.forceSinglePass===!1?(U.side=Dt,U.needsUpdate=!0,M.renderBufferDirect(V,N,B,U,w,re),U.side=fn,U.needsUpdate=!0,M.renderBufferDirect(V,N,B,U,w,re),U.side=dn):M.renderBufferDirect(V,N,B,U,w,re),w.onAfterRender(M,N,V,B,U,re)}function Vr(w,N,V){N.isScene!==!0&&(N=He);const B=Ve.get(w),U=g.state.lights,re=g.state.shadowsArray,he=U.state.version,pe=Q.getParameters(w,U.state,re,N,V),ge=Q.getProgramCacheKey(pe);let Ee=B.programs;B.environment=w.isMeshStandardMaterial?N.environment:null,B.fog=N.fog,B.envMap=(w.isMeshStandardMaterial?k:ot).get(w.envMap||B.environment),B.envMapRotation=B.environment!==null&&w.envMap===null?N.environmentRotation:w.envMapRotation,Ee===void 0&&(w.addEventListener("dispose",J),Ee=new Map,B.programs=Ee);let Ae=Ee.get(ge);if(Ae!==void 0){if(B.currentProgram===Ae&&B.lightsStateVersion===he)return Pa(w,pe),Ae}else pe.uniforms=Q.getUniforms(w),w.onBuild(V,pe,M),w.onBeforeCompile(pe,M),Ae=Q.acquireProgram(pe,ge),Ee.set(ge,Ae),B.uniforms=pe.uniforms;const we=B.uniforms;return(!w.isShaderMaterial&&!w.isRawShaderMaterial||w.clipping===!0)&&(we.clippingPlanes=se.uniform),Pa(w,pe),B.needsLights=ed(w),B.lightsStateVersion=he,B.needsLights&&(we.ambientLightColor.value=U.state.ambient,we.lightProbe.value=U.state.probe,we.directionalLights.value=U.state.directional,we.directionalLightShadows.value=U.state.directionalShadow,we.spotLights.value=U.state.spot,we.spotLightShadows.value=U.state.spotShadow,we.rectAreaLights.value=U.state.rectArea,we.ltc_1.value=U.state.rectAreaLTC1,we.ltc_2.value=U.state.rectAreaLTC2,we.pointLights.value=U.state.point,we.pointLightShadows.value=U.state.pointShadow,we.hemisphereLights.value=U.state.hemi,we.directionalShadowMap.value=U.state.directionalShadowMap,we.directionalShadowMatrix.value=U.state.directionalShadowMatrix,we.spotShadowMap.value=U.state.spotShadowMap,we.spotLightMatrix.value=U.state.spotLightMatrix,we.spotLightMap.value=U.state.spotLightMap,we.pointShadowMap.value=U.state.pointShadowMap,we.pointShadowMatrix.value=U.state.pointShadowMatrix),B.currentProgram=Ae,B.uniformsList=null,Ae}function La(w){if(w.uniformsList===null){const N=w.currentProgram.getUniforms();w.uniformsList=Eo.seqWithValue(N.seq,w.uniforms)}return w.uniformsList}function Pa(w,N){const V=Ve.get(w);V.outputColorSpace=N.outputColorSpace,V.batching=N.batching,V.batchingColor=N.batchingColor,V.instancing=N.instancing,V.instancingColor=N.instancingColor,V.instancingMorph=N.instancingMorph,V.skinning=N.skinning,V.morphTargets=N.morphTargets,V.morphNormals=N.morphNormals,V.morphColors=N.morphColors,V.morphTargetsCount=N.morphTargetsCount,V.numClippingPlanes=N.numClippingPlanes,V.numIntersection=N.numClipIntersection,V.vertexAlphas=N.vertexAlphas,V.vertexTangents=N.vertexTangents,V.toneMapping=N.toneMapping}function J1(w,N,V,B,U){N.isScene!==!0&&(N=He),De.resetTextureUnits();const re=N.fog,he=B.isMeshStandardMaterial?N.environment:null,pe=T===null?M.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:yt,ge=(B.isMeshStandardMaterial?k:ot).get(B.envMap||he),Ee=B.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,Ae=!!V.attributes.tangent&&(!!B.normalMap||B.anisotropy>0),we=!!V.morphAttributes.position,Ye=!!V.morphAttributes.normal,lt=!!V.morphAttributes.color;let ct=Zn;B.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(ct=M.toneMapping);const Ut=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,Ke=Ut!==void 0?Ut.length:0,Me=Ve.get(B),kt=g.state.lights;if(Y===!0&&(te===!0||w!==b)){const Bt=w===b&&B.id===I;se.setState(B,w,Bt)}let et=!1;B.version===Me.__version?(Me.needsLights&&Me.lightsStateVersion!==kt.state.version||Me.outputColorSpace!==pe||U.isBatchedMesh&&Me.batching===!1||!U.isBatchedMesh&&Me.batching===!0||U.isBatchedMesh&&Me.batchingColor===!0&&U.colorTexture===null||U.isBatchedMesh&&Me.batchingColor===!1&&U.colorTexture!==null||U.isInstancedMesh&&Me.instancing===!1||!U.isInstancedMesh&&Me.instancing===!0||U.isSkinnedMesh&&Me.skinning===!1||!U.isSkinnedMesh&&Me.skinning===!0||U.isInstancedMesh&&Me.instancingColor===!0&&U.instanceColor===null||U.isInstancedMesh&&Me.instancingColor===!1&&U.instanceColor!==null||U.isInstancedMesh&&Me.instancingMorph===!0&&U.morphTexture===null||U.isInstancedMesh&&Me.instancingMorph===!1&&U.morphTexture!==null||Me.envMap!==ge||B.fog===!0&&Me.fog!==re||Me.numClippingPlanes!==void 0&&(Me.numClippingPlanes!==se.numPlanes||Me.numIntersection!==se.numIntersection)||Me.vertexAlphas!==Ee||Me.vertexTangents!==Ae||Me.morphTargets!==we||Me.morphNormals!==Ye||Me.morphColors!==lt||Me.toneMapping!==ct||Me.morphTargetsCount!==Ke)&&(et=!0):(et=!0,Me.__version=B.version);let Cn=Me.currentProgram;et===!0&&(Cn=Vr(B,N,U));let Br=!1,Jn=!1,ns=!1;const _t=Cn.getUniforms(),Nn=Me.uniforms;if(Se.useProgram(Cn.program)&&(Br=!0,Jn=!0,ns=!0),B.id!==I&&(I=B.id,Jn=!0),Br||b!==w){_t.setValue(P,"projectionMatrix",w.projectionMatrix),_t.setValue(P,"viewMatrix",w.matrixWorldInverse);const Bt=_t.map.cameraPosition;Bt!==void 0&&Bt.setValue(P,le.setFromMatrixPosition(w.matrixWorld)),tt.logarithmicDepthBuffer&&_t.setValue(P,"logDepthBufFC",2/(Math.log(w.far+1)/Math.LN2)),(B.isMeshPhongMaterial||B.isMeshToonMaterial||B.isMeshLambertMaterial||B.isMeshBasicMaterial||B.isMeshStandardMaterial||B.isShaderMaterial)&&_t.setValue(P,"isOrthographic",w.isOrthographicCamera===!0),b!==w&&(b=w,Jn=!0,ns=!0)}if(U.isSkinnedMesh){_t.setOptional(P,U,"bindMatrix"),_t.setOptional(P,U,"bindMatrixInverse");const Bt=U.skeleton;Bt&&(Bt.boneTexture===null&&Bt.computeBoneTexture(),_t.setValue(P,"boneTexture",Bt.boneTexture,De))}U.isBatchedMesh&&(_t.setOptional(P,U,"batchingTexture"),_t.setValue(P,"batchingTexture",U._matricesTexture,De),_t.setOptional(P,U,"batchingColorTexture"),U._colorsTexture!==null&&_t.setValue(P,"batchingColorTexture",U._colorsTexture,De));const is=V.morphAttributes;if((is.position!==void 0||is.normal!==void 0||is.color!==void 0)&&me.update(U,V,Cn),(Jn||Me.receiveShadow!==U.receiveShadow)&&(Me.receiveShadow=U.receiveShadow,_t.setValue(P,"receiveShadow",U.receiveShadow)),B.isMeshGouraudMaterial&&B.envMap!==null&&(Nn.envMap.value=ge,Nn.flipEnvMap.value=ge.isCubeTexture&&ge.isRenderTargetTexture===!1?-1:1),B.isMeshStandardMaterial&&B.envMap===null&&N.environment!==null&&(Nn.envMapIntensity.value=N.environmentIntensity),Jn&&(_t.setValue(P,"toneMappingExposure",M.toneMappingExposure),Me.needsLights&&Q1(Nn,ns),re&&B.fog===!0&&ee.refreshFogUniforms(Nn,re),ee.refreshMaterialUniforms(Nn,B,q,F,g.state.transmissionRenderTarget[w.id]),Eo.upload(P,La(Me),Nn,De)),B.isShaderMaterial&&B.uniformsNeedUpdate===!0&&(Eo.upload(P,La(Me),Nn,De),B.uniformsNeedUpdate=!1),B.isSpriteMaterial&&_t.setValue(P,"center",U.center),_t.setValue(P,"modelViewMatrix",U.modelViewMatrix),_t.setValue(P,"normalMatrix",U.normalMatrix),_t.setValue(P,"modelMatrix",U.matrixWorld),B.isShaderMaterial||B.isRawShaderMaterial){const Bt=B.uniformsGroups;for(let rs=0,td=Bt.length;rs<td;rs++){const Da=Bt[rs];Ue.update(Da,Cn),Ue.bind(Da,Cn)}}return Cn}function Q1(w,N){w.ambientLightColor.needsUpdate=N,w.lightProbe.needsUpdate=N,w.directionalLights.needsUpdate=N,w.directionalLightShadows.needsUpdate=N,w.pointLights.needsUpdate=N,w.pointLightShadows.needsUpdate=N,w.spotLights.needsUpdate=N,w.spotLightShadows.needsUpdate=N,w.rectAreaLights.needsUpdate=N,w.hemisphereLights.needsUpdate=N}function ed(w){return w.isMeshLambertMaterial||w.isMeshToonMaterial||w.isMeshPhongMaterial||w.isMeshStandardMaterial||w.isShadowMaterial||w.isShaderMaterial&&w.lights===!0}this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return R},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(w,N,V){Ve.get(w.texture).__webglTexture=N,Ve.get(w.depthTexture).__webglTexture=V;const B=Ve.get(w);B.__hasExternalTextures=!0,B.__autoAllocateDepthBuffer=V===void 0,B.__autoAllocateDepthBuffer||ze.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),B.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(w,N){const V=Ve.get(w);V.__webglFramebuffer=N,V.__useDefaultFramebuffer=N===void 0},this.setRenderTarget=function(w,N=0,V=0){T=w,D=N,R=V;let B=!0,U=null,re=!1,he=!1;if(w){const ge=Ve.get(w);ge.__useDefaultFramebuffer!==void 0?(Se.bindFramebuffer(P.FRAMEBUFFER,null),B=!1):ge.__webglFramebuffer===void 0?De.setupRenderTarget(w):ge.__hasExternalTextures&&De.rebindTextures(w,Ve.get(w.texture).__webglTexture,Ve.get(w.depthTexture).__webglTexture);const Ee=w.texture;(Ee.isData3DTexture||Ee.isDataArrayTexture||Ee.isCompressedArrayTexture)&&(he=!0);const Ae=Ve.get(w).__webglFramebuffer;w.isWebGLCubeRenderTarget?(Array.isArray(Ae[N])?U=Ae[N][V]:U=Ae[N],re=!0):w.samples>0&&De.useMultisampledRTT(w)===!1?U=Ve.get(w).__webglMultisampledFramebuffer:Array.isArray(Ae)?U=Ae[V]:U=Ae,x.copy(w.viewport),L.copy(w.scissor),z=w.scissorTest}else x.copy(de).multiplyScalar(q).floor(),L.copy(ue).multiplyScalar(q).floor(),z=Te;if(Se.bindFramebuffer(P.FRAMEBUFFER,U)&&B&&Se.drawBuffers(w,U),Se.viewport(x),Se.scissor(L),Se.setScissorTest(z),re){const ge=Ve.get(w.texture);P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_CUBE_MAP_POSITIVE_X+N,ge.__webglTexture,V)}else if(he){const ge=Ve.get(w.texture),Ee=N||0;P.framebufferTextureLayer(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,ge.__webglTexture,V||0,Ee)}I=-1},this.readRenderTargetPixels=function(w,N,V,B,U,re,he){if(!(w&&w.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pe=Ve.get(w).__webglFramebuffer;if(w.isWebGLCubeRenderTarget&&he!==void 0&&(pe=pe[he]),pe){Se.bindFramebuffer(P.FRAMEBUFFER,pe);try{const ge=w.texture,Ee=ge.format,Ae=ge.type;if(!tt.textureFormatReadable(Ee)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!tt.textureTypeReadable(Ae)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}N>=0&&N<=w.width-B&&V>=0&&V<=w.height-U&&P.readPixels(N,V,B,U,ce.convert(Ee),ce.convert(Ae),re)}finally{const ge=T!==null?Ve.get(T).__webglFramebuffer:null;Se.bindFramebuffer(P.FRAMEBUFFER,ge)}}},this.readRenderTargetPixelsAsync=async function(w,N,V,B,U,re,he){if(!(w&&w.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let pe=Ve.get(w).__webglFramebuffer;if(w.isWebGLCubeRenderTarget&&he!==void 0&&(pe=pe[he]),pe){Se.bindFramebuffer(P.FRAMEBUFFER,pe);try{const ge=w.texture,Ee=ge.format,Ae=ge.type;if(!tt.textureFormatReadable(Ee))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!tt.textureTypeReadable(Ae))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(N>=0&&N<=w.width-B&&V>=0&&V<=w.height-U){const we=P.createBuffer();P.bindBuffer(P.PIXEL_PACK_BUFFER,we),P.bufferData(P.PIXEL_PACK_BUFFER,re.byteLength,P.STREAM_READ),P.readPixels(N,V,B,U,ce.convert(Ee),ce.convert(Ae),0),P.flush();const Ye=P.fenceSync(P.SYNC_GPU_COMMANDS_COMPLETE,0);await ih(P,Ye,4);try{P.bindBuffer(P.PIXEL_PACK_BUFFER,we),P.getBufferSubData(P.PIXEL_PACK_BUFFER,0,re)}finally{P.deleteBuffer(we),P.deleteSync(Ye)}return re}}finally{const ge=T!==null?Ve.get(T).__webglFramebuffer:null;Se.bindFramebuffer(P.FRAMEBUFFER,ge)}}},this.copyFramebufferToTexture=function(w,N=null,V=0){w.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),N=arguments[0]||null,w=arguments[1]);const B=Math.pow(2,-V),U=Math.floor(w.image.width*B),re=Math.floor(w.image.height*B),he=N!==null?N.x:0,pe=N!==null?N.y:0;De.setTexture2D(w,0),P.copyTexSubImage2D(P.TEXTURE_2D,V,0,0,he,pe,U,re),Se.unbindTexture()},this.copyTextureToTexture=function(w,N,V=null,B=null,U=0){w.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),B=arguments[0]||null,w=arguments[1],N=arguments[2],U=arguments[3]||0,V=null);let re,he,pe,ge,Ee,Ae;V!==null?(re=V.max.x-V.min.x,he=V.max.y-V.min.y,pe=V.min.x,ge=V.min.y):(re=w.image.width,he=w.image.height,pe=0,ge=0),B!==null?(Ee=B.x,Ae=B.y):(Ee=0,Ae=0);const we=ce.convert(N.format),Ye=ce.convert(N.type);De.setTexture2D(N,0),P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,N.flipY),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),P.pixelStorei(P.UNPACK_ALIGNMENT,N.unpackAlignment);const lt=P.getParameter(P.UNPACK_ROW_LENGTH),ct=P.getParameter(P.UNPACK_IMAGE_HEIGHT),Ut=P.getParameter(P.UNPACK_SKIP_PIXELS),Ke=P.getParameter(P.UNPACK_SKIP_ROWS),Me=P.getParameter(P.UNPACK_SKIP_IMAGES),kt=w.isCompressedTexture?w.mipmaps[U]:w.image;P.pixelStorei(P.UNPACK_ROW_LENGTH,kt.width),P.pixelStorei(P.UNPACK_IMAGE_HEIGHT,kt.height),P.pixelStorei(P.UNPACK_SKIP_PIXELS,pe),P.pixelStorei(P.UNPACK_SKIP_ROWS,ge),w.isDataTexture?P.texSubImage2D(P.TEXTURE_2D,U,Ee,Ae,re,he,we,Ye,kt.data):w.isCompressedTexture?P.compressedTexSubImage2D(P.TEXTURE_2D,U,Ee,Ae,kt.width,kt.height,we,kt.data):P.texSubImage2D(P.TEXTURE_2D,U,Ee,Ae,we,Ye,kt),P.pixelStorei(P.UNPACK_ROW_LENGTH,lt),P.pixelStorei(P.UNPACK_IMAGE_HEIGHT,ct),P.pixelStorei(P.UNPACK_SKIP_PIXELS,Ut),P.pixelStorei(P.UNPACK_SKIP_ROWS,Ke),P.pixelStorei(P.UNPACK_SKIP_IMAGES,Me),U===0&&N.generateMipmaps&&P.generateMipmap(P.TEXTURE_2D),Se.unbindTexture()},this.copyTextureToTexture3D=function(w,N,V=null,B=null,U=0){w.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),V=arguments[0]||null,B=arguments[1]||null,w=arguments[2],N=arguments[3],U=arguments[4]||0);let re,he,pe,ge,Ee,Ae,we,Ye,lt;const ct=w.isCompressedTexture?w.mipmaps[U]:w.image;V!==null?(re=V.max.x-V.min.x,he=V.max.y-V.min.y,pe=V.max.z-V.min.z,ge=V.min.x,Ee=V.min.y,Ae=V.min.z):(re=ct.width,he=ct.height,pe=ct.depth,ge=0,Ee=0,Ae=0),B!==null?(we=B.x,Ye=B.y,lt=B.z):(we=0,Ye=0,lt=0);const Ut=ce.convert(N.format),Ke=ce.convert(N.type);let Me;if(N.isData3DTexture)De.setTexture3D(N,0),Me=P.TEXTURE_3D;else if(N.isDataArrayTexture||N.isCompressedArrayTexture)De.setTexture2DArray(N,0),Me=P.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,N.flipY),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),P.pixelStorei(P.UNPACK_ALIGNMENT,N.unpackAlignment);const kt=P.getParameter(P.UNPACK_ROW_LENGTH),et=P.getParameter(P.UNPACK_IMAGE_HEIGHT),Cn=P.getParameter(P.UNPACK_SKIP_PIXELS),Br=P.getParameter(P.UNPACK_SKIP_ROWS),Jn=P.getParameter(P.UNPACK_SKIP_IMAGES);P.pixelStorei(P.UNPACK_ROW_LENGTH,ct.width),P.pixelStorei(P.UNPACK_IMAGE_HEIGHT,ct.height),P.pixelStorei(P.UNPACK_SKIP_PIXELS,ge),P.pixelStorei(P.UNPACK_SKIP_ROWS,Ee),P.pixelStorei(P.UNPACK_SKIP_IMAGES,Ae),w.isDataTexture||w.isData3DTexture?P.texSubImage3D(Me,U,we,Ye,lt,re,he,pe,Ut,Ke,ct.data):N.isCompressedArrayTexture?P.compressedTexSubImage3D(Me,U,we,Ye,lt,re,he,pe,Ut,ct.data):P.texSubImage3D(Me,U,we,Ye,lt,re,he,pe,Ut,Ke,ct),P.pixelStorei(P.UNPACK_ROW_LENGTH,kt),P.pixelStorei(P.UNPACK_IMAGE_HEIGHT,et),P.pixelStorei(P.UNPACK_SKIP_PIXELS,Cn),P.pixelStorei(P.UNPACK_SKIP_ROWS,Br),P.pixelStorei(P.UNPACK_SKIP_IMAGES,Jn),U===0&&N.generateMipmaps&&P.generateMipmap(Me),Se.unbindTexture()},this.initRenderTarget=function(w){Ve.get(w).__webglFramebuffer===void 0&&De.setupRenderTarget(w)},this.initTexture=function(w){w.isCubeTexture?De.setTextureCube(w,0):w.isData3DTexture?De.setTexture3D(w,0):w.isDataArrayTexture||w.isCompressedArrayTexture?De.setTexture2DArray(w,0):De.setTexture2D(w,0),Se.unbindTexture()},this.resetState=function(){D=0,R=0,T=null,Se.reset(),Ne.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Pn}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===ha?"display-p3":"srgb",t.unpackColorSpace=qe.workingColorSpace===Ko?"display-p3":"srgb"}}class Jo{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new xe(e),this.near=t,this.far=n}clone(){return new Jo(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ia extends rt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new on,this.environmentIntensity=1,this.environmentRotation=new on,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class d9{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ea,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=tn()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return pa("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=tn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=tn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Rt=new A;class va{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Rt.fromBufferAttribute(this,t),Rt.applyMatrix4(e),this.setXYZ(t,Rt.x,Rt.y,Rt.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Rt.fromBufferAttribute(this,t),Rt.applyNormalMatrix(e),this.setXYZ(t,Rt.x,Rt.y,Rt.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Rt.fromBufferAttribute(this,t),Rt.transformDirection(e),this.setXYZ(t,Rt.x,Rt.y,Rt.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Jt(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=$e(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=$e(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=$e(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=$e(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=$e(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Jt(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Jt(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Jt(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Jt(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=$e(t,this.array),n=$e(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=$e(t,this.array),n=$e(n,this.array),i=$e(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=$e(t,this.array),n=$e(n,this.array),i=$e(i,this.array),o=$e(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new Et(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new va(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const oc=new A,sc=new Qe,ac=new Qe,u9=new A,lc=new Le,ho=new A,Fs=new jt,cc=new Le,Os=new Fr;class h9 extends bt{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Va,this.bindMatrix=new Le,this.bindMatrixInverse=new Le,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new rn),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,ho),this.boundingBox.expandByPoint(ho)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new jt),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,ho),this.boundingSphere.expandByPoint(ho)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Fs.copy(this.boundingSphere),Fs.applyMatrix4(i),e.ray.intersectsSphere(Fs)!==!1&&(cc.copy(i).invert(),Os.copy(e.ray).applyMatrix4(cc),!(this.boundingBox!==null&&Os.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Os)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Qe,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Va?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Cu?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;sc.fromBufferAttribute(i.attributes.skinIndex,e),ac.fromBufferAttribute(i.attributes.skinWeight,e),oc.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const s=ac.getComponent(o);if(s!==0){const a=sc.getComponent(o);lc.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(u9.copy(oc).applyMatrix4(lc),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class g1 extends rt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class _1 extends xt{constructor(e=null,t=1,n=1,i,o,s,a,c,d=Pt,u=Pt,h,f){super(null,s,a,c,d,u,i,o,h,f),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const dc=new Le,f9=new Le;class Ma{constructor(e=[],t=[]){this.uuid=tn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Le)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Le;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:f9;dc.multiplyMatrices(a,t[o]),dc.toArray(n,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Ma(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new _1(t,e,e,en,un);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const o=e.bones[n];let s=t[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new g1),this.bones.push(s),this.boneInverses.push(new Le().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,o=t.length;i<o;i++){const s=t[i];e.bones.push(s.uuid);const a=n[i];e.boneInverses.push(a.toArray())}return e}}class ra extends Et{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ii=new Le,uc=new Le,fo=[],hc=new rn,p9=new Le,fr=new bt,pr=new jt;class m9 extends bt{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ra(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,p9)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new rn),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ii),hc.copy(e.boundingBox).applyMatrix4(Ii),this.boundingBox.union(hc)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new jt),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ii),pr.copy(e.boundingSphere).applyMatrix4(Ii),this.boundingSphere.union(pr)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,o=n.length+1,s=e*o+1;for(let a=0;a<n.length;a++)n[a]=i[s+a]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(fr.geometry=this.geometry,fr.material=this.material,fr.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),pr.copy(this.boundingSphere),pr.applyMatrix4(n),e.ray.intersectsSphere(pr)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Ii),uc.multiplyMatrices(n,Ii),fr.matrixWorld=uc,fr.raycast(e,fo);for(let s=0,a=fo.length;s<a;s++){const c=fo[s];c.instanceId=o,c.object=this,t.push(c)}fo.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ra(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new _1(new Float32Array(i*this.count),i,this.count,Zc,un));const o=this.morphTexture.source.data.data;let s=0;for(let d=0;d<n.length;d++)s+=n[d];const a=this.geometry.morphTargetsRelative?1:1-s,c=i*e;o[c]=a,o.set(n,c+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}class C1 extends nn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Uo=new A,Fo=new A,fc=new Le,mr=new Fr,po=new jt,Hs=new A,pc=new A;class xa extends rt{constructor(e=new Xt,t=new C1){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,o=t.count;i<o;i++)Uo.fromBufferAttribute(t,i-1),Fo.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Uo.distanceTo(Fo);e.setAttribute("lineDistance",new Wt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),po.copy(n.boundingSphere),po.applyMatrix4(i),po.radius+=o,e.ray.intersectsSphere(po)===!1)return;fc.copy(i).invert(),mr.copy(e.ray).applyMatrix4(fc);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,d=this.isLineSegments?2:1,u=n.index,f=n.attributes.position;if(u!==null){const m=Math.max(0,s.start),_=Math.min(u.count,s.start+s.count);for(let v=m,g=_-1;v<g;v+=d){const p=u.getX(v),S=u.getX(v+1),M=mo(this,e,mr,c,p,S);M&&t.push(M)}if(this.isLineLoop){const v=u.getX(_-1),g=u.getX(m),p=mo(this,e,mr,c,v,g);p&&t.push(p)}}else{const m=Math.max(0,s.start),_=Math.min(f.count,s.start+s.count);for(let v=m,g=_-1;v<g;v+=d){const p=mo(this,e,mr,c,v,v+1);p&&t.push(p)}if(this.isLineLoop){const v=mo(this,e,mr,c,_-1,m);v&&t.push(v)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function mo(r,e,t,n,i,o){const s=r.geometry.attributes.position;if(Uo.fromBufferAttribute(s,i),Fo.fromBufferAttribute(s,o),t.distanceSqToSegment(Uo,Fo,Hs,pc)>n)return;Hs.applyMatrix4(r.matrixWorld);const c=e.ray.origin.distanceTo(Hs);if(!(c<e.near||c>e.far))return{distance:c,point:pc.clone().applyMatrix4(r.matrixWorld),index:i,face:null,faceIndex:null,object:r}}const mc=new A,gc=new A;class g9 extends xa{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,o=t.count;i<o;i+=2)mc.fromBufferAttribute(t,i),gc.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+mc.distanceTo(gc);e.setAttribute("lineDistance",new Wt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class _9 extends xa{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class v1 extends nn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _c=new Le,oa=new Fr,go=new jt,_o=new A;class C9 extends rt{constructor(e=new Xt,t=new v1){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),go.copy(n.boundingSphere),go.applyMatrix4(i),go.radius+=o,e.ray.intersectsSphere(go)===!1)return;_c.copy(i).invert(),oa.copy(e.ray).applyMatrix4(_c);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,d=n.index,h=n.attributes.position;if(d!==null){const f=Math.max(0,s.start),m=Math.min(d.count,s.start+s.count);for(let _=f,v=m;_<v;_++){const g=d.getX(_);_o.fromBufferAttribute(h,g),Cc(_o,g,c,i,e,t,this)}}else{const f=Math.max(0,s.start),m=Math.min(h.count,s.start+s.count);for(let _=f,v=m;_<v;_++)_o.fromBufferAttribute(h,_),Cc(_o,_,c,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function Cc(r,e,t,n,i,o,s){const a=oa.distanceSqToPoint(r);if(a<t){const c=new A;oa.closestPointToPoint(r,c),c.applyMatrix4(n);const d=i.ray.origin.distanceTo(c);if(d<i.near||d>i.far)return;o.push({distance:d,distanceToRay:Math.sqrt(a),point:c,index:e,face:null,object:s})}}class ya extends Xt{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const o=[],s=[];a(i),d(n),u(),this.setAttribute("position",new Wt(o,3)),this.setAttribute("normal",new Wt(o.slice(),3)),this.setAttribute("uv",new Wt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const M=new A,E=new A,D=new A;for(let R=0;R<t.length;R+=3)m(t[R+0],M),m(t[R+1],E),m(t[R+2],D),c(M,E,D,S)}function c(S,M,E,D){const R=D+1,T=[];for(let I=0;I<=R;I++){T[I]=[];const b=S.clone().lerp(E,I/R),x=M.clone().lerp(E,I/R),L=R-I;for(let z=0;z<=L;z++)z===0&&I===R?T[I][z]=b:T[I][z]=b.clone().lerp(x,z/L)}for(let I=0;I<R;I++)for(let b=0;b<2*(R-I)-1;b++){const x=Math.floor(b/2);b%2===0?(f(T[I][x+1]),f(T[I+1][x]),f(T[I][x])):(f(T[I][x+1]),f(T[I+1][x+1]),f(T[I+1][x]))}}function d(S){const M=new A;for(let E=0;E<o.length;E+=3)M.x=o[E+0],M.y=o[E+1],M.z=o[E+2],M.normalize().multiplyScalar(S),o[E+0]=M.x,o[E+1]=M.y,o[E+2]=M.z}function u(){const S=new A;for(let M=0;M<o.length;M+=3){S.x=o[M+0],S.y=o[M+1],S.z=o[M+2];const E=g(S)/2/Math.PI+.5,D=p(S)/Math.PI+.5;s.push(E,1-D)}_(),h()}function h(){for(let S=0;S<s.length;S+=6){const M=s[S+0],E=s[S+2],D=s[S+4],R=Math.max(M,E,D),T=Math.min(M,E,D);R>.9&&T<.1&&(M<.2&&(s[S+0]+=1),E<.2&&(s[S+2]+=1),D<.2&&(s[S+4]+=1))}}function f(S){o.push(S.x,S.y,S.z)}function m(S,M){const E=S*3;M.x=e[E+0],M.y=e[E+1],M.z=e[E+2]}function _(){const S=new A,M=new A,E=new A,D=new A,R=new ye,T=new ye,I=new ye;for(let b=0,x=0;b<o.length;b+=9,x+=6){S.set(o[b+0],o[b+1],o[b+2]),M.set(o[b+3],o[b+4],o[b+5]),E.set(o[b+6],o[b+7],o[b+8]),R.set(s[x+0],s[x+1]),T.set(s[x+2],s[x+3]),I.set(s[x+4],s[x+5]),D.copy(S).add(M).add(E).divideScalar(3);const L=g(D);v(R,x+0,S,L),v(T,x+2,M,L),v(I,x+4,E,L)}}function v(S,M,E,D){D<0&&S.x===1&&(s[M]=S.x-1),E.x===0&&E.z===0&&(s[M]=D/2/Math.PI+.5)}function g(S){return Math.atan2(S.z,-S.x)}function p(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ya(e.vertices,e.indices,e.radius,e.details)}}class Sa extends ya{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Sa(e.radius,e.detail)}}class wa extends nn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new xe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new on,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gn extends wa{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return vt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new xe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new xe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new xe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class v9 extends nn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new on,this.combine=da,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function Co(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function M9(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function x9(r){function e(i,o){return r[i]-r[o]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function vc(r,e,t){const n=r.length,i=new r.constructor(n);for(let o=0,s=0;s!==n;++o){const a=t[o]*e;for(let c=0;c!==e;++c)i[s++]=r[a+c]}return i}function M1(r,e,t,n){let i=1,o=r[0];for(;o!==void 0&&o[n]===void 0;)o=r[i++];if(o===void 0)return;let s=o[n];if(s!==void 0)if(Array.isArray(s))do s=o[n],s!==void 0&&(e.push(o.time),t.push.apply(t,s)),o=r[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[n],s!==void 0&&(e.push(o.time),s.toArray(t,t.length)),o=r[i++];while(o!==void 0);else do s=o[n],s!==void 0&&(e.push(o.time),t.push(s)),o=r[i++];while(o!==void 0)}class Hr{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],o=t[n-1];n:{e:{let s;t:{i:if(!(e<i)){for(let a=n+2;;){if(i===void 0){if(e<o)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(o=i,i=t[++n],e<i)break e}s=t.length;break t}if(!(e>=o)){const a=t[1];e<a&&(n=2,o=a);for(let c=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(i=o,o=t[--n-1],e>=o)break e}s=n,n=0;break t}break n}for(;n<s;){const a=n+s>>>1;e<t[a]?s=a:n=a+1}if(i=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,i)}return this.interpolate_(n,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=n[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class y9 extends Hr{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:fl,endingEnd:fl}}intervalChanged_(e,t,n){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],c=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case pl:o=e,a=2*t-n;break;case ml:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=n}if(c===void 0)switch(this.getSettings_().endingEnd){case pl:s=e,c=2*n-t;break;case ml:s=1,c=n+i[1]-i[0];break;default:s=e-1,c=t}const d=(n-t)*.5,u=this.valueSize;this._weightPrev=d/(t-a),this._weightNext=d/(c-n),this._offsetPrev=o*u,this._offsetNext=s*u}interpolate_(e,t,n,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=e*a,d=c-a,u=this._offsetPrev,h=this._offsetNext,f=this._weightPrev,m=this._weightNext,_=(n-t)/(i-t),v=_*_,g=v*_,p=-f*g+2*f*v-f*_,S=(1+f)*g+(-1.5-2*f)*v+(-.5+f)*_+1,M=(-1-m)*g+(1.5+m)*v+.5*_,E=m*g-m*v;for(let D=0;D!==a;++D)o[D]=p*s[u+D]+S*s[d+D]+M*s[c+D]+E*s[h+D];return o}}class S9 extends Hr{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=e*a,d=c-a,u=(n-t)/(i-t),h=1-u;for(let f=0;f!==a;++f)o[f]=s[d+f]*h+s[c+f]*u;return o}}class w9 extends Hr{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class _n{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Co(t,this.TimeBufferType),this.values=Co(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Co(e.times,Array),values:Co(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new w9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new S9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new y9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Rr:t=this.InterpolantFactoryMethodDiscrete;break;case Lr:t=this.InterpolantFactoryMethodLinear;break;case us:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Rr;case this.InterpolantFactoryMethodLinear:return Lr;case this.InterpolantFactoryMethodSmooth:return us}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let o=0,s=i-1;for(;o!==i&&n[o]<e;)++o;for(;s!==-1&&n[s]>t;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=n.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const c=n[a];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,c),e=!1;break}if(s!==null&&s>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,c,s),e=!1;break}s=c}if(i!==void 0&&M9(i))for(let a=0,c=i.length;a!==c;++a){const d=i[a];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===us,o=e.length-1;let s=1;for(let a=1;a<o;++a){let c=!1;const d=e[a],u=e[a+1];if(d!==u&&(a!==1||d!==e[0]))if(i)c=!0;else{const h=a*n,f=h-n,m=h+n;for(let _=0;_!==n;++_){const v=t[h+_];if(v!==t[f+_]||v!==t[m+_]){c=!0;break}}}if(c){if(a!==s){e[s]=e[a];const h=a*n,f=s*n;for(let m=0;m!==n;++m)t[f+m]=t[h+m]}++s}}if(o>0){e[s]=e[o];for(let a=o*n,c=s*n,d=0;d!==n;++d)t[c+d]=t[a+d];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}_n.prototype.TimeBufferType=Float32Array;_n.prototype.ValueBufferType=Float32Array;_n.prototype.DefaultInterpolation=Lr;class ar extends _n{constructor(e,t,n){super(e,t,n)}}ar.prototype.ValueTypeName="bool";ar.prototype.ValueBufferType=Array;ar.prototype.DefaultInterpolation=Rr;ar.prototype.InterpolantFactoryMethodLinear=void 0;ar.prototype.InterpolantFactoryMethodSmooth=void 0;class x1 extends _n{}x1.prototype.ValueTypeName="color";class tr extends _n{}tr.prototype.ValueTypeName="number";class b9 extends Hr{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=(n-t)/(i-t);let d=e*a;for(let u=d+a;d!==u;d+=4)pn.slerpFlat(o,0,s,d-a,s,d,c);return o}}class nr extends _n{InterpolantFactoryMethodLinear(e){return new b9(this.times,this.values,this.getValueSize(),e)}}nr.prototype.ValueTypeName="quaternion";nr.prototype.InterpolantFactoryMethodSmooth=void 0;class lr extends _n{constructor(e,t,n){super(e,t,n)}}lr.prototype.ValueTypeName="string";lr.prototype.ValueBufferType=Array;lr.prototype.DefaultInterpolation=Rr;lr.prototype.InterpolantFactoryMethodLinear=void 0;lr.prototype.InterpolantFactoryMethodSmooth=void 0;class ir extends _n{}ir.prototype.ValueTypeName="vector";class E9{constructor(e="",t=-1,n=[],i=Au){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=tn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let s=0,a=n.length;s!==a;++s)t.push(A9(n[s]).scale(i));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=n.length;o!==s;++o)t.push(_n.toJSON(n[o]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const o=t.length,s=[];for(let a=0;a<o;a++){let c=[],d=[];c.push((a+o-1)%o,a,(a+1)%o),d.push(0,1,0);const u=x9(c);c=vc(c,1,u),d=vc(d,1,u),!i&&c[0]===0&&(c.push(o),d.push(d[0])),s.push(new tr(".morphTargetInfluences["+t[a].name+"]",c,d).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,c=e.length;a<c;a++){const d=e[a],u=d.name.match(o);if(u&&u.length>1){const h=u[1];let f=i[h];f||(i[h]=f=[]),f.push(d)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(h,f,m,_,v){if(m.length!==0){const g=[],p=[];M1(m,g,p,_),g.length!==0&&v.push(new h(f,g,p))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let c=e.length||-1;const d=e.hierarchy||[];for(let h=0;h<d.length;h++){const f=d[h].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let _;for(_=0;_<f.length;_++)if(f[_].morphTargets)for(let v=0;v<f[_].morphTargets.length;v++)m[f[_].morphTargets[v]]=-1;for(const v in m){const g=[],p=[];for(let S=0;S!==f[_].morphTargets.length;++S){const M=f[_];g.push(M.time),p.push(M.morphTarget===v?1:0)}i.push(new tr(".morphTargetInfluence["+v+"]",g,p))}c=m.length*s}else{const m=".bones["+t[h].name+"]";n(ir,m+".position",f,"pos",i),n(nr,m+".quaternion",f,"rot",i),n(ir,m+".scale",f,"scl",i)}}return i.length===0?null:new this(o,c,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function T9(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return tr;case"vector":case"vector2":case"vector3":case"vector4":return ir;case"color":return x1;case"quaternion":return nr;case"bool":case"boolean":return ar;case"string":return lr}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function A9(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=T9(r.type);if(r.times===void 0){const t=[],n=[];M1(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const jn={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class k9{constructor(e,t,n){const i=this;let o=!1,s=0,a=0,c;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return c?c(u):u},this.setURLModifier=function(u){return c=u,this},this.addHandler=function(u,h){return d.push(u,h),this},this.removeHandler=function(u){const h=d.indexOf(u);return h!==-1&&d.splice(h,2),this},this.getHandler=function(u){for(let h=0,f=d.length;h<f;h+=2){const m=d[h],_=d[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return _}return null}}}const R9=new k9;class pi{constructor(e){this.manager=e!==void 0?e:R9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,o){n.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}pi.DEFAULT_MATERIAL_NAME="__DEFAULT";const bn={};class L9 extends Error{constructor(e,t){super(e),this.response=t}}class Oo extends pi{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=jn.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(bn[e]!==void 0){bn[e].push({onLoad:t,onProgress:n,onError:i});return}bn[e]=[],bn[e].push({onLoad:t,onProgress:n,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,c=this.responseType;fetch(s).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const u=bn[e],h=d.body.getReader(),f=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),m=f?parseInt(f):0,_=m!==0;let v=0;const g=new ReadableStream({start(p){S();function S(){h.read().then(({done:M,value:E})=>{if(M)p.close();else{v+=E.byteLength;const D=new ProgressEvent("progress",{lengthComputable:_,loaded:v,total:m});for(let R=0,T=u.length;R<T;R++){const I=u[R];I.onProgress&&I.onProgress(D)}p.enqueue(E),S()}},M=>{p.error(M)})}}});return new Response(g)}else throw new L9(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(c){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return d.json();default:if(a===void 0)return d.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),f=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(f);return d.arrayBuffer().then(_=>m.decode(_))}}}).then(d=>{jn.add(e,d);const u=bn[e];delete bn[e];for(let h=0,f=u.length;h<f;h++){const m=u[h];m.onLoad&&m.onLoad(d)}}).catch(d=>{const u=bn[e];if(u===void 0)throw this.manager.itemError(e),d;delete bn[e];for(let h=0,f=u.length;h<f;h++){const m=u[h];m.onError&&m.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class P9 extends pi{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=jn.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a=Pr("img");function c(){u(),jn.add(e,this),t&&t(this),o.manager.itemEnd(e)}function d(h){u(),i&&i(h),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",c,!1),a.removeEventListener("error",d,!1)}return a.addEventListener("load",c,!1),a.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class y1 extends pi{constructor(e){super(e)}load(e,t,n,i){const o=new xt,s=new P9(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,t!==void 0&&t(o)},n,i),o}}class Qo extends rt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new xe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class D9 extends Qo{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(rt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new xe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Vs=new Le,Mc=new A,xc=new A;class ba{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ye(512,512),this.map=null,this.mapPass=null,this.matrix=new Le,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ga,this._frameExtents=new ye(1,1),this._viewportCount=1,this._viewports=[new Qe(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Mc.setFromMatrixPosition(e.matrixWorld),t.position.copy(Mc),xc.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(xc),t.updateMatrixWorld(),Vs.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Vs),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Vs)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class I9 extends ba{constructor(){super(new wt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Ji*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class N9 extends Qo{constructor(e,t,n=0,i=Math.PI/3,o=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(rt.DEFAULT_UP),this.updateMatrix(),this.target=new rt,this.distance=n,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new I9}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const yc=new Le,gr=new A,Bs=new A;class U9 extends ba{constructor(){super(new wt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ye(4,2),this._viewportCount=6,this._viewports=[new Qe(2,1,1,1),new Qe(0,1,1,1),new Qe(3,1,1,1),new Qe(1,1,1,1),new Qe(3,0,1,1),new Qe(1,0,1,1)],this._cubeDirections=[new A(1,0,0),new A(-1,0,0),new A(0,0,1),new A(0,0,-1),new A(0,1,0),new A(0,-1,0)],this._cubeUps=[new A(0,1,0),new A(0,1,0),new A(0,1,0),new A(0,1,0),new A(0,0,1),new A(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),gr.setFromMatrixPosition(e.matrixWorld),n.position.copy(gr),Bs.copy(n.position),Bs.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Bs),n.updateMatrixWorld(),i.makeTranslation(-gr.x,-gr.y,-gr.z),yc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yc)}}class F9 extends Qo{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new U9}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class O9 extends ba{constructor(){super(new _a(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Ea extends Qo{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(rt.DEFAULT_UP),this.updateMatrix(),this.target=new rt,this.shadow=new O9}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Er{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class H9 extends pi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=jn.get(e);if(s!==void 0){if(o.manager.itemStart(e),s.then){s.then(d=>{t&&t(d),o.manager.itemEnd(e)}).catch(d=>{i&&i(d)});return}return setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const c=fetch(e,a).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(d){return jn.add(e,d),t&&t(d),o.manager.itemEnd(e),d}).catch(function(d){i&&i(d),jn.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});jn.add(e,c),o.manager.itemStart(e)}}class S1{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Sc(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Sc();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Sc(){return(typeof performance>"u"?Date:performance).now()}const Ta="\\[\\]\\.:\\/",V9=new RegExp("["+Ta+"]","g"),Aa="[^"+Ta+"]",B9="[^"+Ta.replace("\\.","")+"]",z9=/((?:WC+[\/:])*)/.source.replace("WC",Aa),G9=/(WCOD+)?/.source.replace("WCOD",B9),W9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Aa),j9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Aa),X9=new RegExp("^"+z9+G9+W9+j9+"$"),Z9=["material","materials","bones","map"];class q9{constructor(e,t,n){const i=n||Je.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=n.length;i!==o;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Je{constructor(e,t,n){this.path=t,this.parsedPath=n||Je.parseTrackName(t),this.node=Je.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Je.Composite(e,t,n):new Je(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(V9,"")}static parseTrackName(e){const t=X9.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=n.nodeName.substring(i+1);Z9.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===t||a.uuid===t)return a;const c=n(a.children);if(c)return c}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,o=n.length;i!==o;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,o=n.length;i!==o;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,o=n.length;i!==o;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,o=n.length;i!==o;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let o=t.propertyIndex;if(e||(e=Je.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===d){d=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const s=e[i];if(s===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Je.Composite=q9;Je.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Je.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Je.prototype.GetterByBindingType=[Je.prototype._getValue_direct,Je.prototype._getValue_array,Je.prototype._getValue_arrayElement,Je.prototype._getValue_toArray];Je.prototype.SetterByBindingTypeAndVersioning=[[Je.prototype._setValue_direct,Je.prototype._setValue_direct_setNeedsUpdate,Je.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Je.prototype._setValue_array,Je.prototype._setValue_array_setNeedsUpdate,Je.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Je.prototype._setValue_arrayElement,Je.prototype._setValue_arrayElement_setNeedsUpdate,Je.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Je.prototype._setValue_fromArray,Je.prototype._setValue_fromArray_setNeedsUpdate,Je.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class wc{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(vt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const bc=new A,vo=new A;class w1{constructor(e=new A,t=new A){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){bc.subVectors(e,this.start),vo.subVectors(this.end,this.start);const n=vo.dot(vo);let o=vo.dot(bc)/n;return t&&(o=vt(o,0,1)),o}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ca}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ca);function Y9(){const r=new wt(75,innerWidth/innerHeight,1,1e3);return r.rotation.order="YXZ",r}function K9(){const r=new Set,e={KeyW:!1,KeyD:!1,KeyS:!1,KeyA:!1,Space:!1,Escape:!1,on(n){return r.add(n),{off(){r.delete(n)}}}},t=n=>Object.keys(e).includes(n);return addEventListener("keydown",({code:n})=>{t(n)&&n!=="on"&&(e[n]=!0);for(const i of r)i(n)}),addEventListener("keyup",({code:n})=>{t(n)&&n!=="on"&&(e[n]=!1)}),e}function $9(){const r=new D9(9290206,26253,1.5);r.position.set(2,1,1);const e=new Ea(16777215,2.5);return e.position.set(-5,25,-1),e.castShadow=!0,e.shadow.camera.near=.01,e.shadow.camera.far=500,e.shadow.camera.right=30,e.shadow.camera.left=-30,e.shadow.camera.top=30,e.shadow.camera.bottom=-30,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=1024,e.shadow.radius=4,e.shadow.bias=-6e-5,[r,e]}function J9(){const r=new m1({antialias:!0});return r.setPixelRatio(devicePixelRatio),r.setSize(innerWidth,innerHeight),r.shadowMap.enabled=!0,r.shadowMap.type=an,r.toneMapping=Bc,r}function Q9(){const r=new ia;return r.background=new xe(15648648),r.fog=new Jo(15648648,0,50),r}const Ec={type:"change"},zs={type:"start"},Tc={type:"end"},Mo=new Fr,Ac=new ln,em=Math.cos(70*Qi.DEG2RAD);class tm extends fi{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new A,this.cursor=new A,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:mi.ROTATE,MIDDLE:mi.DOLLY,RIGHT:mi.PAN},this.touches={ONE:gi.ROTATE,TWO:gi.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(C){C.addEventListener("keydown",se),this._domElementKeyEvents=C},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",se),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(Ec),n.update(),o=i.NONE},this.update=function(){const C=new A,X=new pn().setFromUnitVectors(e.up,new A(0,1,0)),H=X.clone().invert(),Z=new A,J=new pn,ve=new A,Re=2*Math.PI;return function(ut=null){const Ze=n.object.position;C.copy(Ze).sub(n.target),C.applyQuaternion(X),a.setFromVector3(C),n.autoRotate&&o===i.NONE&&z(x(ut)),n.enableDamping?(a.theta+=c.theta*n.dampingFactor,a.phi+=c.phi*n.dampingFactor):(a.theta+=c.theta,a.phi+=c.phi);let ht=n.minAzimuthAngle,ft=n.maxAzimuthAngle;isFinite(ht)&&isFinite(ft)&&(ht<-Math.PI?ht+=Re:ht>Math.PI&&(ht-=Re),ft<-Math.PI?ft+=Re:ft>Math.PI&&(ft-=Re),ht<=ft?a.theta=Math.max(ht,Math.min(ft,a.theta)):a.theta=a.theta>(ht+ft)/2?Math.max(ht,a.theta):Math.min(ft,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(u,n.dampingFactor):n.target.add(u),n.target.sub(n.cursor),n.target.clampLength(n.minTargetRadius,n.maxTargetRadius),n.target.add(n.cursor);let It=!1;if(n.zoomToCursor&&R||n.object.isOrthographicCamera)a.radius=de(a.radius);else{const Nt=a.radius;a.radius=de(a.radius*d),It=Nt!=a.radius}if(C.setFromSpherical(a),C.applyQuaternion(H),Ze.copy(n.target).add(C),n.object.lookAt(n.target),n.enableDamping===!0?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,u.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),u.set(0,0,0)),n.zoomToCursor&&R){let Nt=null;if(n.object.isPerspectiveCamera){const In=C.length();Nt=de(In*d);const Kn=In-Nt;n.object.position.addScaledVector(E,Kn),n.object.updateMatrixWorld(),It=!!Kn}else if(n.object.isOrthographicCamera){const In=new A(D.x,D.y,0);In.unproject(n.object);const Kn=n.object.zoom;n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix(),It=Kn!==n.object.zoom;const $n=new A(D.x,D.y,0);$n.unproject(n.object),n.object.position.sub($n).add(In),n.object.updateMatrixWorld(),Nt=C.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Nt!==null&&(this.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Nt).add(n.object.position):(Mo.origin.copy(n.object.position),Mo.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(Mo.direction))<em?e.lookAt(n.target):(Ac.setFromNormalAndCoplanarPoint(n.object.up,n.target),Mo.intersectPlane(Ac,n.target))))}else if(n.object.isOrthographicCamera){const Nt=n.object.zoom;n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),Nt!==n.object.zoom&&(n.object.updateProjectionMatrix(),It=!0)}return d=1,R=!1,It||Z.distanceToSquared(n.object.position)>s||8*(1-J.dot(n.object.quaternion))>s||ve.distanceToSquared(n.target)>s?(n.dispatchEvent(Ec),Z.copy(n.object.position),J.copy(n.object.quaternion),ve.copy(n.target),!0):!1}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",me),n.domElement.removeEventListener("pointerdown",ot),n.domElement.removeEventListener("pointercancel",y),n.domElement.removeEventListener("wheel",Q),n.domElement.removeEventListener("pointermove",k),n.domElement.removeEventListener("pointerup",y),n.domElement.getRootNode().removeEventListener("keydown",Ce,{capture:!0}),n._domElementKeyEvents!==null&&(n._domElementKeyEvents.removeEventListener("keydown",se),n._domElementKeyEvents=null)};const n=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=i.NONE;const s=1e-6,a=new wc,c=new wc;let d=1;const u=new A,h=new ye,f=new ye,m=new ye,_=new ye,v=new ye,g=new ye,p=new ye,S=new ye,M=new ye,E=new A,D=new ye;let R=!1;const T=[],I={};let b=!1;function x(C){return C!==null?2*Math.PI/60*n.autoRotateSpeed*C:2*Math.PI/60/60*n.autoRotateSpeed}function L(C){const X=Math.abs(C*.01);return Math.pow(.95,n.zoomSpeed*X)}function z(C){c.theta-=C}function G(C){c.phi-=C}const K=function(){const C=new A;return function(H,Z){C.setFromMatrixColumn(Z,0),C.multiplyScalar(-H),u.add(C)}}(),O=function(){const C=new A;return function(H,Z){n.screenSpacePanning===!0?C.setFromMatrixColumn(Z,1):(C.setFromMatrixColumn(Z,0),C.crossVectors(n.object.up,C)),C.multiplyScalar(H),u.add(C)}}(),F=function(){const C=new A;return function(H,Z){const J=n.domElement;if(n.object.isPerspectiveCamera){const ve=n.object.position;C.copy(ve).sub(n.target);let Re=C.length();Re*=Math.tan(n.object.fov/2*Math.PI/180),K(2*H*Re/J.clientHeight,n.object.matrix),O(2*Z*Re/J.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(K(H*(n.object.right-n.object.left)/n.object.zoom/J.clientWidth,n.object.matrix),O(Z*(n.object.top-n.object.bottom)/n.object.zoom/J.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function q(C){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?d/=C:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function W(C){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?d*=C:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function ne(C,X){if(!n.zoomToCursor)return;R=!0;const H=n.domElement.getBoundingClientRect(),Z=C-H.left,J=X-H.top,ve=H.width,Re=H.height;D.x=Z/ve*2-1,D.y=-(J/Re)*2+1,E.set(D.x,D.y,1).unproject(n.object).sub(n.object.position).normalize()}function de(C){return Math.max(n.minDistance,Math.min(n.maxDistance,C))}function ue(C){h.set(C.clientX,C.clientY)}function Te(C){ne(C.clientX,C.clientX),p.set(C.clientX,C.clientY)}function ke(C){_.set(C.clientX,C.clientY)}function Y(C){f.set(C.clientX,C.clientY),m.subVectors(f,h).multiplyScalar(n.rotateSpeed);const X=n.domElement;z(2*Math.PI*m.x/X.clientHeight),G(2*Math.PI*m.y/X.clientHeight),h.copy(f),n.update()}function te(C){S.set(C.clientX,C.clientY),M.subVectors(S,p),M.y>0?q(L(M.y)):M.y<0&&W(L(M.y)),p.copy(S),n.update()}function fe(C){v.set(C.clientX,C.clientY),g.subVectors(v,_).multiplyScalar(n.panSpeed),F(g.x,g.y),_.copy(v),n.update()}function le(C){ne(C.clientX,C.clientY),C.deltaY<0?W(L(C.deltaY)):C.deltaY>0&&q(L(C.deltaY)),n.update()}function He(C){let X=!1;switch(C.code){case n.keys.UP:C.ctrlKey||C.metaKey||C.shiftKey?G(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):F(0,n.keyPanSpeed),X=!0;break;case n.keys.BOTTOM:C.ctrlKey||C.metaKey||C.shiftKey?G(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):F(0,-n.keyPanSpeed),X=!0;break;case n.keys.LEFT:C.ctrlKey||C.metaKey||C.shiftKey?z(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):F(n.keyPanSpeed,0),X=!0;break;case n.keys.RIGHT:C.ctrlKey||C.metaKey||C.shiftKey?z(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):F(-n.keyPanSpeed,0),X=!0;break}X&&(C.preventDefault(),n.update())}function Pe(C){if(T.length===1)h.set(C.pageX,C.pageY);else{const X=Ue(C),H=.5*(C.pageX+X.x),Z=.5*(C.pageY+X.y);h.set(H,Z)}}function We(C){if(T.length===1)_.set(C.pageX,C.pageY);else{const X=Ue(C),H=.5*(C.pageX+X.x),Z=.5*(C.pageY+X.y);_.set(H,Z)}}function P(C){const X=Ue(C),H=C.pageX-X.x,Z=C.pageY-X.y,J=Math.sqrt(H*H+Z*Z);p.set(0,J)}function je(C){n.enableZoom&&P(C),n.enablePan&&We(C)}function ze(C){n.enableZoom&&P(C),n.enableRotate&&Pe(C)}function tt(C){if(T.length==1)f.set(C.pageX,C.pageY);else{const H=Ue(C),Z=.5*(C.pageX+H.x),J=.5*(C.pageY+H.y);f.set(Z,J)}m.subVectors(f,h).multiplyScalar(n.rotateSpeed);const X=n.domElement;z(2*Math.PI*m.x/X.clientHeight),G(2*Math.PI*m.y/X.clientHeight),h.copy(f)}function Se(C){if(T.length===1)v.set(C.pageX,C.pageY);else{const X=Ue(C),H=.5*(C.pageX+X.x),Z=.5*(C.pageY+X.y);v.set(H,Z)}g.subVectors(v,_).multiplyScalar(n.panSpeed),F(g.x,g.y),_.copy(v)}function Xe(C){const X=Ue(C),H=C.pageX-X.x,Z=C.pageY-X.y,J=Math.sqrt(H*H+Z*Z);S.set(0,J),M.set(0,Math.pow(S.y/p.y,n.zoomSpeed)),q(M.y),p.copy(S);const ve=(C.pageX+X.x)*.5,Re=(C.pageY+X.y)*.5;ne(ve,Re)}function Ve(C){n.enableZoom&&Xe(C),n.enablePan&&Se(C)}function De(C){n.enableZoom&&Xe(C),n.enableRotate&&tt(C)}function ot(C){n.enabled!==!1&&(T.length===0&&(n.domElement.setPointerCapture(C.pointerId),n.domElement.addEventListener("pointermove",k),n.domElement.addEventListener("pointerup",y)),!ce(C)&&(Be(C),C.pointerType==="touch"?Ie(C):j(C)))}function k(C){n.enabled!==!1&&(C.pointerType==="touch"?ie(C):$(C))}function y(C){switch(be(C),T.length){case 0:n.domElement.releasePointerCapture(C.pointerId),n.domElement.removeEventListener("pointermove",k),n.domElement.removeEventListener("pointerup",y),n.dispatchEvent(Tc),o=i.NONE;break;case 1:const X=T[0],H=I[X];Ie({pointerId:X,pageX:H.x,pageY:H.y});break}}function j(C){let X;switch(C.button){case 0:X=n.mouseButtons.LEFT;break;case 1:X=n.mouseButtons.MIDDLE;break;case 2:X=n.mouseButtons.RIGHT;break;default:X=-1}switch(X){case mi.DOLLY:if(n.enableZoom===!1)return;Te(C),o=i.DOLLY;break;case mi.ROTATE:if(C.ctrlKey||C.metaKey||C.shiftKey){if(n.enablePan===!1)return;ke(C),o=i.PAN}else{if(n.enableRotate===!1)return;ue(C),o=i.ROTATE}break;case mi.PAN:if(C.ctrlKey||C.metaKey||C.shiftKey){if(n.enableRotate===!1)return;ue(C),o=i.ROTATE}else{if(n.enablePan===!1)return;ke(C),o=i.PAN}break;default:o=i.NONE}o!==i.NONE&&n.dispatchEvent(zs)}function $(C){switch(o){case i.ROTATE:if(n.enableRotate===!1)return;Y(C);break;case i.DOLLY:if(n.enableZoom===!1)return;te(C);break;case i.PAN:if(n.enablePan===!1)return;fe(C);break}}function Q(C){n.enabled===!1||n.enableZoom===!1||o!==i.NONE||(C.preventDefault(),n.dispatchEvent(zs),le(ee(C)),n.dispatchEvent(Tc))}function ee(C){const X=C.deltaMode,H={clientX:C.clientX,clientY:C.clientY,deltaY:C.deltaY};switch(X){case 1:H.deltaY*=16;break;case 2:H.deltaY*=100;break}return C.ctrlKey&&!b&&(H.deltaY*=10),H}function Ce(C){C.key==="Control"&&(b=!0,n.domElement.getRootNode().addEventListener("keyup",ae,{passive:!0,capture:!0}))}function ae(C){C.key==="Control"&&(b=!1,n.domElement.getRootNode().removeEventListener("keyup",ae,{passive:!0,capture:!0}))}function se(C){n.enabled===!1||n.enablePan===!1||He(C)}function Ie(C){switch(Ne(C),T.length){case 1:switch(n.touches.ONE){case gi.ROTATE:if(n.enableRotate===!1)return;Pe(C),o=i.TOUCH_ROTATE;break;case gi.PAN:if(n.enablePan===!1)return;We(C),o=i.TOUCH_PAN;break;default:o=i.NONE}break;case 2:switch(n.touches.TWO){case gi.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;je(C),o=i.TOUCH_DOLLY_PAN;break;case gi.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;ze(C),o=i.TOUCH_DOLLY_ROTATE;break;default:o=i.NONE}break;default:o=i.NONE}o!==i.NONE&&n.dispatchEvent(zs)}function ie(C){switch(Ne(C),o){case i.TOUCH_ROTATE:if(n.enableRotate===!1)return;tt(C),n.update();break;case i.TOUCH_PAN:if(n.enablePan===!1)return;Se(C),n.update();break;case i.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ve(C),n.update();break;case i.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;De(C),n.update();break;default:o=i.NONE}}function me(C){n.enabled!==!1&&C.preventDefault()}function Be(C){T.push(C.pointerId)}function be(C){delete I[C.pointerId];for(let X=0;X<T.length;X++)if(T[X]==C.pointerId){T.splice(X,1);return}}function ce(C){for(let X=0;X<T.length;X++)if(T[X]==C.pointerId)return!0;return!1}function Ne(C){let X=I[C.pointerId];X===void 0&&(X=new ye,I[C.pointerId]=X),X.set(C.pageX,C.pageY)}function Ue(C){const X=C.pointerId===T[0]?T[1]:T[0];return I[X]}n.domElement.addEventListener("contextmenu",me),n.domElement.addEventListener("pointerdown",ot),n.domElement.addEventListener("pointercancel",y),n.domElement.addEventListener("wheel",Q,{passive:!1}),n.domElement.getRootNode().addEventListener("keydown",Ce,{passive:!0,capture:!0}),this.update()}}function kc(r,e){if(e===ku)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===Qs||e===$c){let t=r.getIndex();if(t===null){const s=[],a=r.getAttribute("position");if(a!==void 0){for(let c=0;c<a.count;c++)s.push(c);r.setIndex(s),t=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=t.count-2,i=[];if(e===Qs)for(let s=1;s<=n;s++)i.push(t.getX(0)),i.push(t.getX(s)),i.push(t.getX(s+1));else for(let s=0;s<n;s++)s%2===0?(i.push(t.getX(s)),i.push(t.getX(s+1)),i.push(t.getX(s+2))):(i.push(t.getX(s+2)),i.push(t.getX(s+1)),i.push(t.getX(s)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=r.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}const Gs=new WeakMap;class b1 extends pi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const o=new Oo(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,s=>{this.parse(s,t,i)},n,i)}parse(e,t,n=()=>{}){this.decodeDracoFile(e,t,null,null,St,n).catch(n)}decodeDracoFile(e,t,n,i,o=yt,s=()=>{}){const a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:o};return this.decodeGeometry(e,a).then(t).catch(s)}decodeGeometry(e,t){const n=JSON.stringify(t);if(Gs.has(e)){const c=Gs.get(e);if(c.key===n)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const o=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(o,s).then(c=>(i=c,new Promise((d,u)=>{i._callbacks[o]={resolve:d,reject:u},i.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return a.catch(()=>!0).then(()=>{i&&o&&this._releaseTask(i,o)}),Gs.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new Xt;e.index&&t.setIndex(new Et(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],o=i.name,s=i.array,a=i.itemSize,c=new Et(s,a);o==="color"&&(this._assignVertexColorSpace(c,i.vertexColorSpace),c.normalized=!(s instanceof Float32Array)),t.setAttribute(o,c)}return t}_assignVertexColorSpace(e,t){if(t!==St)return;const n=new xe;for(let i=0,o=e.count;i<o;i++)n.fromBufferAttribute(e,i).convertSRGBToLinear(),e.setXYZ(i,n.r,n.g,n.b)}_loadLibrary(e,t){const n=new Oo(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,o)=>{n.load(e,i,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const o=nm.toString(),s=["/* draco decoder */",i,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(o){const s=o.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,o){return i._taskLoad>o._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function nm(){let r,e;onmessage=function(s){const a=s.data;switch(a.type){case"init":r=a.decoderConfig,e=new Promise(function(u){r.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(r)});break;case"decode":const c=a.buffer,d=a.taskConfig;e.then(u=>{const h=u.draco,f=new h.Decoder;try{const m=t(h,f,new Int8Array(c),d),_=m.attributes.map(v=>v.array.buffer);m.index&&_.push(m.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:m},_)}catch(m){console.error(m),self.postMessage({type:"error",id:a.id,error:m.message})}finally{h.destroy(f)}});break}};function t(s,a,c,d){const u=d.attributeIDs,h=d.attributeTypes;let f,m;const _=a.GetEncodedGeometryType(c);if(_===s.TRIANGULAR_MESH)f=new s.Mesh,m=a.DecodeArrayToMesh(c,c.byteLength,f);else if(_===s.POINT_CLOUD)f=new s.PointCloud,m=a.DecodeArrayToPointCloud(c,c.byteLength,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const g in u){const p=self[h[g]];let S,M;if(d.useUniqueIDs)M=u[g],S=a.GetAttributeByUniqueId(f,M);else{if(M=a.GetAttributeId(f,s[u[g]]),M===-1)continue;S=a.GetAttribute(f,M)}const E=i(s,a,f,g,p,S);g==="color"&&(E.vertexColorSpace=d.vertexColorSpace),v.attributes.push(E)}return _===s.TRIANGULAR_MESH&&(v.index=n(s,a,f)),s.destroy(f),v}function n(s,a,c){const u=c.num_faces()*3,h=u*4,f=s._malloc(h);a.GetTrianglesUInt32Array(c,h,f);const m=new Uint32Array(s.HEAPF32.buffer,f,u).slice();return s._free(f),{array:m,itemSize:1}}function i(s,a,c,d,u,h){const f=h.num_components(),_=c.num_points()*f,v=_*u.BYTES_PER_ELEMENT,g=o(s,u),p=s._malloc(v);a.GetAttributeDataArrayForAllPoints(c,h,g,v,p);const S=new u(s.HEAPF32.buffer,p,_).slice();return s._free(p),{name:d,array:S,itemSize:f}}function o(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}class E1 extends pi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new am(t)}),this.register(function(t){return new lm(t)}),this.register(function(t){return new _m(t)}),this.register(function(t){return new Cm(t)}),this.register(function(t){return new vm(t)}),this.register(function(t){return new dm(t)}),this.register(function(t){return new um(t)}),this.register(function(t){return new hm(t)}),this.register(function(t){return new fm(t)}),this.register(function(t){return new sm(t)}),this.register(function(t){return new pm(t)}),this.register(function(t){return new cm(t)}),this.register(function(t){return new gm(t)}),this.register(function(t){return new mm(t)}),this.register(function(t){return new rm(t)}),this.register(function(t){return new Mm(t)}),this.register(function(t){return new xm(t)})}load(e,t,n,i){const o=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const d=Er.extractUrlBase(e);s=Er.resolveURL(d,this.path)}else s=Er.extractUrlBase(e);this.manager.itemStart(e);const a=function(d){i?i(d):console.error(d),o.manager.itemError(e),o.manager.itemEnd(e)},c=new Oo(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){try{o.parse(d,s,function(u){t(u),o.manager.itemEnd(e)},a)}catch(u){a(u)}},n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let o;const s={},a={},c=new TextDecoder;if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(c.decode(new Uint8Array(e,0,4))===T1){try{s[Ge.KHR_BINARY_GLTF]=new ym(e)}catch(h){i&&i(h);return}o=JSON.parse(s[Ge.KHR_BINARY_GLTF].content)}else o=JSON.parse(c.decode(e));else o=e;if(o.asset===void 0||o.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const d=new Nm(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});d.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](d);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,s[h.name]=!0}if(o.extensionsUsed)for(let u=0;u<o.extensionsUsed.length;++u){const h=o.extensionsUsed[u],f=o.extensionsRequired||[];switch(h){case Ge.KHR_MATERIALS_UNLIT:s[h]=new om;break;case Ge.KHR_DRACO_MESH_COMPRESSION:s[h]=new Sm(o,this.dracoLoader);break;case Ge.KHR_TEXTURE_TRANSFORM:s[h]=new wm;break;case Ge.KHR_MESH_QUANTIZATION:s[h]=new bm;break;default:f.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}d.setExtensions(s),d.setPlugins(a),d.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,o){n.parse(e,t,i,o)})}}function im(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const Ge={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class rm{constructor(e){this.parser=e,this.name=Ge.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const o=t[n];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const o=t.json,c=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let d;const u=new xe(16777215);c.color!==void 0&&u.setRGB(c.color[0],c.color[1],c.color[2],yt);const h=c.range!==void 0?c.range:0;switch(c.type){case"directional":d=new Ea(u),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new F9(u),d.distance=h;break;case"spot":d=new N9(u),d.distance=h,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,d.angle=c.spot.outerConeAngle,d.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return d.position.set(0,0,0),d.decay=2,En(d,c),c.intensity!==void 0&&(d.intensity=c.intensity),d.name=t.createUniqueName(c.name||"light_"+e),i=Promise.resolve(d),t.cache.add(n,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,o=n.json.nodes[e],a=(o.extensions&&o.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(c){return n._getNodeRef(t.cache,a,c)})}}class om{constructor(){this.name=Ge.KHR_MATERIALS_UNLIT}getMaterialType(){return ui}extendParams(e,t,n){const i=[];e.color=new xe(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const s=o.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],yt),e.opacity=s[3]}o.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",o.baseColorTexture,St))}return Promise.all(i)}}class sm{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class am{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:gn}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&o.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&o.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(o.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const a=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ye(a,a)}return Promise.all(o)}}class lm{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:gn}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class cm{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:gn}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&o.push(n.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&o.push(n.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(o)}}class dm{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:gn}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new xe(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=i.extensions[this.name];if(s.sheenColorFactor!==void 0){const a=s.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],yt)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&o.push(n.assignTexture(t,"sheenColorMap",s.sheenColorTexture,St)),s.sheenRoughnessTexture!==void 0&&o.push(n.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(o)}}class um{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:gn}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&o.push(n.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(o)}}class hm{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:gn}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&o.push(n.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=new xe().setRGB(a[0],a[1],a[2],yt),Promise.all(o)}}class fm{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:gn}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class pm{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:gn}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&o.push(n.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=new xe().setRGB(a[0],a[1],a[2],yt),s.specularColorTexture!==void 0&&o.push(n.assignTexture(t,"specularColorMap",s.specularColorTexture,St)),Promise.all(o)}}class mm{constructor(e){this.parser=e,this.name=Ge.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:gn}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&o.push(n.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(o)}}class gm{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:gn}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&o.push(n.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(o)}}class _m{constructor(e){this.parser=e,this.name=Ge.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const o=i.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,s)}}class Cm{constructor(e){this.parser=e,this.name=Ge.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,o=i.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],a=i.images[s.source];let c=n.textureLoader;if(a.uri){const d=n.options.manager.getHandler(a.uri);d!==null&&(c=d)}return this.detectSupport().then(function(d){if(d)return n.loadTextureImage(e,s.source,c);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class vm{constructor(e){this.parser=e,this.name=Ge.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,o=i.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],a=i.images[s.source];let c=n.textureLoader;if(a.uri){const d=n.options.manager.getHandler(a.uri);d!==null&&(c=d)}return this.detectSupport().then(function(d){if(d)return n.loadTextureImage(e,s.source,c);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Mm{constructor(e){this.name=Ge.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],o=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(a){const c=i.byteOffset||0,d=i.byteLength||0,u=i.count,h=i.byteStride,f=new Uint8Array(a,c,d);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(u,h,f,i.mode,i.filter).then(function(m){return m.buffer}):s.ready.then(function(){const m=new ArrayBuffer(u*h);return s.decodeGltfBuffer(new Uint8Array(m),u,h,f,i.mode,i.filter),m})})}else return null}}class xm{constructor(e){this.name=Ge.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const d of i.primitives)if(d.mode!==Gt.TRIANGLES&&d.mode!==Gt.TRIANGLE_STRIP&&d.mode!==Gt.TRIANGLE_FAN&&d.mode!==void 0)return null;const s=n.extensions[this.name].attributes,a=[],c={};for(const d in s)a.push(this.parser.getDependency("accessor",s[d]).then(u=>(c[d]=u,c[d])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(d=>{const u=d.pop(),h=u.isGroup?u.children:[u],f=d[0].count,m=[];for(const _ of h){const v=new Le,g=new A,p=new pn,S=new A(1,1,1),M=new m9(_.geometry,_.material,f);for(let E=0;E<f;E++)c.TRANSLATION&&g.fromBufferAttribute(c.TRANSLATION,E),c.ROTATION&&p.fromBufferAttribute(c.ROTATION,E),c.SCALE&&S.fromBufferAttribute(c.SCALE,E),M.setMatrixAt(E,v.compose(g,p,S));for(const E in c)if(E==="_COLOR_0"){const D=c[E];M.instanceColor=new ra(D.array,D.itemSize,D.normalized)}else E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&_.geometry.setAttribute(E,c[E]);rt.prototype.copy.call(M,_),this.parser.assignFinalMaterial(M),m.push(M)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const T1="glTF",_r=12,Rc={JSON:1313821514,BIN:5130562};class ym{constructor(e){this.name=Ge.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,_r),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==T1)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-_r,o=new DataView(e,_r);let s=0;for(;s<i;){const a=o.getUint32(s,!0);s+=4;const c=o.getUint32(s,!0);if(s+=4,c===Rc.JSON){const d=new Uint8Array(e,_r+s,a);this.content=n.decode(d)}else if(c===Rc.BIN){const d=_r+s;this.body=e.slice(d,d+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Sm{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ge.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},c={},d={};for(const u in s){const h=sa[u]||u.toLowerCase();a[h]=s[u]}for(const u in e.attributes){const h=sa[u]||u.toLowerCase();if(s[u]!==void 0){const f=n.accessors[e.attributes[u]],m=Vi[f.componentType];d[h]=m.name,c[h]=f.normalized===!0}}return t.getDependency("bufferView",o).then(function(u){return new Promise(function(h,f){i.decodeDracoFile(u,function(m){for(const _ in m.attributes){const v=m.attributes[_],g=c[_];g!==void 0&&(v.normalized=g)}h(m)},a,d,yt,f)})})}}class wm{constructor(){this.name=Ge.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class bm{constructor(){this.name=Ge.KHR_MESH_QUANTIZATION}}class A1 extends Hr{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,o=e*i*3+i;for(let s=0;s!==i;s++)t[s]=n[o+s];return t}interpolate_(e,t,n,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=a*2,d=a*3,u=i-t,h=(n-t)/u,f=h*h,m=f*h,_=e*d,v=_-d,g=-2*m+3*f,p=m-f,S=1-g,M=p-f+h;for(let E=0;E!==a;E++){const D=s[v+E+a],R=s[v+E+c]*u,T=s[_+E+a],I=s[_+E]*u;o[E]=S*D+M*R+g*T+p*I}return o}}const Em=new pn;class Tm extends A1{interpolate_(e,t,n,i){const o=super.interpolate_(e,t,n,i);return Em.fromArray(o).normalize().toArray(o),o}}const Gt={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Vi={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Lc={9728:Pt,9729:Vt,9984:Gc,9985:bo,9986:yr,9987:Ln},Pc={33071:Wn,33648:ko,10497:hi},Ws={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},sa={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},zn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Am={CUBICSPLINE:void 0,LINEAR:Lr,STEP:Rr},js={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function km(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new wa({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:fn})),r.DefaultMaterial}function oi(r,e,t){for(const n in t.extensions)r[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function En(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Rm(r,e,t){let n=!1,i=!1,o=!1;for(let d=0,u=e.length;d<u;d++){const h=e[d];if(h.POSITION!==void 0&&(n=!0),h.NORMAL!==void 0&&(i=!0),h.COLOR_0!==void 0&&(o=!0),n&&i&&o)break}if(!n&&!i&&!o)return Promise.resolve(r);const s=[],a=[],c=[];for(let d=0,u=e.length;d<u;d++){const h=e[d];if(n){const f=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):r.attributes.position;s.push(f)}if(i){const f=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):r.attributes.normal;a.push(f)}if(o){const f=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):r.attributes.color;c.push(f)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(c)]).then(function(d){const u=d[0],h=d[1],f=d[2];return n&&(r.morphAttributes.position=u),i&&(r.morphAttributes.normal=h),o&&(r.morphAttributes.color=f),r.morphTargetsRelative=!0,r})}function Lm(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)r.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Pm(r){let e;const t=r.extensions&&r.extensions[Ge.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Xs(t.attributes):e=r.indices+":"+Xs(r.attributes)+":"+r.mode,r.targets!==void 0)for(let n=0,i=r.targets.length;n<i;n++)e+=":"+Xs(r.targets[n]);return e}function Xs(r){let e="";const t=Object.keys(r).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+r[t[n]]+";";return e}function aa(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Dm(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Im=new Le;class Nm{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new im,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,o=-1;typeof navigator<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,o=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||i&&o<98?this.textureLoader=new y1(this.options.manager):this.textureLoader=new H9(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Oo(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(s){const a={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:n,userData:{}};return oi(o,a,i),En(a,i),Promise.all(n._invokeAll(function(c){return c.afterRoot&&c.afterRoot(a)})).then(function(){for(const c of a.scenes)c.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,o=t.length;i<o;i++){const s=t[i].joints;for(let a=0,c=s.length;a<c;a++)e[s[a]].isBone=!0}for(let i=0,o=e.length;i<o;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(n[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),o=(s,a)=>{const c=this.associations.get(s);c!=null&&this.associations.set(a,c);for(const[d,u]of s.children.entries())o(u,a.children[d])};return o(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const o=e(t[i]);o&&n.push(o)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":i=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(o,s){return n.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ge.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(o,s){n.load(Er.resolveURL(t.uri,i.path),o,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,o=t.byteOffset||0;return n.slice(o,o+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const s=Ws[i.type],a=Vi[i.componentType],c=i.normalized===!0,d=new a(i.count*s);return Promise.resolve(new Et(d,s,c))}const o=[];return i.bufferView!==void 0?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),i.sparse!==void 0&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then(function(s){const a=s[0],c=Ws[i.type],d=Vi[i.componentType],u=d.BYTES_PER_ELEMENT,h=u*c,f=i.byteOffset||0,m=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,_=i.normalized===!0;let v,g;if(m&&m!==h){const p=Math.floor(f/m),S="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+p+":"+i.count;let M=t.cache.get(S);M||(v=new d(a,p*m,i.count*m/u),M=new d9(v,m/u),t.cache.add(S,M)),g=new va(M,c,f%m/u,_)}else a===null?v=new d(i.count*c):v=new d(a,f,i.count*c),g=new Et(v,c,_);if(i.sparse!==void 0){const p=Ws.SCALAR,S=Vi[i.sparse.indices.componentType],M=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,D=new S(s[1],M,i.sparse.count*p),R=new d(s[2],E,i.sparse.count*c);a!==null&&(g=new Et(g.array.slice(),g.itemSize,g.normalized));for(let T=0,I=D.length;T<I;T++){const b=D[T];if(g.setX(b,R[T*c]),c>=2&&g.setY(b,R[T*c+1]),c>=3&&g.setZ(b,R[T*c+2]),c>=4&&g.setW(b,R[T*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(e){const t=this.json,n=this.options,o=t.textures[e].source,s=t.images[o];let a=this.textureLoader;if(s.uri){const c=n.manager.getHandler(s.uri);c!==null&&(a=c)}return this.loadTextureImage(e,o,a)}loadTextureImage(e,t,n){const i=this,o=this.json,s=o.textures[e],a=o.images[t],c=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[c])return this.textureCache[c];const d=this.loadImageSource(t,n).then(function(u){u.flipY=!1,u.name=s.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const f=(o.samplers||{})[s.sampler]||{};return u.magFilter=Lc[f.magFilter]||Vt,u.minFilter=Lc[f.minFilter]||Ln,u.wrapS=Pc[f.wrapS]||hi,u.wrapT=Pc[f.wrapT]||hi,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[c]=d,d}loadImageSource(e,t){const n=this,i=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const s=i.images[e],a=self.URL||self.webkitURL;let c=s.uri||"",d=!1;if(s.bufferView!==void 0)c=n.getDependency("bufferView",s.bufferView).then(function(h){d=!0;const f=new Blob([h],{type:s.mimeType});return c=a.createObjectURL(f),c});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(c).then(function(h){return new Promise(function(f,m){let _=f;t.isImageBitmapLoader===!0&&(_=function(v){const g=new xt(v);g.needsUpdate=!0,f(g)}),t.load(Er.resolveURL(h,o.path),_,void 0,m)})}).then(function(h){return d===!0&&a.revokeObjectURL(c),En(h,s),h.userData.mimeType=s.mimeType||Dm(s.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),h});return this.sourceCache[e]=u,u}assignTexture(e,t,n,i){const o=this;return this.getDependency("texture",n.index).then(function(s){if(!s)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(s=s.clone(),s.channel=n.texCoord),o.extensions[Ge.KHR_TEXTURE_TRANSFORM]){const a=n.extensions!==void 0?n.extensions[Ge.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const c=o.associations.get(s);s=o.extensions[Ge.KHR_TEXTURE_TRANSFORM].extendTexture(s,a),o.associations.set(s,c)}}return i!==void 0&&(s.colorSpace=i),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+n.uuid;let c=this.cache.get(a);c||(c=new v1,nn.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(a,c)),n=c}else if(e.isLine){const a="LineBasicMaterial:"+n.uuid;let c=this.cache.get(a);c||(c=new C1,nn.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,this.cache.add(a,c)),n=c}if(i||o||s){let a="ClonedMaterial:"+n.uuid+":";i&&(a+="derivative-tangents:"),o&&(a+="vertex-colors:"),s&&(a+="flat-shading:");let c=this.cache.get(a);c||(c=n.clone(),o&&(c.vertexColors=!0),s&&(c.flatShading=!0),i&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(a,c),this.associations.set(c,this.associations.get(n))),n=c}e.material=n}getMaterialType(){return wa}loadMaterial(e){const t=this,n=this.json,i=this.extensions,o=n.materials[e];let s;const a={},c=o.extensions||{},d=[];if(c[Ge.KHR_MATERIALS_UNLIT]){const h=i[Ge.KHR_MATERIALS_UNLIT];s=h.getMaterialType(),d.push(h.extendParams(a,o,t))}else{const h=o.pbrMetallicRoughness||{};if(a.color=new xe(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const f=h.baseColorFactor;a.color.setRGB(f[0],f[1],f[2],yt),a.opacity=f[3]}h.baseColorTexture!==void 0&&d.push(t.assignTexture(a,"map",h.baseColorTexture,St)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(d.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),d.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),s=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),d.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}o.doubleSided===!0&&(a.side=dn);const u=o.alphaMode||js.OPAQUE;if(u===js.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===js.MASK&&(a.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&s!==ui&&(d.push(t.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new ye(1,1),o.normalTexture.scale!==void 0)){const h=o.normalTexture.scale;a.normalScale.set(h,h)}if(o.occlusionTexture!==void 0&&s!==ui&&(d.push(t.assignTexture(a,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&s!==ui){const h=o.emissiveFactor;a.emissive=new xe().setRGB(h[0],h[1],h[2],yt)}return o.emissiveTexture!==void 0&&s!==ui&&d.push(t.assignTexture(a,"emissiveMap",o.emissiveTexture,St)),Promise.all(d).then(function(){const h=new s(a);return o.name&&(h.name=o.name),En(h,o),t.associations.set(h,{materials:e}),o.extensions&&oi(i,h,o),h})}createUniqueName(e){const t=Je.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function o(a){return n[Ge.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(c){return Dc(c,a,t)})}const s=[];for(let a=0,c=e.length;a<c;a++){const d=e[a],u=Pm(d),h=i[u];if(h)s.push(h.promise);else{let f;d.extensions&&d.extensions[Ge.KHR_DRACO_MESH_COMPRESSION]?f=o(d):f=Dc(new Xt,d,t),i[u]={primitive:d,promise:f},s.push(f)}}return Promise.all(s)}loadMesh(e){const t=this,n=this.json,i=this.extensions,o=n.meshes[e],s=o.primitives,a=[];for(let c=0,d=s.length;c<d;c++){const u=s[c].material===void 0?km(this.cache):this.getDependency("material",s[c].material);a.push(u)}return a.push(t.loadGeometries(s)),Promise.all(a).then(function(c){const d=c.slice(0,c.length-1),u=c[c.length-1],h=[];for(let m=0,_=u.length;m<_;m++){const v=u[m],g=s[m];let p;const S=d[m];if(g.mode===Gt.TRIANGLES||g.mode===Gt.TRIANGLE_STRIP||g.mode===Gt.TRIANGLE_FAN||g.mode===void 0)p=o.isSkinnedMesh===!0?new h9(v,S):new bt(v,S),p.isSkinnedMesh===!0&&p.normalizeSkinWeights(),g.mode===Gt.TRIANGLE_STRIP?p.geometry=kc(p.geometry,$c):g.mode===Gt.TRIANGLE_FAN&&(p.geometry=kc(p.geometry,Qs));else if(g.mode===Gt.LINES)p=new g9(v,S);else if(g.mode===Gt.LINE_STRIP)p=new xa(v,S);else if(g.mode===Gt.LINE_LOOP)p=new _9(v,S);else if(g.mode===Gt.POINTS)p=new C9(v,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);Object.keys(p.geometry.morphAttributes).length>0&&Lm(p,o),p.name=t.createUniqueName(o.name||"mesh_"+e),En(p,o),g.extensions&&oi(i,p,g),t.assignFinalMaterial(p),h.push(p)}for(let m=0,_=h.length;m<_;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return o.extensions&&oi(i,h[0],o),h[0];const f=new hn;o.extensions&&oi(i,f,o),t.associations.set(f,{meshes:e});for(let m=0,_=h.length;m<_;m++)f.add(h[m]);return f})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new wt(Qi.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new _a(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),En(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let i=0,o=t.joints.length;i<o;i++)n.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const o=i.pop(),s=i,a=[],c=[];for(let d=0,u=s.length;d<u;d++){const h=s[d];if(h){a.push(h);const f=new Le;o!==null&&f.fromArray(o.array,d*16),c.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[d])}return new Ma(a,c)})}loadAnimation(e){const t=this.json,n=this,i=t.animations[e],o=i.name?i.name:"animation_"+e,s=[],a=[],c=[],d=[],u=[];for(let h=0,f=i.channels.length;h<f;h++){const m=i.channels[h],_=i.samplers[m.sampler],v=m.target,g=v.node,p=i.parameters!==void 0?i.parameters[_.input]:_.input,S=i.parameters!==void 0?i.parameters[_.output]:_.output;v.node!==void 0&&(s.push(this.getDependency("node",g)),a.push(this.getDependency("accessor",p)),c.push(this.getDependency("accessor",S)),d.push(_),u.push(v))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(c),Promise.all(d),Promise.all(u)]).then(function(h){const f=h[0],m=h[1],_=h[2],v=h[3],g=h[4],p=[];for(let S=0,M=f.length;S<M;S++){const E=f[S],D=m[S],R=_[S],T=v[S],I=g[S];if(E===void 0)continue;E.updateMatrix&&E.updateMatrix();const b=n._createAnimationTracks(E,D,R,T,I);if(b)for(let x=0;x<b.length;x++)p.push(b[x])}return new E9(o,void 0,p)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(o){const s=n._getNodeRef(n.meshCache,i.mesh,o);return i.weights!==void 0&&s.traverse(function(a){if(a.isMesh)for(let c=0,d=i.weights.length;c<d;c++)a.morphTargetInfluences[c]=i.weights[c]}),s})}loadNode(e){const t=this.json,n=this,i=t.nodes[e],o=n._loadNodeShallow(e),s=[],a=i.children||[];for(let d=0,u=a.length;d<u;d++)s.push(n.getDependency("node",a[d]));const c=i.skin===void 0?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([o,Promise.all(s),c]).then(function(d){const u=d[0],h=d[1],f=d[2];f!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(f,Im)});for(let m=0,_=h.length;m<_;m++)u.add(h[m]);return u})}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],s=o.name?i.createUniqueName(o.name):"",a=[],c=i._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(e)});return c&&a.push(c),o.camera!==void 0&&a.push(i.getDependency("camera",o.camera).then(function(d){return i._getNodeRef(i.cameraCache,o.camera,d)})),i._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(e)}).forEach(function(d){a.push(d)}),this.nodeCache[e]=Promise.all(a).then(function(d){let u;if(o.isBone===!0?u=new g1:d.length>1?u=new hn:d.length===1?u=d[0]:u=new rt,u!==d[0])for(let h=0,f=d.length;h<f;h++)u.add(d[h]);if(o.name&&(u.userData.name=o.name,u.name=s),En(u,o),o.extensions&&oi(n,u,o),o.matrix!==void 0){const h=new Le;h.fromArray(o.matrix),u.applyMatrix4(h)}else o.translation!==void 0&&u.position.fromArray(o.translation),o.rotation!==void 0&&u.quaternion.fromArray(o.rotation),o.scale!==void 0&&u.scale.fromArray(o.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,o=new hn;n.name&&(o.name=i.createUniqueName(n.name)),En(o,n),n.extensions&&oi(t,o,n);const s=n.nodes||[],a=[];for(let c=0,d=s.length;c<d;c++)a.push(i.getDependency("node",s[c]));return Promise.all(a).then(function(c){for(let u=0,h=c.length;u<h;u++)o.add(c[u]);const d=u=>{const h=new Map;for(const[f,m]of i.associations)(f instanceof nn||f instanceof xt)&&h.set(f,m);return u.traverse(f=>{const m=i.associations.get(f);m!=null&&h.set(f,m)}),h};return i.associations=d(o),o})}_createAnimationTracks(e,t,n,i,o){const s=[],a=e.name?e.name:e.uuid,c=[];zn[o.path]===zn.weights?e.traverse(function(f){f.morphTargetInfluences&&c.push(f.name?f.name:f.uuid)}):c.push(a);let d;switch(zn[o.path]){case zn.weights:d=tr;break;case zn.rotation:d=nr;break;case zn.position:case zn.scale:d=ir;break;default:switch(n.itemSize){case 1:d=tr;break;case 2:case 3:default:d=ir;break}break}const u=i.interpolation!==void 0?Am[i.interpolation]:Lr,h=this._getArrayFromAccessor(n);for(let f=0,m=c.length;f<m;f++){const _=new d(c[f]+"."+zn[o.path],t.array,h,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(_),s.push(_)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=aa(t.constructor),i=new Float32Array(t.length);for(let o=0,s=t.length;o<s;o++)i[o]=t[o]*n;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const i=this instanceof nr?Tm:A1;return new i(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Um(r,e,t){const n=e.attributes,i=new rn;if(n.POSITION!==void 0){const a=t.json.accessors[n.POSITION],c=a.min,d=a.max;if(c!==void 0&&d!==void 0){if(i.set(new A(c[0],c[1],c[2]),new A(d[0],d[1],d[2])),a.normalized){const u=aa(Vi[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const a=new A,c=new A;for(let d=0,u=o.length;d<u;d++){const h=o[d];if(h.POSITION!==void 0){const f=t.json.accessors[h.POSITION],m=f.min,_=f.max;if(m!==void 0&&_!==void 0){if(c.setX(Math.max(Math.abs(m[0]),Math.abs(_[0]))),c.setY(Math.max(Math.abs(m[1]),Math.abs(_[1]))),c.setZ(Math.max(Math.abs(m[2]),Math.abs(_[2]))),f.normalized){const v=aa(Vi[f.componentType]);c.multiplyScalar(v)}a.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}r.boundingBox=i;const s=new jt;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,r.boundingSphere=s}function Dc(r,e,t){const n=e.attributes,i=[];function o(s,a){return t.getDependency("accessor",s).then(function(c){r.setAttribute(a,c)})}for(const s in n){const a=sa[s]||s.toLowerCase();a in r.attributes||i.push(o(n[s],a))}if(e.indices!==void 0&&!r.index){const s=t.getDependency("accessor",e.indices).then(function(a){r.setIndex(a)});i.push(s)}return qe.workingColorSpace!==yt&&"COLOR_0"in n&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${qe.workingColorSpace}" not supported.`),En(r,e),Um(r,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Rm(r,e.targets,t):r})}class es{constructor(e=new A(0,0,0),t=new A(0,1,0),n=1){this.start=e,this.end=t,this.radius=n}clone(){return new es(this.start.clone(),this.end.clone(),this.radius)}set(e,t,n){this.start.copy(e),this.end.copy(t),this.radius=n}copy(e){this.start.copy(e.start),this.end.copy(e.end),this.radius=e.radius}getCenter(e){return e.copy(this.end).add(this.start).multiplyScalar(.5)}translate(e){this.start.add(e),this.end.add(e)}checkAABBAxis(e,t,n,i,o,s,a,c,d){return(o-e<d||o-n<d)&&(e-s<d||n-s<d)&&(a-t<d||a-i<d)&&(t-c<d||i-c<d)}intersectsBox(e){return this.checkAABBAxis(this.start.x,this.start.y,this.end.x,this.end.y,e.min.x,e.max.x,e.min.y,e.max.y,this.radius)&&this.checkAABBAxis(this.start.x,this.start.z,this.end.x,this.end.z,e.min.x,e.max.x,e.min.z,e.max.z,this.radius)&&this.checkAABBAxis(this.start.y,this.start.z,this.end.y,this.end.z,e.min.y,e.max.y,e.min.z,e.max.z,this.radius)}}const Cr=new A,vr=new A,xo=new A,Mr=new A,sn=new ln,Zs=new w1,Fm=new w1,yo=new jt,xr=new es,Om=new A,Hm=new A,Vm=new A,Bm=1e-10;function zm(r,e,t=null,n=null){const i=Om.copy(r.end).sub(r.start),o=Hm.copy(e.end).sub(e.start),s=Vm.copy(e.start).sub(r.start),a=i.dot(o),c=i.dot(i),d=o.dot(o),u=o.dot(s),h=i.dot(s);let f,m;const _=c*d-a*a;if(Math.abs(_)<Bm){const v=-u/d,g=(a-u)/d;Math.abs(v-.5)<Math.abs(g-.5)?(f=0,m=v):(f=1,m=g)}else f=(u*a+h*d)/_,m=(f*a-u)/d;m=Math.max(0,Math.min(1,m)),f=Math.max(0,Math.min(1,f)),t&&t.copy(i).multiplyScalar(f).add(r.start),n&&n.copy(o).multiplyScalar(m).add(e.start)}class ka{constructor(e){this.box=e,this.bounds=new rn,this.subTrees=[],this.triangles=[],this.layers=new ma}addTriangle(e){return this.bounds.min.x=Math.min(this.bounds.min.x,e.a.x,e.b.x,e.c.x),this.bounds.min.y=Math.min(this.bounds.min.y,e.a.y,e.b.y,e.c.y),this.bounds.min.z=Math.min(this.bounds.min.z,e.a.z,e.b.z,e.c.z),this.bounds.max.x=Math.max(this.bounds.max.x,e.a.x,e.b.x,e.c.x),this.bounds.max.y=Math.max(this.bounds.max.y,e.a.y,e.b.y,e.c.y),this.bounds.max.z=Math.max(this.bounds.max.z,e.a.z,e.b.z,e.c.z),this.triangles.push(e),this}calcBox(){return this.box=this.bounds.clone(),this.box.min.x-=.01,this.box.min.y-=.01,this.box.min.z-=.01,this}split(e){if(!this.box)return;const t=[],n=vr.copy(this.box.max).sub(this.box.min).multiplyScalar(.5);for(let o=0;o<2;o++)for(let s=0;s<2;s++)for(let a=0;a<2;a++){const c=new rn,d=Cr.set(o,s,a);c.min.copy(this.box.min).add(d.multiply(n)),c.max.copy(c.min).add(n),t.push(new ka(c))}let i;for(;i=this.triangles.pop();)for(let o=0;o<t.length;o++)t[o].box.intersectsTriangle(i)&&t[o].triangles.push(i);for(let o=0;o<t.length;o++){const s=t[o].triangles.length;s>8&&e<16&&t[o].split(e+1),s!==0&&this.subTrees.push(t[o])}return this}build(){return this.calcBox(),this.split(0),this}getRayTriangles(e,t){for(let n=0;n<this.subTrees.length;n++){const i=this.subTrees[n];if(e.intersectsBox(i.box))if(i.triangles.length>0)for(let o=0;o<i.triangles.length;o++)t.indexOf(i.triangles[o])===-1&&t.push(i.triangles[o]);else i.getRayTriangles(e,t)}return t}triangleCapsuleIntersect(e,t){t.getPlane(sn);const n=sn.distanceToPoint(e.start)-e.radius,i=sn.distanceToPoint(e.end)-e.radius;if(n>0&&i>0||n<-e.radius&&i<-e.radius)return!1;const o=Math.abs(n/(Math.abs(n)+Math.abs(i))),s=Cr.copy(e.start).lerp(e.end,o);if(t.containsPoint(s))return{normal:sn.normal.clone(),point:s.clone(),depth:Math.abs(Math.min(n,i))};const a=e.radius*e.radius,c=Zs.set(e.start,e.end),d=[[t.a,t.b],[t.b,t.c],[t.c,t.a]];for(let u=0;u<d.length;u++){const h=Fm.set(d[u][0],d[u][1]);if(zm(c,h,xo,Mr),xo.distanceToSquared(Mr)<a)return{normal:xo.clone().sub(Mr).normalize(),point:Mr.clone(),depth:e.radius-xo.distanceTo(Mr)}}return!1}triangleSphereIntersect(e,t){if(t.getPlane(sn),!e.intersectsPlane(sn))return!1;const n=Math.abs(sn.distanceToSphere(e)),i=e.radius*e.radius-n*n,o=sn.projectPoint(e.center,Cr);if(t.containsPoint(e.center))return{normal:sn.normal.clone(),point:o.clone(),depth:Math.abs(sn.distanceToSphere(e))};const s=[[t.a,t.b],[t.b,t.c],[t.c,t.a]];for(let a=0;a<s.length;a++){Zs.set(s[a][0],s[a][1]),Zs.closestPointToPoint(o,!0,vr);const c=vr.distanceToSquared(e.center);if(c<i)return{normal:e.center.clone().sub(vr).normalize(),point:vr.clone(),depth:e.radius-Math.sqrt(c)}}return!1}getSphereTriangles(e,t){for(let n=0;n<this.subTrees.length;n++){const i=this.subTrees[n];if(e.intersectsBox(i.box))if(i.triangles.length>0)for(let o=0;o<i.triangles.length;o++)t.indexOf(i.triangles[o])===-1&&t.push(i.triangles[o]);else i.getSphereTriangles(e,t)}}getCapsuleTriangles(e,t){for(let n=0;n<this.subTrees.length;n++){const i=this.subTrees[n];if(e.intersectsBox(i.box))if(i.triangles.length>0)for(let o=0;o<i.triangles.length;o++)t.indexOf(i.triangles[o])===-1&&t.push(i.triangles[o]);else i.getCapsuleTriangles(e,t)}}sphereIntersect(e){yo.copy(e);const t=[];let n,i=!1;this.getSphereTriangles(e,t);for(let o=0;o<t.length;o++)(n=this.triangleSphereIntersect(yo,t[o]))&&(i=!0,yo.center.add(n.normal.multiplyScalar(n.depth)));if(i){const o=yo.center.clone().sub(e.center),s=o.length();return{normal:o.normalize(),depth:s}}return!1}capsuleIntersect(e){xr.copy(e);const t=[];let n,i=!1;this.getCapsuleTriangles(xr,t);for(let o=0;o<t.length;o++)(n=this.triangleCapsuleIntersect(xr,t[o]))&&(i=!0,xr.translate(n.normal.multiplyScalar(n.depth)));if(i){const o=xr.getCenter(new A).sub(e.getCenter(Cr)),s=o.length();return{normal:o.normalize(),depth:s}}return!1}rayIntersect(e){if(e.direction.length()===0)return;const t=[];let n,i,o=1e100;this.getRayTriangles(e,t);for(let s=0;s<t.length;s++){const a=e.intersectTriangle(t[s].a,t[s].b,t[s].c,!0,Cr);if(a){const c=a.sub(e.origin).length();o>c&&(i=a.clone().add(e.origin),o=c,n=t[s])}}return o<1e100?{distance:o,triangle:n,position:i}:!1}fromGraphNode(e){return e.updateWorldMatrix(!0,!0),e.traverse(t=>{if(t.isMesh===!0&&this.layers.test(t.layers)){let n,i=!1;t.geometry.index!==null?(i=!0,n=t.geometry.toNonIndexed()):n=t.geometry;const o=n.getAttribute("position");for(let s=0;s<o.count;s+=3){const a=new A().fromBufferAttribute(o,s),c=new A().fromBufferAttribute(o,s+1),d=new A().fromBufferAttribute(o,s+2);a.applyMatrix4(t.matrixWorld),c.applyMatrix4(t.matrixWorld),d.applyMatrix4(t.matrixWorld),this.addTriangle(new Qt(a,c,d))}i&&n.dispose()}}),this.build(),this}clear(){return this.box=null,this.bounds.makeEmpty(),this.subTrees.length=0,this.triangles.length=0,this}}class ts extends bt{constructor(){const e=ts.SkyShader,t=new mn({name:e.name,uniforms:No.clone(e.uniforms),vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,side:Dt,depthWrite:!1});super(new or(1,1,1),t),this.isSky=!0}}ts.SkyShader={name:"SkyShader",uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new A},up:{value:new A(0,1,0)}},vertexShader:`
		uniform vec3 sunPosition;
		uniform float rayleigh;
		uniform float turbidity;
		uniform float mieCoefficient;
		uniform vec3 up;

		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		// constants for atmospheric scattering
		const float e = 2.71828182845904523536028747135266249775724709369995957;
		const float pi = 3.141592653589793238462643383279502884197169;

		// wavelength of used primaries, according to preetham
		const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
		// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
		// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
		const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

		// mie stuff
		// K coefficient for the primaries
		const float v = 4.0;
		const vec3 K = vec3( 0.686, 0.678, 0.666 );
		// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
		const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

		// earth shadow hack
		// cutoffAngle = pi / 1.95;
		const float cutoffAngle = 1.6110731556870734;
		const float steepness = 1.5;
		const float EE = 1000.0;

		float sunIntensity( float zenithAngleCos ) {
			zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
			return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
		}

		vec3 totalMie( float T ) {
			float c = ( 0.2 * T ) * 10E-18;
			return 0.434 * c * MieConst;
		}

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			gl_Position.z = gl_Position.w; // set z to camera.far

			vSunDirection = normalize( sunPosition );

			vSunE = sunIntensity( dot( vSunDirection, up ) );

			vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

			float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

			// extinction (absorbtion + out scattering)
			// rayleigh coefficients
			vBetaR = totalRayleigh * rayleighCoefficient;

			// mie coefficients
			vBetaM = totalMie( turbidity ) * mieCoefficient;

		}`,fragmentShader:`
		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		uniform float mieDirectionalG;
		uniform vec3 up;

		// constants for atmospheric scattering
		const float pi = 3.141592653589793238462643383279502884197169;

		const float n = 1.0003; // refractive index of air
		const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

		// optical length at zenith for molecules
		const float rayleighZenithLength = 8.4E3;
		const float mieZenithLength = 1.25E3;
		// 66 arc seconds -> degrees, and the cosine of that
		const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

		// 3.0 / ( 16.0 * pi )
		const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
		// 1.0 / ( 4.0 * pi )
		const float ONE_OVER_FOURPI = 0.07957747154594767;

		float rayleighPhase( float cosTheta ) {
			return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
		}

		float hgPhase( float cosTheta, float g ) {
			float g2 = pow( g, 2.0 );
			float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
			return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
		}

		void main() {

			vec3 direction = normalize( vWorldPosition - cameraPosition );

			// optical length
			// cutoff angle at 90 to avoid singularity in next formula.
			float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
			float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
			float sR = rayleighZenithLength * inverse;
			float sM = mieZenithLength * inverse;

			// combined extinction factor
			vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

			// in scattering
			float cosTheta = dot( direction, vSunDirection );

			float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
			vec3 betaRTheta = vBetaR * rPhase;

			float mPhase = hgPhase( cosTheta, mieDirectionalG );
			vec3 betaMTheta = vBetaM * mPhase;

			vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
			Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

			// nightsky
			float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
			float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
			vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
			vec3 L0 = vec3( 0.1 ) * Fex;

			// composition + solar disc
			float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
			L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

			vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

			vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

			gl_FragColor = vec4( retColor, 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};class Gm extends bt{constructor(e,t={}){super(e),this.isWater=!0;const n=this,i=t.textureWidth!==void 0?t.textureWidth:512,o=t.textureHeight!==void 0?t.textureHeight:512,s=t.clipBias!==void 0?t.clipBias:0,a=t.alpha!==void 0?t.alpha:1,c=t.time!==void 0?t.time:0,d=t.waterNormals!==void 0?t.waterNormals:null,u=t.sunDirection!==void 0?t.sunDirection:new A(.70707,.70707,0),h=new xe(t.sunColor!==void 0?t.sunColor:16777215),f=new xe(t.waterColor!==void 0?t.waterColor:8355711),m=t.eye!==void 0?t.eye:new A(0,0,0),_=t.distortionScale!==void 0?t.distortionScale:20,v=t.side!==void 0?t.side:fn,g=t.fog!==void 0?t.fog:!1,p=new ln,S=new A,M=new A,E=new A,D=new Le,R=new A(0,0,-1),T=new Qe,I=new A,b=new A,x=new Qe,L=new Le,z=new wt,G=new Yn(i,o),K={name:"MirrorShader",uniforms:No.merge([oe.fog,oe.lights,{normalSampler:{value:null},mirrorSampler:{value:null},alpha:{value:1},time:{value:0},size:{value:1},distortionScale:{value:20},textureMatrix:{value:new Le},sunColor:{value:new xe(8355711)},sunDirection:{value:new A(.70707,.70707,0)},eye:{value:new A},waterColor:{value:new xe(5592405)}}]),vertexShader:`
				uniform mat4 textureMatrix;
				uniform float time;

				varying vec4 mirrorCoord;
				varying vec4 worldPosition;

				#include <common>
				#include <fog_pars_vertex>
				#include <shadowmap_pars_vertex>
				#include <logdepthbuf_pars_vertex>

				void main() {
					mirrorCoord = modelMatrix * vec4( position, 1.0 );
					worldPosition = mirrorCoord.xyzw;
					mirrorCoord = textureMatrix * mirrorCoord;
					vec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );
					gl_Position = projectionMatrix * mvPosition;

				#include <beginnormal_vertex>
				#include <defaultnormal_vertex>
				#include <logdepthbuf_vertex>
				#include <fog_vertex>
				#include <shadowmap_vertex>
			}`,fragmentShader:`
				uniform sampler2D mirrorSampler;
				uniform float alpha;
				uniform float time;
				uniform float size;
				uniform float distortionScale;
				uniform sampler2D normalSampler;
				uniform vec3 sunColor;
				uniform vec3 sunDirection;
				uniform vec3 eye;
				uniform vec3 waterColor;

				varying vec4 mirrorCoord;
				varying vec4 worldPosition;

				vec4 getNoise( vec2 uv ) {
					vec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);
					vec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );
					vec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );
					vec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );
					vec4 noise = texture2D( normalSampler, uv0 ) +
						texture2D( normalSampler, uv1 ) +
						texture2D( normalSampler, uv2 ) +
						texture2D( normalSampler, uv3 );
					return noise * 0.5 - 1.0;
				}

				void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {
					vec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );
					float direction = max( 0.0, dot( eyeDirection, reflection ) );
					specularColor += pow( direction, shiny ) * sunColor * spec;
					diffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;
				}

				#include <common>
				#include <packing>
				#include <bsdfs>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <lights_pars_begin>
				#include <shadowmap_pars_fragment>
				#include <shadowmask_pars_fragment>

				void main() {

					#include <logdepthbuf_fragment>
					vec4 noise = getNoise( worldPosition.xz * size );
					vec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );

					vec3 diffuseLight = vec3(0.0);
					vec3 specularLight = vec3(0.0);

					vec3 worldToEye = eye-worldPosition.xyz;
					vec3 eyeDirection = normalize( worldToEye );
					sunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );

					float distance = length(worldToEye);

					vec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;
					vec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.w + distortion ) );

					float theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );
					float rf0 = 0.3;
					float reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );
					vec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;
					vec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);
					vec3 outgoingLight = albedo;
					gl_FragColor = vec4( outgoingLight, alpha );

					#include <tonemapping_fragment>
					#include <colorspace_fragment>
					#include <fog_fragment>	
				}`},O=new mn({name:K.name,uniforms:No.clone(K.uniforms),vertexShader:K.vertexShader,fragmentShader:K.fragmentShader,lights:!0,side:v,fog:g});O.uniforms.mirrorSampler.value=G.texture,O.uniforms.textureMatrix.value=L,O.uniforms.alpha.value=a,O.uniforms.time.value=c,O.uniforms.normalSampler.value=d,O.uniforms.sunColor.value=h,O.uniforms.waterColor.value=f,O.uniforms.sunDirection.value=u,O.uniforms.distortionScale.value=_,O.uniforms.eye.value=m,n.material=O,n.onBeforeRender=function(F,q,W){if(M.setFromMatrixPosition(n.matrixWorld),E.setFromMatrixPosition(W.matrixWorld),D.extractRotation(n.matrixWorld),S.set(0,0,1),S.applyMatrix4(D),I.subVectors(M,E),I.dot(S)>0)return;I.reflect(S).negate(),I.add(M),D.extractRotation(W.matrixWorld),R.set(0,0,-1),R.applyMatrix4(D),R.add(E),b.subVectors(M,R),b.reflect(S).negate(),b.add(M),z.position.copy(I),z.up.set(0,1,0),z.up.applyMatrix4(D),z.up.reflect(S),z.lookAt(b),z.far=W.far,z.updateMatrixWorld(),z.projectionMatrix.copy(W.projectionMatrix),L.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),L.multiply(z.projectionMatrix),L.multiply(z.matrixWorldInverse),p.setFromNormalAndCoplanarPoint(S,M),p.applyMatrix4(z.matrixWorldInverse),T.set(p.normal.x,p.normal.y,p.normal.z,p.constant);const ne=z.projectionMatrix;x.x=(Math.sign(T.x)+ne.elements[8])/ne.elements[0],x.y=(Math.sign(T.y)+ne.elements[9])/ne.elements[5],x.z=-1,x.w=(1+ne.elements[10])/ne.elements[14],T.multiplyScalar(2/T.dot(x)),ne.elements[2]=T.x,ne.elements[6]=T.y,ne.elements[10]=T.z+1-s,ne.elements[14]=T.w,m.setFromMatrixPosition(W.matrixWorld);const de=F.getRenderTarget(),ue=F.xr.enabled,Te=F.shadowMap.autoUpdate;n.visible=!1,F.xr.enabled=!1,F.shadowMap.autoUpdate=!1,F.setRenderTarget(G),F.state.buffers.depth.setMask(!0),F.autoClear===!1&&F.clear(),F.render(q,z),n.visible=!0,F.xr.enabled=ue,F.shadowMap.autoUpdate=Te,F.setRenderTarget(de);const ke=W.viewport;ke!==void 0&&F.state.viewport(ke)}}}async function Wm(){const r=new ka,e=new E1,t=new b1;return t.setDecoderPath("js/"),e.setDRACOLoader(t),e.loadAsync("models/de_dust3.glb").then(async({scene:n})=>{n.scale.setScalar(1.7),r.fromGraphNode(n);const{scene:i}=await e.loadAsync("models/devpr.glb");return n.traverse(o=>{o instanceof bt&&(o.castShadow=!0,o.receiveShadow=!0,o.material.map&&(o.material.map.anisotropy=4))}),{octree:r,devpr:i,world:n}})}const Ar=class Ar extends bt{constructor(t,n){super(t,n);Ft(this,"collider");Ft(this,"velocity");this.castShadow=!0,this.receiveShadow=!0,this.collider=new jt(new A(0,-100,0),Ar.BALL_RADIUS),this.velocity=new A}};Ft(Ar,"MAX_BALLS",100),Ft(Ar,"BALL_RADIUS",.2);let Tr=Ar;class jm{constructor(e){Ft(this,"ballIndex",0);Ft(this,"balls",[]);Ft(this,"onTheFloor",!1);Ft(this,"collider");Ft(this,"velocity");Ft(this,"direction");this.camera=e;const t=new A(0,.35,0),n=new A(0,1,0);this.collider=new es(t,n,.35),this.velocity=new A,this.direction=new A}throwBall(e){const t=this.balls[this.ballIndex];this.camera.getWorldDirection(this.direction),t.collider.center.copy(this.collider.end).addScaledVector(this.direction,this.collider.radius*1.5);const n=15+30*(1-Math.exp((e-performance.now())*.01));return t.velocity.copy(this.direction).multiplyScalar(n),t.velocity.addScaledVector(this.velocity,2),this.ballIndex=(this.ballIndex+1)%this.balls.length,t}}var Bi,Nr;class Xm{constructor(e){nt(this,Bi,[]);nt(this,Nr,Date.now());this.model=e}drop(e,t){const n=this.model.clone();return n.position.copy(e).addScaledVector(t,3),n}input(e){Date.now()-_e(this,Nr)>1e3&&dt(this,Bi,[]),_e(this,Bi).push(e.replace("Key",""));const t=_e(this,Bi).join("");return console.log(t),dt(this,Nr,Date.now()),t.toLowerCase()==="devpr"}}Bi=new WeakMap,Nr=new WeakMap;function Zm(){let r=-1,e;const t=new S1,n=Q9(),i=Y9(),o=$9();n.add(...o);const s=J9();return Wm().then(a=>{n.add(a.world);const c=30,d=5,u=new jm(i);for(let O=0;O<Tr.MAX_BALLS;O++)u.balls.push(new Tr(new Sa(Tr.BALL_RADIUS,5),new v9({color:15949883})));let h=0;const f=K9(),m=new Xm(a.devpr);f.on(O=>{m.input(O)&&n.add(m.drop(u.collider.end,u.direction))});const _=()=>{document.body.requestPointerLock(),h=performance.now()},v=()=>{document.pointerLockElement!==null&&n.add(u.throwBall(h))},g=O=>{document.pointerLockElement===document.body&&(i.rotation.y-=O.movementX/500,i.rotation.x-=O.movementY/500)};addEventListener("mousedown",_),addEventListener("mouseup",v),addEventListener("mousemove",g);function p(){i.position.y<=-25&&(u.collider.start.set(0,.35,0),u.collider.end.set(0,1,0),u.collider.radius=.35,i.position.copy(u.collider.end),i.rotation.set(0,0,0))}function S(){const O=a.octree.capsuleIntersect(u.collider);u.onTheFloor=!1,O&&(u.onTheFloor=O.normal.y>0,u.onTheFloor||u.velocity.addScaledVector(O.normal,-O.normal.dot(u.velocity)),u.collider.translate(O.normal.multiplyScalar(O.depth)))}function M(O){let F=Math.exp(-4*O)-1;u.onTheFloor||(u.velocity.y-=c*O,F*=.1),u.velocity.addScaledVector(u.velocity,F);const q=u.velocity.clone().multiplyScalar(O);u.collider.translate(q),S(),i.position.copy(u.collider.end)}const E=new A,D=new A,R=new A;function T(O){const F=E.addVectors(u.collider.start,u.collider.end).multiplyScalar(.5),q=O.collider.center,W=u.collider.radius+O.collider.radius,ne=W*W;for(const de of[u.collider.start,u.collider.end,F]){const ue=de.distanceToSquared(q);if(ue<ne){const Te=E.subVectors(de,q).normalize(),ke=D.copy(Te).multiplyScalar(Te.dot(u.velocity)),Y=R.copy(Te).multiplyScalar(Te.dot(O.velocity));u.velocity.add(Y).sub(ke),O.velocity.add(ke).sub(Y);const te=(W-Math.sqrt(ue))/2;q.addScaledVector(Te,-te)}}}function I(){for(let O=0,F=u.balls.length;O<F;O++){const q=u.balls[O];for(let W=O+1;W<F;W++){const ne=u.balls[W],de=q.collider.center.distanceToSquared(ne.collider.center),ue=q.collider.radius+ne.collider.radius,Te=ue*ue;if(de<Te){const ke=E.subVectors(q.collider.center,ne.collider.center).normalize(),Y=D.copy(ke).multiplyScalar(ke.dot(q.velocity)),te=R.copy(ke).multiplyScalar(ke.dot(ne.velocity));q.velocity.add(te).sub(Y),ne.velocity.add(Y).sub(te);const fe=(ue-Math.sqrt(de))/2;q.collider.center.addScaledVector(ke,fe),ne.collider.center.addScaledVector(ke,-fe)}}}}function b(O){u.balls.forEach(F=>{F.collider.center.addScaledVector(F.velocity,O);const q=a.octree.sphereIntersect(F.collider);q?(F.velocity.addScaledVector(q.normal,-q.normal.dot(F.velocity)*1.5),F.collider.center.add(q.normal.multiplyScalar(q.depth))):F.velocity.y-=c*O;const W=Math.exp(-1.5*O)-1;F.velocity.addScaledVector(F.velocity,W),T(F)}),I();for(const F of u.balls)F.position.copy(F.collider.center)}function x(){return i.getWorldDirection(u.direction),u.direction.y=0,u.direction.normalize(),u.direction}function L(){return i.getWorldDirection(u.direction),u.direction.y=0,u.direction.normalize(),u.direction.cross(i.up),u.direction}function z(O){const F=O*(u.onTheFloor?25:8);f.Escape&&(cancelAnimationFrame(r),document.body.classList.remove("eggs"),removeEventListener("mousedown",_),removeEventListener("mouseup",v),removeEventListener("mousemove",g),s.domElement.remove(),e.remove()),f.KeyW&&u.velocity.add(x().multiplyScalar(F)),f.KeyS&&u.velocity.add(x().multiplyScalar(-F)),f.KeyA&&u.velocity.add(L().multiplyScalar(-F)),f.KeyD&&u.velocity.add(L().multiplyScalar(F)),u.onTheFloor&&f.Space&&(u.velocity.y=15)}addEventListener("resize",G);function G(){i.aspect=innerWidth/innerHeight,i.updateProjectionMatrix(),s.setSize(innerWidth,innerHeight)}function K(){requestAnimationFrame(K);const O=Math.min(.05,t.getDelta())/d;for(let F=0;F<d;F++)z(O),M(O),b(O),p();s.render(n,i)}K()}),e=l("div",{className:"game"},s.domElement),l(rr,null,e)}const qm="data:image/svg+xml,%3csvg%20width='24'%20height='21'%20viewBox='0%200%2048%2042'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.74219%2037.2422C5.5599%2037.2422%204.54167%2036.9896%203.6875%2036.4844C2.83854%2035.974%202.18229%2035.2578%201.71875%2034.3359C1.26042%2033.4089%201.03125%2032.3229%201.03125%2031.0781C1.03125%2029.849%201.26042%2028.7656%201.71875%2027.8281C2.18229%2026.8906%202.82813%2026.1589%203.65625%2025.6328C4.48958%2025.1068%205.46354%2024.8438%206.57813%2024.8438C7.25521%2024.8438%207.91146%2024.9557%208.54688%2025.1797C9.18229%2025.4036%209.7526%2025.7552%2010.2578%2026.2344C10.763%2026.7135%2011.1615%2027.3359%2011.4531%2028.1016C11.7448%2028.862%2011.8906%2029.7865%2011.8906%2030.875V31.7031H2.35156V29.9531H9.60156C9.60156%2029.3385%209.47656%2028.7943%209.22656%2028.3203C8.97656%2027.8411%208.625%2027.4635%208.17188%2027.1875C7.72396%2026.9115%207.19792%2026.7734%206.59375%2026.7734C5.9375%2026.7734%205.36458%2026.9349%204.875%2027.2578C4.39063%2027.5755%204.01563%2027.9922%203.75%2028.5078C3.48958%2029.0182%203.35938%2029.5729%203.35938%2030.1719V31.5391C3.35938%2032.3411%203.5%2033.0234%203.78125%2033.5859C4.06771%2034.1484%204.46615%2034.5781%204.97656%2034.875C5.48698%2035.1667%206.08333%2035.3125%206.76562%2035.3125C7.20833%2035.3125%207.61198%2035.25%207.97656%2035.125C8.34115%2034.9948%208.65625%2034.8021%208.92188%2034.5469C9.1875%2034.2917%209.39063%2033.9766%209.53125%2033.6016L11.7422%2034C11.5651%2034.651%2011.2474%2035.2214%2010.7891%2035.7109C10.3359%2036.1953%209.76563%2036.5729%209.07813%2036.8437C8.39583%2037.1094%207.61719%2037.2422%206.74219%2037.2422ZM23.6946%2027.9297L21.5774%2028.3047C21.4889%2028.0339%2021.3483%2027.776%2021.1555%2027.5312C20.968%2027.2865%2020.7128%2027.0859%2020.3899%2026.9297C20.067%2026.7734%2019.6634%2026.6953%2019.179%2026.6953C18.5175%2026.6953%2017.9654%2026.8437%2017.5227%2027.1406C17.08%2027.4323%2016.8587%2027.8099%2016.8587%2028.2734C16.8587%2028.6745%2017.0071%2028.9974%2017.304%2029.2422C17.6009%2029.487%2018.08%2029.6875%2018.7415%2029.8437L20.6477%2030.2812C21.7519%2030.5365%2022.5748%2030.9297%2023.1165%2031.4609C23.6582%2031.9922%2023.929%2032.6823%2023.929%2033.5313C23.929%2034.25%2023.7207%2034.8906%2023.304%2035.4531C22.8925%2036.0104%2022.317%2036.4479%2021.5774%2036.7656C20.843%2037.0833%2019.9915%2037.2422%2019.0227%2037.2422C17.679%2037.2422%2016.5826%2036.9557%2015.7337%2036.3828C14.8847%2035.8047%2014.3639%2034.9844%2014.1712%2033.9219L16.429%2033.5781C16.5696%2034.1667%2016.8587%2034.612%2017.2962%2034.9141C17.7337%2035.2109%2018.304%2035.3594%2019.0071%2035.3594C19.7727%2035.3594%2020.3847%2035.2005%2020.843%2034.8828C21.3014%2034.5599%2021.5305%2034.1667%2021.5305%2033.7031C21.5305%2033.3281%2021.3899%2033.013%2021.1087%2032.7578C20.8326%2032.5026%2020.4082%2032.3099%2019.8352%2032.1797L17.804%2031.7344C16.6842%2031.4792%2015.8561%2031.0729%2015.3196%2030.5156C14.7884%2029.9583%2014.5227%2029.2526%2014.5227%2028.3984C14.5227%2027.6901%2014.7207%2027.0703%2015.1165%2026.5391C15.5123%2026.0078%2016.0592%2025.5937%2016.7571%2025.2969C17.455%2024.9948%2018.2545%2024.8438%2019.1555%2024.8438C20.4524%2024.8438%2021.4733%2025.125%2022.218%2025.6875C22.9628%2026.2448%2023.455%2026.9922%2023.6946%2027.9297ZM31.772%2037.2422C30.6106%2037.2422%2029.6106%2036.9792%2028.772%2036.4531C27.9387%2035.9219%2027.2981%2035.1901%2026.8502%2034.2578C26.4022%2033.3255%2026.1783%2032.2578%2026.1783%2031.0547C26.1783%2029.8359%2026.4074%2028.7604%2026.8658%2027.8281C27.3241%2026.8906%2027.9699%2026.1589%2028.8033%2025.6328C29.6366%2025.1068%2030.6184%2024.8438%2031.7486%2024.8438C32.6601%2024.8438%2033.4726%2025.013%2034.1861%2025.3516C34.8996%2025.6849%2035.4752%2026.1536%2035.9127%2026.7578C36.3554%2027.362%2036.6184%2028.0677%2036.7017%2028.875H34.4283C34.3033%2028.3125%2034.0168%2027.8281%2033.5689%2027.4219C33.1262%2027.0156%2032.5324%2026.8125%2031.7877%2026.8125C31.1366%2026.8125%2030.5663%2026.9844%2030.0767%2027.3281C29.5923%2027.6667%2029.2147%2028.151%2028.9439%2028.7812C28.6731%2029.4062%2028.5377%2030.1458%2028.5377%2031C28.5377%2031.875%2028.6705%2032.6302%2028.9361%2033.2656C29.2017%2033.901%2029.5767%2034.3932%2030.0611%2034.7422C30.5507%2035.0911%2031.1262%2035.2656%2031.7877%2035.2656C32.2304%2035.2656%2032.6314%2035.1849%2032.9908%2035.0234C33.3554%2034.8568%2033.6601%2034.6198%2033.9048%2034.3125C34.1548%2034.0052%2034.3293%2033.6354%2034.4283%2033.2031H36.7017C36.6184%2033.9792%2036.3658%2034.6719%2035.9439%2035.2812C35.522%2035.8906%2034.9569%2036.3698%2034.2486%2036.7187C33.5455%2037.0677%2032.7199%2037.2422%2031.772%2037.2422Z'%20fill='black'/%3e%3c/svg%3e",Ym="data:image/svg+xml,%3csvg%20width='9'%20height='13'%20viewBox='0%200%2019%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2026V0H9.26758C11.2904%200%2012.9661%200.368164%2014.2949%201.10449C15.6237%201.84082%2016.6182%202.84798%2017.2783%204.12598C17.9385%205.39551%2018.2686%206.82585%2018.2686%208.41699C18.2686%2010.0166%2017.9342%2011.4554%2017.2656%2012.7334C16.6055%2014.0029%2015.6068%2015.0101%2014.2695%2015.7549C12.9408%2016.4912%2011.2692%2016.8594%209.25488%2016.8594H2.88184V13.5332H8.89941C10.1774%2013.5332%2011.2142%2013.3132%2012.0098%2012.873C12.8053%2012.4245%2013.3893%2011.8151%2013.7617%2011.0449C14.1341%2010.2747%2014.3203%209.39876%2014.3203%208.41699C14.3203%207.43522%2014.1341%206.56348%2013.7617%205.80176C13.3893%205.04004%2012.8011%204.44336%2011.9971%204.01172C11.2015%203.58008%2010.152%203.36426%208.84863%203.36426H3.92285V26H0Z'%20fill='%23333333'/%3e%3c/svg%3e",Km="data:image/svg+xml,%3csvg%20width='10'%20height='13'%20viewBox='0%200%2020%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2026V0H9.26758C11.2819%200%2012.9535%200.347005%2014.2822%201.04102C15.6195%201.73503%2016.6182%202.69564%2017.2783%203.92285C17.9385%205.1416%2018.2686%206.55078%2018.2686%208.15039C18.2686%209.74154%2017.9342%2011.1423%2017.2656%2012.3525C16.6055%2013.5544%2015.6068%2014.4896%2014.2695%2015.1582C12.9408%2015.8268%2011.2692%2016.1611%209.25488%2016.1611H2.23438V12.7842H8.89941C10.1689%2012.7842%2011.2015%2012.6022%2011.9971%2012.2383C12.8011%2011.8743%2013.3893%2011.3454%2013.7617%2010.6514C14.1341%209.95736%2014.3203%209.1237%2014.3203%208.15039C14.3203%207.16862%2014.1299%206.31803%2013.749%205.59863C13.3766%204.87923%2012.7884%204.3291%2011.9844%203.94824C11.1888%203.55892%2010.1436%203.36426%208.84863%203.36426H3.92285V26H0ZM12.835%2014.2695L19.2588%2026H14.79L8.49316%2014.2695H12.835Z'%20fill='%23333333'/%3e%3c/svg%3e",$m="data:image/svg+xml,%3csvg%20width='15'%20height='16'%20viewBox='0%200%2030%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.585786%2013.3137L13.3137%200.585784C14.0948%20-0.195264%2015.3611%20-0.195264%2016.1421%200.585784L28.8701%2013.3137C29.6511%2014.0948%2029.6511%2015.3611%2028.8701%2016.1421C28.089%2016.9232%2026.8227%2016.9232%2026.0416%2016.1421L16.7279%206.82843L16.7279%2030C16.7279%2031.1046%2015.8325%2032%2014.7279%2032C13.6234%2032%2012.7279%2031.1046%2012.7279%2030L12.7279%206.82843L3.41421%2016.1421C2.63316%2016.9232%201.36683%2016.9232%200.585786%2016.1421C-0.195263%2015.3611%20-0.195263%2014.0948%200.585786%2013.3137Z'%20fill='%23333333'/%3e%3c/svg%3e",Jm="data:image/svg+xml,%3csvg%20width='16'%20height='15'%20viewBox='0%200%2032%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M18.6863%200.585787L31.4142%2013.3137C32.1953%2014.0948%2032.1953%2015.3611%2031.4142%2016.1421L18.6863%2028.8701C17.9052%2029.6511%2016.6389%2029.6511%2015.8579%2028.8701C15.0768%2028.089%2015.0768%2026.8227%2015.8579%2026.0416L25.1716%2016.7279H2C0.89543%2016.7279%200%2015.8325%200%2014.7279C0%2013.6234%200.89543%2012.7279%202%2012.7279L25.1716%2012.7279L15.8579%203.41421C15.0768%202.63317%2015.0768%201.36684%2015.8579%200.585787C16.6389%20-0.195262%2017.9052%20-0.195262%2018.6863%200.585787Z'%20fill='%23333333'/%3e%3c/svg%3e",Qm="data:image/svg+xml,%3csvg%20width='15'%20height='16'%20viewBox='0%200%2030%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M29.4142%2018.6863L16.6863%2031.4142C15.9052%2032.1953%2014.6389%2032.1953%2013.8579%2031.4142L1.12994%2018.6863C0.348891%2017.9052%200.348891%2016.6389%201.12994%2015.8579C1.91099%2015.0768%203.17732%2015.0768%203.95837%2015.8579L13.2721%2025.1716L13.2721%202C13.2721%200.89543%2014.1675%20-6.9206e-07%2015.2721%20-6.43778e-07C16.3766%20-5.95496e-07%2017.2721%200.89543%2017.2721%202L17.2721%2025.1716L26.5858%2015.8579C27.3668%2015.0768%2028.6332%2015.0768%2029.4142%2015.8579C30.1953%2016.6389%2030.1953%2017.9052%2029.4142%2018.6863Z'%20fill='%23333333'/%3e%3c/svg%3e",e3="data:image/svg+xml,%3csvg%20width='16'%20height='15'%20viewBox='0%200%2032%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.3137%2029.4142L0.585786%2016.6863C-0.195262%2015.9052%20-0.195262%2014.6389%200.585786%2013.8579L13.3137%201.12994C14.0948%200.348891%2015.3611%200.348891%2016.1421%201.12994C16.9232%201.91099%2016.9232%203.17732%2016.1421%203.95837L6.82843%2013.2721L30%2013.2721C31.1046%2013.2721%2032%2014.1675%2032%2015.2721C32%2016.3766%2031.1046%2017.2721%2030%2017.2721L6.82843%2017.2721L16.1421%2026.5858C16.9232%2027.3668%2016.9232%2028.6332%2016.1421%2029.4142C15.3611%2030.1953%2014.0948%2030.1953%2013.3137%2029.4142Z'%20fill='%23333333'/%3e%3c/svg%3e";function si({value:r,path:e,onClick:t}){return l("button",{className:"key",type:"button",onClick:t,value:r},l("img",{src:e}))}function Ic(r,e,t,n,i="black",o="start",s="20px Mukta"){r.font=s,r.fillStyle=i,r.textAlign=o,r.fillText(e,t,n)}const So={save(r){localStorage.setItem("record",String(r))},take(){const r=localStorage.getItem("record");return r?+r:0}};function t3({grid:r,initialSize:e}){const t=document.createElement("canvas");t.width=r*26,t.height=r*26;const n=t.getContext("2d");if(!n)throw"context error";const i=()=>{const T=innerWidth,I=innerHeight,b=Math.floor(T/r),x=Math.floor(I/r);t.width=b*r,t.height=x*r};addEventListener("resize",i),i();const o={x:r*10,y:r*10,cells:[],maxCells:e,dx:r,dy:0},s={x:r*10*2,y:r*10*2};let a=0,c=0,d=!1,u=!1,h=-1,f=So.take(),m=matchMedia("(max-width: 991px)");const _=()=>{h=requestAnimationFrame(_),!(++a<(m.matches?8:4))&&(a=0,n.fillStyle="#0e1117",n.fillRect(0,0,t.width,t.height),!d&&!u&&(o.x+=o.dx,o.y+=o.dy),o.x<0?o.x=t.width-r:o.x>=t.width&&(o.x=0),o.y<0?o.y=t.height-r:o.y>=t.height&&(o.y=0),!d&&!u&&o.cells.unshift({x:o.x,y:o.y}),o.cells.length>o.maxCells&&o.cells.pop(),n.fillStyle="#3ad353",n.fillRect(s.x,s.y,r-1,r-1),n.fillStyle="#f9f9f9",o.cells.forEach((T,I)=>{if(n.fillRect(T.x,T.y,r-1,r-1),!u){T.x===s.x&&T.y===s.y&&(o.maxCells++,c=Math.floor((o.maxCells-e)*3.14),s.x=Ni(0,Math.floor(t.width/r)-1)*r,s.y=Ni(0,Math.floor(t.height/r)-1)*r);for(let b=I+1;b<o.cells.length;b++){const{x,y:L}=o.cells[b];T.x===x&&T.y===L&&(u=!0,c>So.take()&&So.save(c),s.x=Ni(0,Math.floor(t.width/r)-1)*r,s.y=Ni(0,Math.floor(t.height/r)-1)*r)}}}),Ic(n,`Score: ${c}`,30,50,"white"),f&&Ic(n,`Record: ${f}`,30,80,"white"))};let v;const g=()=>{d=!d},p=()=>{o.x=r*10,o.y=r*10,o.dy=0,o.dx=r,o.cells=[],o.maxCells=4,u=!1,f=So.take(),c=0},S=()=>{cancelAnimationFrame(h),document.body.classList.remove("eggs"),t.remove(),v.remove()},M=()=>{o.dy===0&&(o.dy=-r,o.dx=0)},E=()=>{o.dx===0&&(o.dx=r,o.dy=0)},D=()=>{o.dy===0&&(o.dy=r,o.dx=0)},R=()=>{o.dx===0&&(o.dx=-r,o.dy=0)};return bd(T=>{switch(T){case"KeyP":return g();case"KeyR":return p();case"Escape":return S();case"ArrowLeft":return R();case"ArrowUp":return M();case"ArrowRight":return E();case"ArrowDown":return D()}}),v=l("div",{className:"game"},t,l("nav",null,l(si,{value:"left",path:e3,onClick:R}),l(si,{value:"up",path:$m,onClick:M}),l(si,{value:"r",path:Km,onClick:p}),l(si,{value:"esc",path:qm,onClick:S}),l(si,{value:"p",path:Ym,onClick:g}),l(si,{value:"down",path:Qm,onClick:D}),l(si,{value:"right",path:Jm,onClick:E}))),_(),l(rr,null,v)}const n3=[{kind:"youtube",href:"https://youtube.com/devparana"},{kind:"github",href:"https://github.com/DeveloperParana/devpr24"},{kind:"snake",href:"#",action(){document.body.classList.add("eggs"),document.body.append(l(t3,{grid:16,initialSize:4}))}},{kind:"whatsapp",href:"https://chat.whatsapp.com/J2Enc3n1Zfu1ixhVecACyd"},{kind:"cs-go",href:"#",action(){document.body.classList.add("eggs"),document.body.append(l(Zm,null))}},{kind:"instagram",href:"https://instagram.com/devparana"},{kind:"linkedIn",href:"https://br.linkedin.com/company/devparana"}],k1={name:"Mano Deyvin",nickname:"deyvin",photo:"assets/speakers/deyvin.webp",tags:["Criador de conteúdo","Engenheiro backend","Entusiasta ruby e boas práticas"],links:[{kind:"github",href:"https://github.com/deyvin"},{kind:"linkedIn",href:"https://www.linkedin.com/company/chorume"},{kind:"youtube",href:"https://youtube.com/@manodeyvin"},{kind:"instagram",href:"https://www.instagram.com/manodeyvin"}],bio:["Deyvid, mais conhecido como Deyvin, possui mais de 17 anos de carreira, atua como engenheiro de software backend, ele é entusiasta da linguagem de programação ruby e de boas práticas de desenvolvimento.","Fora do expediente, atua como criador de conteúdo em seu canal no youtube Mano Deyvin que alcançou mais de 10 milhões de visualizações e mais de 100 mil inscritos, oferecendo insights sobre tecnologia, orientação de carreira e boas práticas de desenvolvimento, com uma abordagem única que incorpora humor ácido para tornar temas técnicos mais acessíveis e envolventes."],presentation:{title:"Verdades Difíceis de Engolir",status:!0,type:"talk",start:new Date("2024-07-28 15:00:00"),end:new Date("2024-07-28 15:50:00"),place:"Calil Haddad Theater"}},R1={name:"Ana Neri",nickname:"ananeridev",photo:"assets/speakers/ana.webp",tags:["Engenheira de Software Sênior","Women Tech Makers Ambassador","Líder da comunidade NodeBR","Criadora de conteúdo","Baixista de heavy metal"],links:[{kind:"github",href:"https://github.com/ananeridev"},{kind:"linkedIn",href:"https://www.linkedin.com/in/ananeridev"},{kind:"youtube",href:"https://youtube.com/@AnaNeriDev"},{kind:"instagram",href:"https://www.instagram.com/ananeridev"}],bio:["Engenheira de Software Sênior trabalhando para os Estados Unidos numa consultoria para empresas ao redor do mundo com a Stack NestJS, Typescript, NodeJS e Serverless.","Foi nomeada como Women Tech Makers Ambassador pela Google, lidera uma das maiores comunidades brasileiras de NodeJS a NodeBR e é voluntária na ONG Womakerscode.","Nas suas redes cria conteúdo técnico avançado através de vídeos, e da sua newsletter gratuita.","No tempo livre é uma baixista de heavy metal e gym rat."],presentation:{title:"Monorepos vs Microservices: A batalha da Escalabilidade",status:!0,type:"talk",start:new Date("2024-07-28T13:00:00.000Z"),end:new Date("2024-07-28T13:50:00.000Z"),place:"Calil Haddad Theater"}},L1={name:"Jônatas Davi",nickname:"jonatas",photo:"assets/speakers/jonatas.webp",tags:["Developer Advocate na Timescale","Mantenedor open source"],links:[{kind:"github",href:"https://github.com/jonatas"},{kind:"linkedIn",href:"https://www.linkedin.com/in/jonatasdp"},{kind:"youtube",href:"https://youtube.com/c/J%C3%B4natasPaganini"},{kind:"instagram",href:"https://www.instagram.com/jonatasdp"}],bio:["Nerd, ciclista e blogueiro. Sou um evangelista de pair programming. Usuário e entusiasta do editor Vim. Sou programador desde 2004."],presentation:{title:"Vetorização de informações e o Futuro dos modelos - modelos livres para um futuro mais aberto e sustentável.",status:!0,type:"talk",start:new Date("2024-07-28 12:00:00"),end:new Date("2024-07-28 12:50:00"),place:"Calil Haddad Theater"}},P1={name:"Fernanda Kipper",nickname:"kipper",photo:"assets/speakers/kipper2.webp",tags:["Software Enginneer","Microsoft MVP"],links:[{kind:"github",href:"https://github.com/Fernanda-Kipper"},{kind:"linkedIn",href:"https://www.linkedin.com/in/fernanda-kipper"},{kind:"youtube",href:"https://www.youtube.com/@kipperdev"},{kind:"instagram",href:"https://www.instagram.com/kipper.dev"}],bio:["Engenheira de Software no Itaú e Microsoft MVP, Fernanda é entusiasta do desenvolvimento Web desde os 18 anos. Atuando como desenvolvedora Fullstack, ela compartilha seu conhecimento e paixão pela tecnologia através de vídeos e lives no YouTube e Instagram, onde já reuniu uma comunidade de mais de 100 mil desenvolvedores."],presentation:{title:"Orquestração de Microserviços á nivel de Big Techs",status:!0,type:"talk",start:new Date("2024-07-28 09:00:00"),end:new Date("2024-07-28 09:50:00"),place:"Calil Haddad Theater"}},D1={name:"Mario Souto Silva",nickname:"devsoutinho",photo:"assets/speakers/soutinho.webp",tags:["GitHub Star","Google Developer Expert","Microsoft MVP","Web Platform Lead Engineer"],links:[{kind:"github",href:"https://github.com/omariosouto"},{kind:"linkedIn",href:"https://www.linkedin.com/in/omariosouto"},{kind:"youtube",href:"https://www.youtube.com/@DevSoutinho"},{kind:"instagram",href:"https://www.instagram.com/devsoutinho"}],bio:["Programador desde os 11 anos, hoje com 25 e 10+ anos de experiência, é Dev Full Stack com foco em Front-End, dá aulas, palestrou em eventos como BrazilJS e ajudou a resolver bugs no Google Chrome! É Lead Software Engineer no Nubank, Google Developer Expert, GitHub Star, Microsoft MVP e youtuber com 4 milhões de visualizações."],presentation:{title:"Desafios Práticos de Escalar Times de Plataforma",status:!0,type:"talk",start:new Date("2024-07-28 17:00:00"),end:new Date("2024-07-28 17:50:00"),place:"Calil Haddad Theater"}},I1={name:"Lays Rodrigues",nickname:"lays",photo:"assets/speakers/lays.webp",tags:["Software Enginneer","AWS Community Builder","Líder do AWS User Group Rio"],links:[{kind:"github",href:"https://github.com/lays147"},{kind:"linkedIn",href:"https://www.linkedin.com/in/laysrodrigues147/"},{kind:"instagram",href:"https://www.instagram.com/lays147/"}],bio:["Lays Rodrigues atua como Senior Software Engineer na Stone (Bota pra girar no modo Stone!). Especializada em utilizar AWS e Terraform para entregar o melhor valor possível ao negócio. Lays é AWS Community Builder e também é líder do AWS User Group Rio. Com mais de 7 anos de carreira em tech, ela está aprendendo a tocar um teclado diferente: um piano."],presentation:{title:"Automate Away the Toil",status:!0,type:"talk",start:new Date("2024-07-28 16:00:00"),end:new Date("2024-07-28 16:50:00"),place:"Calil Haddad Theater"}},N1={name:"Gustavo Caetano",nickname:"gustavo",photo:"assets/speakers/gustavo.webp",tags:["Executivo de Operações","Host do podcast Papinho Tech"],links:[{kind:"linkedIn",href:"https://www.linkedin.com/in/oguscaetano"},{kind:"youtube",href:"https://www.youtube.com/@oguscaetano"},{kind:"instagram",href:"https://www.instagram.com/oguscaetano"}],bio:["É Executivo de Operações na FIAP, mestre em Ciência da Computação com experiência de mercado em engenharia de software, gestão de projetos/pessoas e liderança técnica. Já atuou como professor e coordenador de curso técnico, graduação e pós-graduação na área de tecnologia. Possui um canal no YouTube com mais de 2 milhões de views e é Host do podcast Papinho Tech."],presentation:{title:"Como ser um Dev medíocre de sucesso",status:!0,type:"workshop",start:new Date("2024-07-28 11:00:00"),end:new Date("2024-07-28 11:50:00"),place:"Calil Haddad Theater"}},U1={name:"Munif Gebara",nickname:"munif",photo:"assets/speakers/munif.webp",tags:[""],links:[{kind:"github",href:"https://github.com/munifgebara"},{kind:"instagram",href:"https://www.instagram.com/munifgebara"}],bio:["Pesquisador e Desenvolvedor a 40 anos, Professor, Pai da Duda e do Vicente. Atualmente Tech Leader e Doutorando em Machine Learning.","Tive a felicidade de palestrar na 1ª conferência da comunidade DevParaná e 9 anos depois cá estou eu novamente.","Espero contribuir compartilhando algumas coisas que aprendi sobre IA nos últimos verões."],presentation:{title:"IA em ERPs, um caso prático replicável",status:!0,type:"talk",start:new Date("2024-07-27 17:00:00"),end:new Date("2024-07-27 17:30:00"),place:"Inspira Space - UniCesumar"}},F1={nickname:"leo",name:"Leonardo Elias",photo:"assets/speakers/leo.webp",tags:[],links:[{kind:"github",href:"https://github.com/leonardoelias"},{kind:"twitter",href:"https://twitter.com/leoeelias"},{kind:"linkedIn",href:"https://www.linkedin.com/in/leonardo-elias-6376b824"}],bio:["Leonardo Elias, Chapter Lead de Front-End na Avenue, uma plataforma de investimentos globais. Tenho mais de 12 anos de experiência em desenvolvimento web, com foco em front-end. Formado em Análise de Sistemas pela UNIPAR."],presentation:{title:"De Monólitos a Micro Frontends: Um Roteiro para Arquiteturas Web Escaláveis",status:!0,type:"talk",start:new Date("2024-07-27 16:00:00"),end:new Date("2024-07-27 16:30:00"),place:"UniCesumar - Maringá"}},O1={nickname:"isa",name:"Isabella Cruz de Oliveira",photo:"assets/speakers/isa.webp",tags:[],links:[{kind:"instagram",href:"https://instagram.com/isaxx_ah"},{kind:"linkedIn",href:"https://www.linkedin.com/in/isabella-cruz-de-oliveira-b761b7233"}],bio:["Iniciei minha carreira em 2022 na tecnologia, com 18 anos. Minha paixão sempre foi a programação. Atualmente estou atuando como a analista de engenharia no Itaú Unibanco.","Ao longo de minha carreira pude atuar com diversas tecnologias e diferentes arquiteturas, tais como: Angular, React, Typescript, .NET, Microfrontends, BFFs, Microserviços, Git e AWS.","Sou uma pessoa curiosa e bem comunicativa."],presentation:{title:"Microfrontends X Microservicos e BFFs",status:!0,type:"talk",start:new Date("2024-07-27 13:30:00"),end:new Date("2024-07-27 16:00:00"),place:"Inspira Space - UniCesumar"}},H1={nickname:"marco",name:"Marco Ollivier",photo:"assets/speakers/marco.webp",tags:[],links:[{kind:"github",href:"http://github.com/marcopollivier"},{kind:"instagram",href:"https://instagram.com/marcopollivier"},{kind:"linkedIn",href:"http://linkedin.com/in/marcopollivier"}],bio:["Engenheiro de Softwares com mais de 15 anos de experiência. Hoje Head de Engenharia na aMORA, também já trabalhou em empresas como Nubank, OLX e Flash. Também é instrutor na Ada Tech.","Ama comunidades de desenvolvimento e cria conteúdos nas horas vagas. Espalha a palavra de Golang sempre que pode."],presentation:{title:"Programação Funcional com Go. Possibilidade ou Forçação de barra",status:!0,type:"talk",start:new Date("2024-07-27 14:30:00"),end:new Date("2024-07-27 15:00:00"),place:"Inspira Space - UniCesumar"}},V1={nickname:"kelly",name:"Kelly Garcia",photo:"assets/speakers/kelly.webp",tags:[],links:[{kind:"instagram",href:"https://instagram.com/rmgKelly"},{kind:"linkedIn",href:"https://www.linkedin.com/in/rmgkelly"}],bio:["Eu sou Kelly Moreira Garcia, uma pessoa que gosta de conversar e ouvir outras histórias. Apaixonada por pessoas, números e como as duas coisas se relacionam. Além disso, amo natureza e culturas diferentes.","Atualmente atuo como Agilista Sênior na Ambev Tech, sou formada em Engenharia de Produção/ UEM, além de certificações mais específicas de Kanban, análise sistemática, Discovery e afins."],presentation:{title:"Desmistificando a agilidade: Como conectar a estratégia até a entrega",status:!0,type:"workshop",start:new Date("2024-07-27 13:30:00"),end:new Date("2024-07-27 15:00:00"),place:"Sala Invertida - UniCesumar"}},B1={nickname:"fer",name:"Fernando Fabrício",photo:"assets/speakers/fer.webp",tags:[],links:[{kind:"linkedIn",href:"https://www.linkedin.com/in/ferfabricio"},{kind:"github",href:"https://github.com/ferfabricio"}],bio:["Com 20 anos de experiência em backend e liderança técnica, atuo em projetos de empresas como Coinbase, Overseas Network e sou CTO da Let Me Pay.","Especialista em PHP, Golang, DevOps e CI/CD, sou mentor na ADPList e um dos fundadores do DevParaná."],presentation:{title:"Criando serviços em Golang",status:!0,type:"workshop",start:new Date("2024-07-27 13:30:00"),end:new Date("2024-07-27 15:00:00"),place:"Sala Invertida - UniCesumar"}},z1={nickname:"marcondes",name:"Marcondes Viana",photo:"assets/speakers/marcondes.webp",tags:[],links:[{kind:"linkedIn",href:"https://www.linkedin.com/in/vianamjr"},{kind:"github",href:"https://github.com/vianamjr"}],bio:["Com vasta experiência em desenvolvimento de software e liderança técnica, é especializado em Golang, APIs e micro-serviços.","Atualmente, atua como engenheiro de software na Opera, com histórico de trabalho em empresas globais e startups, focado em soluções inovadoras e escaláveis."],presentation:{title:"Criando serviços em Golang",status:!0,type:"workshop",start:new Date("2024-07-27 13:30:00"),end:new Date("2024-07-27 15:00:00"),place:"Sala Invertida - UniCesumar"}},G1={nickname:"burnes",name:"Prof. Anderson Burnes",photo:"assets/speakers/burnes.webp",tags:[],links:[{kind:"instagram",href:"https://instagram.com/profburnes"},{kind:"github",href:"https://github.com/profburnes"},{kind:"linkedIn",href:"https://linkedin.com/in/profburnes"}],bio:["Doutorando em Informática pela UFPR, Mestre em Informática pela UTFPR e Tencólogo em Processamento de Dados pelo Cesumar.","É dev web fulstack PHP desde 2002, trabalhando também com Javascripr e tendo conhecimento em React e Flutter.","É docente de Ensino Superior desde 2002 e atualmente é docente e coordena o curso de TADS do Grupo Integrado, onde é também coordenador da BeTech Integrado.","Ainda é coordenador de trilha do The Dev Conf (TDC) e palestrante de diversos eventos, como Campus Party, TDC, PHP Conference, The Developer's Life Weekend e Confloss."],presentation:{title:"Transforme sua WebPage em uma WebApp com PWA",status:!0,type:"workshop",start:new Date("2024-07-27 16:00:00"),end:new Date("2024-07-27 17:30:00"),place:"Sala Invertida - UniCesumar"}},wo={deyvin:k1,ananeridev:R1,jonatas:L1,kipper:P1,lays:I1,devsoutinho:D1,gustavo:N1,munif:U1,leo:F1,isa:O1,marco:H1,kelly:V1,fer:B1,marcondes:z1,burnes:G1},i3=[R1,k1,D1,P1,L1,I1,N1,G1],r3=[U1,F1,O1,H1,V1,B1,z1],o3=[{name:"Bruno Peternella"},{name:"José Bruno Campanholi dos Santos"},{name:"Gustavo Rafael Lira"},{name:"Bruno Souza Picinini"},{name:"Wilson Garcia França"},{name:"Francislaine Ortega Monteiro"},{name:"Leonardo Perin de Berso"},{name:"Raul Henrique Domingues"},{name:"Josimar Moreno Fernandes"},{name:"Luiz Romano"},{name:"Werik Leandro Lima de Melo"},{name:"Felipe dos Santos Fatique"},{name:"André Silva Cabral"},{name:"Flavio Augusto Bernaski da Silva"},{name:"Rafael Guzzo"},{name:"Douglas Domiciano"},{name:"Allan da Silva"},{name:"Nathan Ferdinando"},{name:"Felipe Ramos da Silva"},{name:"João Vitor Sobanski"},{name:"Giovane Lucca Rocco"},{name:"Eduardo Richard da Silva Nascimento"},{name:"Vinícius Antônio Beraldo "},{name:"Carlos Oliveira"},{name:"Guilherme Denobie"},{name:"Jonathan Henrique Medeiros"},{name:"João Antônio Bezerra Rodrigues"},{name:"Julio Vedovatto"},{name:"Simone Yumi Shibata "},{name:"Kleber Lopes Petry"},{name:"Luiz Augusto C. Souza"},{name:"Andre Franco"},{name:"Ary de Araújo Rodrigues Júnior"},{name:"Felquis Gimenes"},{name:"Renan Vieira Martins"},{name:"Michel Bolzon Souza Dos Reis"},{name:"Renato Brandão Martins Pinheiro Silva"},{name:"Hugo Minoru Kitazawa"},{name:"Bruno Gomes Sanches "},{name:"Jônatas Davi Paganini"},{name:"Hendreo Santos"},{name:"Gustavo Junior dos Santos"},{name:"Diogo Passos Ranghetti"},{name:"Adnys Lougan"},{name:"Allison fernando dos santos "},{name:"Jean Artico"},{name:"Vinicius Craveiro"},{name:"Rafael Massi do Nascimento"},{name:"Marco Paulo Ollivier"},{name:"Vinicius Augusto Zaramello"},{name:"Leonardo Rossi"},{name:"Thiago Bussola"},{name:"Wesley Kaihara"},{name:"Kelly Regina Moreira Garcia"},{name:"Renan Ceratto - OnSafety"}],W1={title:"Apoiador da Conferência",amount:"100 ~ 149",limit:200,description:"benefícios da reserva de poltrona no Teatro, antes da disponibilização para o público",benefits:["Certificado Digital","Badge da comunidade","2 adesivos (comunidade e conferência)","1 chaveiro da DevParaná"],link:{href:"/apoia-se/apoiador-da-conferencia.html",text:"Apoiar a conferência"}},j1={title:"Apoiador da Comunidade",amount:"150 ~ 249",limit:100,description:"benefícios da reserva de poltrona no Teatro, antes da disponibilização para o público",benefits:["$conferenceSupporter","1 camiseta ou caneca da comunidade","Participação em algumas dinâmicas durante o evento, incluindo brindes de nossos apoiadores"],link:{href:"/apoia-se/apoiador-da-comunidade.html",text:"Apoiar a comunidade"}},X1={title:"Benfeitor da Comunidade",amount:"250 ou +",limit:24,description:"benefícios da reserva de poltrona no Teatro, antes da disponibilização para o público",benefits:["$communitySupporter","Almoço gratuito incluso (local a definir)","Participação da ”hora feliz” com palestrantes e organização do evento (não inclui consumação)"],link:{href:"/apoia-se/benfeitor-da-comunidade.html",text:"Quero ser benfeitor"}},s3=[W1,j1,X1],a3=[{name:"Guilherme Siquinelli",html_url:"https://github.com/guiseek",avatar_url:"https://avatars.githubusercontent.com/u/5638096?v=4"},{name:"Ivo Batistela",avatar_url:"https://avatars.githubusercontent.com/u/5186894?v=4",html_url:"https://github.com/ByIvo"},{name:"Enderson Menezes (Mr. Enderson)",avatar_url:"https://avatars.githubusercontent.com/u/11020807?v=4",html_url:"https://github.com/endersonmenezes"},{name:"Elina Torres",avatar_url:"https://avatars.githubusercontent.com/u/154446327?v=4",html_url:"https://github.com/elinatorresn"},{name:"João",avatar_url:"https://avatars.githubusercontent.com/u/172335139?v=4",html_url:"https://github.com/jtheodsn"},{name:"Gustavo Vinícius Hamerschimidt",avatar_url:"https://avatars.githubusercontent.com/u/57803729?v=4",html_url:"https://github.com/GHamerschimidt"},{name:"Ana Carolyne",avatar_url:"https://avatars.githubusercontent.com/u/111382055?v=4",html_url:"https://github.com/anadevti"},{name:"Geovane Norbert",avatar_url:"https://avatars.githubusercontent.com/u/64178590?v=4",html_url:"https://github.com/GeovaneNorbert"},{name:"Matheus Luis",avatar_url:"https://avatars.githubusercontent.com/u/66440299?v=4",html_url:"https://github.com/causticsudo"}],l3=({width:r})=>l("svg",{width:r,viewBox:"0 0 100 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M7.65965 24.838L15.8604 17.9109L14.4409 16.2402L6.24023 23.1673L7.65965 24.838Z",fill:"white"}),l("path",{d:"M15.3562 15.6177L8.40887 7.44092L6.7334 8.85622L13.6808 17.033L15.3562 15.6177Z",fill:"white"}),l("path",{d:"M5.63939 11.2459C8.75397 11.2459 11.2788 8.72839 11.2788 5.62293C11.2788 2.51747 8.75397 0 5.63939 0C2.52484 0 0 2.51747 0 5.62293C0 8.72839 2.52484 11.2459 5.63939 11.2459Z",fill:"white"}),l("path",{d:"M14.7355 19.7557C16.2921 19.7557 17.554 18.4976 17.554 16.9455C17.554 15.3934 16.2921 14.1353 14.7355 14.1353C13.1789 14.1353 11.917 15.3934 11.917 16.9455C11.917 18.4976 13.1789 19.7557 14.7355 19.7557Z",fill:"#57B593"}),l("path",{d:"M6.47181 27.0487C8.02842 27.0487 9.29033 25.7905 9.29033 24.2384C9.29033 22.6864 8.02842 21.4282 6.47181 21.4282C4.9152 21.4282 3.65332 22.6864 3.65332 24.2384C3.65332 25.7905 4.9152 27.0487 6.47181 27.0487Z",fill:"white"}),l("path",{d:"M79.6653 11.0754C79.6846 10.3705 80.3506 9.78823 81.1131 9.78823C81.8756 9.78823 82.5614 10.3488 82.5614 11.0754V23.0287C82.5614 23.7505 81.895 24.3135 81.1131 24.3135C80.3313 24.3135 79.6773 23.7337 79.6653 23.0287V18.2166C79.3486 18.6983 78.9159 19.0933 78.4067 19.3652C77.8974 19.6372 77.3279 19.7774 76.7503 19.7733C74.2744 19.7733 72.0278 17.9471 72.0278 14.7206C72.0278 11.4941 74.2744 9.69922 76.7503 9.69922C77.3753 9.69922 78.8327 9.96864 79.6653 11.2559V11.0754ZM77.3125 17.1965C78.6253 17.1965 79.6846 16.0343 79.6846 14.7471C79.6846 13.4598 78.6253 12.3002 77.3125 12.3002C75.8647 12.3002 75.0249 13.4623 75.0249 14.7471C75.0249 16.0319 75.855 17.1965 77.3125 17.1965Z",fill:"white"}),l("path",{d:"M91.4034 18.1707C91.1182 18.6607 90.7075 19.0668 90.2141 19.3477C89.7206 19.6287 89.1608 19.7747 88.5928 19.7707C86.4084 19.7707 85.0142 18.6904 85.0142 15.9211V11.0753C85.0142 10.3535 85.6797 9.78809 86.4617 9.78809C87.2436 9.78809 87.8977 10.3704 87.9092 11.0753V15.0597C87.9092 16.3469 88.392 16.9677 89.5985 16.9677C90.6198 16.9677 91.3895 16.4865 91.3895 15.0188V11.0753C91.3895 10.3535 92.055 9.78809 92.837 9.78809C93.6189 9.78809 94.2853 10.3704 94.2853 11.0753V18.3994C94.2657 19.1067 93.5993 19.6865 92.837 19.6865C92.0747 19.6865 91.3895 19.126 91.3895 18.3994L91.4034 18.1707Z",fill:"white"}),l("path",{d:"M98.2288 4.62667C98.4566 4.61898 98.6837 4.65667 98.8968 4.73756C99.1099 4.81845 99.3041 4.9409 99.4697 5.09775C99.6345 5.2546 99.7664 5.44268 99.8574 5.651C99.9484 5.85931 99.9968 6.08366 100 6.31091C99.9943 6.53747 99.9443 6.76077 99.8525 6.96806C99.7607 7.17533 99.6287 7.36252 99.4648 7.51892C99.3001 7.67533 99.1058 7.7979 98.8943 7.87961C98.682 7.96132 98.4558 8.00057 98.2288 7.99514C97.7624 8.00682 97.3107 7.8343 96.9722 7.51519C96.6329 7.19608 96.4345 6.75627 96.4189 6.29166C96.4394 5.83211 96.6403 5.39912 96.9796 5.0872C97.3189 4.77527 97.7681 4.60972 98.2288 4.62667ZM99.6763 18.4037C99.6763 19.1255 99.0107 19.6909 98.2288 19.6909C97.4468 19.6909 96.7927 19.111 96.7812 18.4037V11.0748C96.8001 10.3699 97.4665 9.78765 98.2288 9.78765C98.991 9.78765 99.6763 10.3482 99.6763 11.0748V18.4037Z",fill:"white"}),l("path",{d:"M30.0733 16.9674C30.5756 16.965 31.0693 16.8368 31.5091 16.5944C32.0303 16.3033 32.8821 16.1806 33.4033 16.6979C33.5411 16.8442 33.6463 17.0179 33.7121 17.2076C33.7778 17.3973 33.8026 17.5987 33.7848 17.7986C33.767 17.9985 33.7071 18.1925 33.6089 18.3676C33.5108 18.5428 33.3765 18.6953 33.2151 18.8152C32.2951 19.4533 31.1987 19.7897 30.0781 19.7777C27.2886 19.7777 24.75 17.8263 24.75 14.7755V14.7129C24.75 11.6621 27.2886 9.71315 30.0781 9.71315C31.1985 9.70217 32.2946 10.0385 33.2151 10.6756C33.3765 10.7954 33.5108 10.948 33.6089 11.1232C33.7071 11.2984 33.767 11.4923 33.7848 11.6922C33.8026 11.8921 33.7778 12.0935 33.7121 12.2832C33.6463 12.4729 33.5411 12.6466 33.4033 12.7929C32.8821 13.3126 32.0303 13.1874 31.5091 12.8964C31.0693 12.654 30.5756 12.5257 30.0733 12.5234C28.8233 12.5234 27.7012 13.3751 27.7012 14.7225V14.7851C27.7012 16.1181 28.8233 16.9674 30.0733 16.9674Z",fill:"#57B593"}),l("path",{d:"M35.2036 14.7058C35.2036 11.655 37.4719 9.70605 40.3001 9.70605C43.1283 9.70605 45.4207 11.655 45.4207 14.7058C45.4207 17.7567 43.1306 19.7585 40.3001 19.7585C37.4696 19.7585 35.2036 17.7567 35.2036 14.7058ZM42.5081 14.7058C42.5081 14.1251 42.2767 13.5682 41.8649 13.1576C41.4531 12.747 40.8946 12.5163 40.3121 12.5163C39.7298 12.5163 39.1713 12.747 38.7594 13.1576C38.3476 13.5682 38.1163 14.1251 38.1163 14.7058C38.1163 15.2865 38.3476 15.8434 38.7594 16.254C39.1713 16.6646 39.7298 16.8953 40.3121 16.8953C40.8946 16.8953 41.4531 16.6646 41.8649 16.254C42.2767 15.8434 42.5081 15.2865 42.5081 14.7058Z",fill:"#57B593"}),l("path",{d:"M54.5686 5.80338C54.5879 5.09842 55.2539 4.51855 56.0164 4.51855C56.779 4.51855 57.4643 5.07916 57.4643 5.80338V18.3991C57.4643 19.1209 56.7982 19.6863 56.0164 19.6863C55.2346 19.6863 54.5806 19.1064 54.5686 18.3991V18.2137C54.2519 18.6955 53.8192 19.0905 53.3099 19.3623C52.8007 19.6343 52.2313 19.7746 51.6536 19.7705C49.1777 19.7705 46.9287 17.9443 46.9287 14.7178C46.9287 11.4913 49.1777 9.69633 51.6536 9.69633C52.2785 9.69633 53.7361 9.96583 54.5686 11.2531V5.80338ZM52.2158 17.1961C53.5262 17.1961 54.5879 16.0339 54.5879 14.7467C54.5879 13.4594 53.5262 12.2997 52.2158 12.2997C50.7679 12.2997 49.9258 13.4618 49.9258 14.7467C49.9258 16.0315 50.7583 17.1961 52.2158 17.1961Z",fill:"#57B593"}),l("path",{d:"M67.1589 11.0754C67.1806 10.3705 67.8466 9.78825 68.6068 9.78825C69.3669 9.78825 70.0546 10.3488 70.0546 11.0754V18.3995C70.0546 19.1213 69.3886 19.6867 68.6068 19.6867C67.8249 19.6867 67.171 19.1069 67.1589 18.3995V18.2142C66.8428 18.6959 66.4105 19.0908 65.9016 19.3629C65.3928 19.6348 64.8236 19.7751 64.2463 19.771C61.7705 19.771 59.5215 17.9448 59.5215 14.7183C59.5215 11.4917 61.7705 9.69678 64.2463 9.69678C64.8713 9.69678 66.3264 9.96628 67.1589 11.2536V11.0754ZM64.8085 17.1965C66.1188 17.1965 67.1806 16.0343 67.1806 14.7471C67.1806 13.4598 66.1188 12.3002 64.8085 12.3002C63.3607 12.3002 62.5185 13.4623 62.5185 14.7471C62.5185 16.0319 63.351 17.1965 64.8085 17.1965Z",fill:"#57B593"})),c3=({date:r})=>{const e=Ia(r),t=zr(e.days),n=zr(e.hours),i=zr(e.mins),o=zr(e.secs),s=vd(()=>{const a=Ia(r);t.set(a.days),n.set(a.hours),i.set(a.mins),o.set(a.secs),a.distance<0&&s.cancel()});return l("h4",{className:"text-2 countdown"},l("small",null,"Faltam "),l("div",null,l("var",null,t),l("small",null,"dias,")),l("div",null,l("var",null,n),l("small",null,"horas,")),l("div",null,l("var",null,i),l("small",null,"minutos e")),l("div",null,l("var",null,o),l("small",null,"segundos")))},d3=({width:r})=>l("svg",{fill:"none",width:r,viewBox:"0 0 100 22",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M31.1189 15.6869H27.5V5.68837H31.1488C32.1757 5.68837 33.0596 5.88854 33.8007 6.28887C34.5417 6.68594 35.1116 7.25715 35.5104 8.00248C35.9125 8.74781 36.1136 9.6396 36.1136 10.6779C36.1136 11.7194 35.9125 12.6144 35.5104 13.363C35.1116 14.1116 34.5384 14.686 33.7907 15.0864C33.0463 15.4867 32.1557 15.6869 31.1189 15.6869ZM29.6584 13.8756H31.0292C31.6672 13.8756 32.2039 13.765 32.6392 13.5436C33.0779 13.3191 33.4069 12.9724 33.6262 12.5038C33.8488 12.0318 33.9602 11.4232 33.9602 10.6779C33.9602 9.93904 33.8488 9.33529 33.6262 8.86661C33.4069 8.39793 33.0795 8.05293 32.6442 7.83161C32.2089 7.61028 31.6722 7.49962 31.0342 7.49962H29.6584V13.8756Z",fill:"white"}),l("path",{d:"M41.1618 15.8333C40.3742 15.8333 39.6963 15.6771 39.1281 15.3647C38.5631 15.0489 38.1278 14.603 37.8221 14.027C37.5163 13.4476 37.3635 12.7625 37.3635 11.9716C37.3635 11.2002 37.5163 10.5233 37.8221 9.94066C38.1278 9.35807 38.5581 8.90404 39.1131 8.57856C39.6714 8.25309 40.3261 8.09036 41.0771 8.09036C41.5822 8.09036 42.0524 8.1701 42.4878 8.32958C42.9264 8.4858 43.3086 8.72177 43.6342 9.03748C43.9632 9.35319 44.2191 9.75026 44.4019 10.2287C44.5847 10.7039 44.676 11.2605 44.676 11.8984V12.4696H38.2109V11.1807H42.6772C42.6772 10.8813 42.6107 10.616 42.4778 10.3849C42.3449 10.1538 42.1604 9.97321 41.9245 9.84302C41.6919 9.70958 41.421 9.64286 41.112 9.64286C40.7896 9.64286 40.5038 9.71609 40.2546 9.86255C40.0087 10.0058 39.816 10.1994 39.6764 10.4435C39.5368 10.6844 39.4654 10.9529 39.462 11.2491V12.4745C39.462 12.8455 39.5318 13.1661 39.6714 13.4362C39.8143 13.7064 40.0153 13.9147 40.2745 14.0611C40.5337 14.2076 40.8411 14.2808 41.1967 14.2808C41.4327 14.2808 41.6487 14.2483 41.8447 14.1832C42.0408 14.1181 42.2086 14.0205 42.3482 13.8903C42.4878 13.7601 42.5941 13.6006 42.6672 13.4118L44.6312 13.5388C44.5315 14.0009 44.3271 14.4045 44.0181 14.7495C43.7123 15.0913 43.3169 15.3581 42.8317 15.5502C42.3498 15.7389 41.7932 15.8333 41.1618 15.8333Z",fill:"white"}),l("path",{d:"M52.9943 8.188L50.3175 15.6869H47.9248L45.248 8.188H47.4911L49.0813 13.5534H49.161L50.7462 8.188H52.9943Z",fill:"white"}),l("path",{d:"M54.1208 15.6869V5.68837H58.1484C58.9227 5.68837 59.5824 5.83321 60.1274 6.12288C60.6724 6.40929 61.0878 6.808 61.3735 7.31899C61.6627 7.82672 61.8072 8.41257 61.8072 9.07654C61.8072 9.7405 61.661 10.3263 61.3686 10.8341C61.0761 11.3418 60.6524 11.7373 60.0975 12.0204C59.5458 12.3036 58.8779 12.4452 58.0936 12.4452H55.5265V10.7511H57.7447C58.1601 10.7511 58.5024 10.6811 58.7715 10.5412C59.044 10.398 59.2467 10.201 59.3797 9.95043C59.5159 9.69656 59.584 9.40526 59.584 9.07654C59.584 8.74455 59.5159 8.45488 59.3797 8.20753C59.2467 7.95691 59.044 7.76326 58.7715 7.62656C58.499 7.48661 58.1534 7.41663 57.7347 7.41663H56.2792V15.6869H54.1208Z",fill:"white"}),l("path",{d:"M65.147 15.8285C64.6585 15.8285 64.2231 15.7455 63.841 15.5795C63.4588 15.4102 63.1564 15.1612 62.9338 14.8325C62.7144 14.5005 62.6048 14.0872 62.6048 13.5925C62.6048 13.1759 62.6829 12.826 62.839 12.5428C62.9952 12.2597 63.2079 12.0318 63.4771 11.8593C63.7463 11.6868 64.052 11.5566 64.3943 11.4688C64.7399 11.3809 65.1021 11.319 65.4809 11.2832C65.9262 11.2377 66.2851 11.1954 66.5576 11.1563C66.8301 11.114 67.0279 11.0522 67.1508 10.9708C67.2738 10.8894 67.3352 10.769 67.3352 10.6095V10.5802C67.3352 10.271 67.2356 10.0318 67.0362 9.86255C66.8401 9.6933 66.561 9.60868 66.1987 9.60868C65.8166 9.60868 65.5125 9.69168 65.2865 9.85767C65.0606 10.0204 64.911 10.2255 64.8379 10.4728L62.8739 10.3166C62.9736 9.86092 63.1697 9.4671 63.4621 9.13512C63.7546 8.79988 64.1317 8.54276 64.5937 8.36375C65.0589 8.18149 65.5972 8.09036 66.2087 8.09036C66.6341 8.09036 67.0411 8.13918 67.43 8.23682C67.8221 8.33446 68.1694 8.4858 68.4718 8.69085C68.7775 8.8959 69.0184 9.15953 69.1945 9.48175C69.3707 9.80071 69.4587 10.1831 69.4587 10.629V15.6869H67.4449V14.647H67.3851C67.2621 14.8813 67.0976 15.088 66.8916 15.267C66.6856 15.4428 66.438 15.5811 66.1489 15.682C65.8598 15.7796 65.5258 15.8285 65.147 15.8285ZM65.7551 14.3931C66.0675 14.3931 66.3433 14.3329 66.5826 14.2125C66.8218 14.0888 67.0096 13.9228 67.1458 13.7145C67.2821 13.5062 67.3502 13.2702 67.3502 13.0066V12.2108C67.2837 12.2531 67.1924 12.2922 67.076 12.328C66.9631 12.3605 66.8351 12.3915 66.6922 12.4208C66.5493 12.4468 66.4064 12.4712 66.2635 12.494C66.1206 12.5135 65.991 12.5314 65.8747 12.5477C65.6255 12.5835 65.4078 12.6405 65.2217 12.7186C65.0356 12.7967 64.8911 12.9025 64.7881 13.0359C64.685 13.1661 64.6335 13.3288 64.6335 13.5241C64.6335 13.8073 64.7382 14.0237 64.9476 14.1734C65.1603 14.3199 65.4294 14.3931 65.7551 14.3931Z",fill:"white"}),l("path",{d:"M71.1062 15.6869V8.188H73.1649V9.49639H73.2446C73.3842 9.03097 73.6185 8.67946 73.9475 8.44187C74.2764 8.20102 74.6553 8.08059 75.084 8.08059C75.1903 8.08059 75.305 8.0871 75.4279 8.10012C75.5509 8.11314 75.6589 8.13104 75.7519 8.15382V9.99925C75.6522 9.96996 75.5143 9.94392 75.3382 9.92114C75.1621 9.89835 75.0009 9.88696 74.8547 9.88696C74.5423 9.88696 74.2632 9.95368 74.0172 10.0871C73.7746 10.2173 73.5819 10.3996 73.439 10.6339C73.2994 10.8683 73.2297 11.1384 73.2297 11.4443V15.6869H71.1062Z",fill:"white"}),l("path",{d:"M78.8138 15.8285C78.3253 15.8285 77.8899 15.7455 77.5078 15.5795C77.1256 15.4102 76.8232 15.1612 76.6006 14.8325C76.3812 14.5005 76.2716 14.0872 76.2716 13.5925C76.2716 13.1759 76.3497 12.826 76.5059 12.5428C76.662 12.2597 76.8747 12.0318 77.1439 11.8593C77.4131 11.6868 77.7188 11.5566 78.0611 11.4688C78.4067 11.3809 78.7689 11.319 79.1477 11.2832C79.593 11.2377 79.9519 11.1954 80.2244 11.1563C80.4969 11.114 80.6947 11.0522 80.8176 10.9708C80.9406 10.8894 81.0021 10.769 81.0021 10.6095V10.5802C81.0021 10.271 80.9024 10.0318 80.703 9.86255C80.5069 9.6933 80.2278 9.60868 79.8655 9.60868C79.4834 9.60868 79.1793 9.69168 78.9533 9.85767C78.7274 10.0204 78.5778 10.2255 78.5047 10.4728L76.5407 10.3166C76.6404 9.86092 76.8365 9.4671 77.1289 9.13512C77.4214 8.79988 77.7986 8.54276 78.2605 8.36375C78.7257 8.18149 79.2641 8.09036 79.8755 8.09036C80.3009 8.09036 80.708 8.13918 81.0968 8.23682C81.4889 8.33446 81.8362 8.4858 82.1386 8.69085C82.4443 8.8959 82.6852 9.15953 82.8614 9.48175C83.0375 9.80071 83.1255 10.1831 83.1255 10.629V15.6869H81.1117V14.647H81.0519C80.9289 14.8813 80.7644 15.088 80.5584 15.267C80.3524 15.4428 80.1048 15.5811 79.8157 15.682C79.5266 15.7796 79.1926 15.8285 78.8138 15.8285ZM79.4219 14.3931C79.7343 14.3931 80.0101 14.3329 80.2494 14.2125C80.4886 14.0888 80.6764 13.9228 80.8126 13.7145C80.9489 13.5062 81.017 13.2702 81.017 13.0066V12.2108C80.9505 12.2531 80.8592 12.2922 80.7428 12.328C80.6299 12.3605 80.5019 12.3915 80.359 12.4208C80.2161 12.4468 80.0732 12.4712 79.9303 12.494C79.7874 12.5135 79.6578 12.5314 79.5415 12.5477C79.2923 12.5835 79.0746 12.6405 78.8885 12.7186C78.7024 12.7967 78.5579 12.9025 78.4549 13.0359C78.3519 13.1661 78.3003 13.3288 78.3003 13.5241C78.3003 13.8073 78.405 14.0237 78.6144 14.1734C78.8271 14.3199 79.0962 14.3931 79.4219 14.3931Z",fill:"white"}),l("path",{d:"M86.8965 11.3516V15.6869H84.773V8.188H86.7968V9.51104H86.8865C87.056 9.07491 87.3401 8.72991 87.7389 8.47604C88.1377 8.21892 88.6212 8.09036 89.1894 8.09036C89.7211 8.09036 90.1847 8.20427 90.5802 8.4321C90.9756 8.65993 91.283 8.9854 91.5023 9.40852C91.7217 9.82838 91.8313 10.3296 91.8313 10.9122V15.6869H89.7078V11.2832C89.7112 10.8243 89.5915 10.4663 89.3489 10.2092C89.1063 9.9488 88.7724 9.81861 88.347 9.81861C88.0612 9.81861 87.8087 9.87882 87.5893 9.99925C87.3733 10.1197 87.2039 10.2954 87.0809 10.5265C86.9613 10.7543 86.8998 11.0294 86.8965 11.3516Z",fill:"white"}),l("path",{d:"M95.6882 15.8285C95.1997 15.8285 94.7644 15.7455 94.3822 15.5795C94.0001 15.4102 93.6977 15.1612 93.475 14.8325C93.2557 14.5005 93.146 14.0872 93.146 13.5925C93.146 13.1759 93.2241 12.826 93.3803 12.5428C93.5365 12.2597 93.7492 12.0318 94.0184 11.8593C94.2875 11.6868 94.5933 11.5566 94.9355 11.4688C95.2811 11.3809 95.6434 11.319 96.0222 11.2832C96.4675 11.2377 96.8264 11.1954 97.0989 11.1563C97.3714 11.114 97.5691 11.0522 97.6921 10.9708C97.815 10.8894 97.8765 10.769 97.8765 10.6095V10.5802C97.8765 10.271 97.7768 10.0318 97.5774 9.86255C97.3814 9.6933 97.1022 9.60868 96.74 9.60868C96.3578 9.60868 96.0538 9.69168 95.8278 9.85767C95.6018 10.0204 95.4523 10.2255 95.3792 10.4728L93.4152 10.3166C93.5149 9.86092 93.711 9.4671 94.0034 9.13512C94.2958 8.79988 94.673 8.54276 95.1349 8.36375C95.6002 8.18149 96.1385 8.09036 96.75 8.09036C97.1753 8.09036 97.5824 8.13918 97.9712 8.23682C98.3634 8.33446 98.7106 8.4858 99.013 8.69085C99.3188 8.8959 99.5597 9.15953 99.7358 9.48175C99.9119 9.80071 100 10.1831 100 10.629V15.6869H97.9862V14.647H97.9264C97.8034 14.8813 97.6389 15.088 97.4329 15.267C97.2268 15.4428 96.9793 15.5811 96.6902 15.682C96.401 15.7796 96.0671 15.8285 95.6882 15.8285ZM96.2964 14.3931C96.6087 14.3931 96.8846 14.3329 97.1238 14.2125C97.3631 14.0888 97.5508 13.9228 97.6871 13.7145C97.8233 13.5062 97.8915 13.2702 97.8915 13.0066V12.2108C97.825 12.2531 97.7336 12.2922 97.6173 12.328C97.5043 12.3605 97.3764 12.3915 97.2335 12.4208C97.0906 12.4468 96.9477 12.4712 96.8048 12.494C96.6619 12.5135 96.5323 12.5314 96.416 12.5477C96.1668 12.5835 95.9491 12.6405 95.763 12.7186C95.5769 12.7967 95.4324 12.9025 95.3293 13.0359C95.2263 13.1661 95.1748 13.3288 95.1748 13.5241C95.1748 13.8073 95.2795 14.0237 95.4888 14.1734C95.7015 14.3199 95.9707 14.3931 96.2964 14.3931ZM96.0671 7.22135L97.1238 5H99.0878L97.5675 7.22135H96.0671Z",fill:"white"}),l("path",{d:"M9.52979 20.6942L0.525782 12.0031C-0.175261 11.3264 -0.175261 10.2127 0.525782 9.53602L9.52979 0.844912C10.2308 0.168232 11.3846 0.168232 12.0857 0.844912L21.0897 9.53602C21.7907 10.2127 21.7907 11.3264 21.0897 12.0031L12.0857 20.6942C11.9104 20.8634 11.7059 20.9902 11.4942 21.0748C11.4869 21.0748 10.1432 21.0819 10.1432 21.0819C9.91683 20.9973 9.70506 20.8634 9.52979 20.6942Z",fill:"#4CAF50"}),l("path",{d:"M16.8395 7.18624C16.248 7.18624 15.7587 7.6585 15.7587 8.22945C15.7587 8.68762 16.0727 9.09645 16.5182 9.23038V11.1688C16.5182 12.2684 15.8025 12.8746 14.196 13.1213C13.9769 12.7125 13.5169 12.4517 12.7939 12.3459H12.7866C12.217 12.2754 11.7862 12.1133 11.4721 11.8666V11.352C11.7789 11.0912 12.2097 10.9291 12.8012 10.8586H12.8085C13.8236 10.7106 14.342 10.2454 14.342 9.49118V8.35633C14.8094 8.24355 15.1672 7.83472 15.1672 7.34131C15.1672 6.76331 14.678 6.29105 14.0864 6.29105C13.4949 6.29105 13.0057 6.76331 13.0057 7.34836C13.0057 7.84882 13.3781 8.27175 13.8601 8.37043V9.49823C13.8601 10.0198 13.5242 10.2877 12.7355 10.4075C12.2243 10.4639 11.8081 10.5908 11.4794 10.7881V7.36246C11.8738 7.1369 12.1367 6.72807 12.1367 6.26285C12.1367 5.55798 11.5452 4.97998 10.8076 4.97998C10.0774 4.97998 9.47856 5.55093 9.47856 6.26285C9.47856 6.73512 9.74145 7.14395 10.1358 7.36246V10.2877C9.83638 10.1467 9.47856 10.048 9.05501 9.99869C8.06917 9.85771 7.94503 9.44889 7.94503 9.1035V8.30699C8.41969 8.20126 8.78482 7.78538 8.78482 7.28492C8.78482 6.71397 8.29555 6.24171 7.70404 6.24171C7.11254 6.24171 6.62327 6.70692 6.62327 7.27787C6.62327 7.77833 6.98839 8.18716 7.46306 8.29994V9.09645C7.46306 9.85066 7.97423 10.3088 8.98929 10.4498C9.47856 10.5203 9.85098 10.626 10.1358 10.8163V12.4587C9.45665 12.0428 8.60225 11.7679 7.53608 11.641C5.89301 11.4014 5.16276 10.8022 5.16276 9.6815V9.23742C5.59361 9.09645 5.90032 8.70877 5.90032 8.24355C5.90032 7.6726 5.41105 7.20034 4.81954 7.20034C4.22804 7.20034 3.73877 7.6726 3.73877 8.24355C3.73877 8.70172 4.04548 9.09645 4.47632 9.23742V9.6815C4.47632 10.4991 4.79033 11.1406 5.41835 11.5847C5.89301 11.93 6.55755 12.1556 7.44115 12.2825H7.44845C8.63146 12.4305 9.50777 12.7547 10.1431 13.2623V21.1005C10.5739 21.2626 11.0632 21.2555 11.4941 21.0934V17.5902C11.8008 17.3364 12.2243 17.1814 12.8085 17.1109H12.8158C13.8309 16.9629 14.3493 16.4976 14.3493 15.7434V15.5742C14.6634 15.4756 14.897 15.1866 14.897 14.8553C14.897 14.524 14.6634 14.2279 14.3493 14.1363V13.7698C15.1818 13.6358 15.8171 13.4103 16.2772 13.079C16.9052 12.6349 17.2192 11.9935 17.2192 11.1758V9.23038C17.6136 9.08235 17.913 8.69467 17.913 8.2365C17.913 7.9616 17.8034 7.7008 17.6063 7.49638C17.4018 7.29902 17.1316 7.18624 16.8395 7.18624ZM13.3927 7.34836C13.3927 6.98182 13.6994 6.68578 14.0718 6.68578C14.4516 6.68578 14.751 6.98182 14.751 7.34836C14.751 7.71489 14.4443 8.00389 14.0718 8.00389C13.7067 8.00389 13.3927 7.7008 13.3927 7.34836ZM7.68944 7.93341C7.31701 7.93341 7.0103 7.63736 7.0103 7.27787C7.0103 6.91134 7.31701 6.62234 7.68944 6.62234C8.06187 6.62234 8.36857 6.91839 8.36857 7.27787C8.36857 7.63736 8.05456 7.93341 7.68944 7.93341ZM4.80494 8.88499C4.43251 8.88499 4.1258 8.59599 4.1258 8.22945C4.1258 7.86292 4.43251 7.57392 4.80494 7.57392C5.17737 7.57392 5.48407 7.86997 5.48407 8.22945C5.48407 8.58894 5.17006 8.88499 4.80494 8.88499ZM10.793 7.14395C10.2818 7.14395 9.86559 6.74217 9.86559 6.24875C9.86559 5.74829 10.2818 5.34652 10.793 5.34652C11.3042 5.34652 11.7204 5.74829 11.7204 6.24171C11.7204 6.73512 11.3042 7.14395 10.793 7.14395ZM11.4648 12.4305C11.8008 12.6138 12.2097 12.7407 12.7136 12.8041C13.1809 12.8746 13.4949 12.9944 13.6629 13.1988C12.7866 13.3539 12.049 13.6147 11.4648 13.9883V12.4305ZM13.8455 14.1363C13.5315 14.235 13.2978 14.524 13.2978 14.8553C13.2978 15.2007 13.5315 15.4826 13.8455 15.5742V15.7434C13.8382 16.265 13.5096 16.5329 12.7209 16.6527C12.217 16.7091 11.8081 16.836 11.4794 17.0263V14.813C12.049 14.3266 12.8231 14.0094 13.8455 13.8403V14.1363ZM16.8395 8.89204C16.4598 8.89204 16.1604 8.59599 16.1604 8.2365C16.1604 7.87702 16.4671 7.58097 16.8395 7.58097C17.0221 7.58097 17.1973 7.65146 17.3288 7.77128C17.4602 7.89816 17.5186 8.06028 17.5186 8.22945C17.5186 8.59599 17.2119 8.89204 16.8395 8.89204Z",fill:"white"})),u3=()=>{const r=l("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=G-VY20Y5X6E9"});return r.onload=()=>{window.dataLayer=window.dataLayer||[];function e(...t){window.dataLayer.push(arguments)}window.gtag=e,e("js",new Date),e("config","G-VY20Y5X6E9"),e("config","AW-10885308101")},l(rr,null,r)},Mt=({name:r,width:e=24,height:t=e,className:n})=>l("figure",{className:n},l("svg",{width:e,height:t,fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l("use",{href:"#"+r}))),Dn=r=>(r.target&&r.target==="_blank"&&(r.rel="noopener noreferrer"),l("a",{...r})),h3=({width:r=24,height:e=r})=>l("svg",{fill:"none",width:r,height:e,viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M28.2162 61.0857L1.55676 35.3527C-0.518919 33.3492 -0.518919 30.0517 1.55676 28.0481L28.2162 2.31516C30.2919 0.311615 33.7081 0.311615 35.7838 2.31516L62.4432 28.0481C64.5189 30.0517 64.5189 33.3492 62.4432 35.3527L35.7838 61.0857C35.1218 61.7247 34.3171 62.1599 33.4628 62.3913C32.3095 62.7034 31.0671 62.6448 29.9622 62.2151C29.3182 61.9646 28.7211 61.5882 28.2162 61.0857Z",fill:"#15A04B"}),l("path",{d:"M14.1568 27.432C13.0541 27.432 12.1459 26.5763 12.1459 25.491C12.1459 24.4058 13.0541 23.5501 14.1568 23.5501C15.2595 23.5501 16.1676 24.4267 16.1676 25.491C16.1676 26.5554 15.2378 27.432 14.1568 27.432Z",fill:"#15A04B"}),l("path",{d:"M22.6973 21.9895C21.5946 21.9895 20.6865 21.1129 20.6865 20.0486C20.6865 18.9633 21.5946 18.1076 22.6973 18.1076C23.8 18.1076 24.7081 18.9842 24.7081 20.0486C24.7081 21.1129 23.7784 21.9895 22.6973 21.9895Z",fill:"#15A04B"}),l("path",{d:"M31.8865 20.9645C30.373 20.9645 29.1405 19.7749 29.1405 18.314C29.1405 16.8322 30.373 15.6426 31.8865 15.6426C33.4 15.6426 34.6324 16.8322 34.6324 18.2931C34.6324 19.7541 33.4 20.9645 31.8865 20.9645Z",fill:"#15A04B"}),l("path",{d:"M39.5838 22.8198C39.5838 21.7345 40.4919 20.858 41.5946 20.858C42.7189 20.858 43.6054 21.7345 43.6054 22.8198C43.6054 23.905 42.6973 24.7607 41.5946 24.7607C40.5135 24.7607 39.5838 23.8633 39.5838 22.8198Z",fill:"#15A04B"}),l("path",{d:"M49.7892 28.6403C48.6649 28.6403 47.7784 27.7638 47.7784 26.6994C47.7784 25.635 48.6865 24.7585 49.7892 24.7585C50.3297 24.7585 50.8487 24.9672 51.2378 25.322C51.627 25.6976 51.8 26.1777 51.8 26.6785C51.8 27.7638 50.8919 28.6403 49.7892 28.6403Z",fill:"#15A04B"}),l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M49.7892 23.5898C48.0378 23.5898 46.5892 24.9881 46.5892 26.6785C46.5892 28.0351 47.5189 29.2456 48.8378 29.6421V35.3814C48.8378 38.6372 46.7189 40.432 41.9622 41.1625L40.3838 41.3921C37.7892 41.8512 35.6054 42.6234 33.8757 43.7295V36.6172L33.8973 36.1976V34.6741C34.8054 33.9019 36.0811 33.4218 37.8324 33.2131H37.8541C40.8595 32.7749 42.3946 31.3974 42.3946 29.1643V25.8042C43.7784 25.4703 44.8378 24.2598 44.8378 22.7989C44.8378 21.0875 43.3892 19.6892 41.6378 19.6892C39.8865 19.6892 38.4378 21.0875 38.4378 22.8198C38.4378 24.3016 39.5405 25.5538 40.9676 25.846V29.1852C40.9676 30.7296 39.973 31.5227 37.6378 31.8774C36.1243 32.0444 34.8919 32.4201 33.9189 33.0044V21.6115C35.0865 20.9437 35.8649 19.7332 35.8649 18.3558C35.8649 16.2687 34.1135 14.5574 31.9297 14.5574C29.7676 14.5574 27.9946 16.2479 27.9946 18.3558C27.9946 19.7541 28.773 20.9645 29.9405 21.6115V28.9601C29.0541 28.5427 27.9946 28.2506 26.7405 28.1045C23.8216 27.6871 23.4541 26.4766 23.4541 25.454V23.0956C24.8595 22.7826 25.9405 21.5512 25.9405 20.0694C25.9405 18.3789 24.4919 16.9806 22.7405 16.9806C20.9892 16.9806 19.5405 18.3581 19.5405 20.0486C19.5405 21.5304 20.6216 22.7408 22.027 23.0747V25.4331C22.027 27.6662 23.5405 29.0228 26.5459 29.4402C27.9946 29.6489 29.0973 29.9619 29.9405 30.5254V38.0132C27.9297 36.7818 25.4 35.9679 22.2432 35.5922C17.3784 34.8826 15.2162 33.1087 15.2162 29.7903V28.4755C16.4919 28.0581 17.4 26.9102 17.4 25.5328C17.4 23.8423 15.9514 22.444 14.2 22.444C12.4486 22.444 11 23.8423 11 25.5328C11 26.8894 11.9081 28.0581 13.1838 28.4755V29.7903C13.1838 32.2113 14.1135 34.1104 15.973 35.4253C17.3784 36.4479 19.3459 37.1158 21.9622 37.4914H21.9838C25.4865 37.9297 28.0811 38.8897 29.9622 40.3924V62.2249C29.9622 62.2249 30.7925 62.6062 31.9622 62.6062C33.1318 62.6062 33.9622 62.2312 33.9622 62.2312V51.8942L33.9189 50.2246V46.1713C35.6054 44.7313 37.8973 43.7921 40.9243 43.2912L42.4162 43.0825C44.8811 42.686 46.7622 42.0182 48.1243 41.0373C49.9838 39.7224 50.9135 37.8232 50.9135 35.4023V29.6421C52.0811 29.2038 52.9676 28.056 52.9676 26.6994C52.9676 25.8855 52.6432 25.1133 52.0595 24.508C51.4541 23.9237 50.6541 23.5898 49.7892 23.5898ZM41.5946 20.858C40.4919 20.858 39.5838 21.7345 39.5838 22.8198C39.5838 23.8633 40.5135 24.7607 41.5946 24.7607C42.6973 24.7607 43.6054 23.905 43.6054 22.8198C43.6054 21.7345 42.7189 20.858 41.5946 20.858ZM20.6865 20.0486C20.6865 21.1129 21.5946 21.9895 22.6973 21.9895C23.7784 21.9895 24.7081 21.1129 24.7081 20.0486C24.7081 18.9842 23.8 18.1076 22.6973 18.1076C21.5946 18.1076 20.6865 18.9633 20.6865 20.0486ZM12.1459 25.491C12.1459 26.5763 13.0541 27.432 14.1568 27.432C15.2378 27.432 16.1676 26.5554 16.1676 25.491C16.1676 24.4267 15.2595 23.5501 14.1568 23.5501C13.0541 23.5501 12.1459 24.4058 12.1459 25.491ZM29.1405 18.314C29.1405 19.7749 30.373 20.9645 31.8865 20.9645C33.4 20.9645 34.6324 19.7541 34.6324 18.2931C34.6324 16.8322 33.4 15.6426 31.8865 15.6426C30.373 15.6426 29.1405 16.8322 29.1405 18.314ZM47.7784 26.6994C47.7784 27.7638 48.6649 28.6403 49.7892 28.6403C50.8919 28.6403 51.8 27.7638 51.8 26.6785C51.8 26.1777 51.627 25.6976 51.2378 25.322C50.8487 24.9672 50.3297 24.7585 49.7892 24.7585C48.6865 24.7585 47.7784 25.635 47.7784 26.6994Z",fill:"#FAF8F9"})),f3=({links:r})=>l(rr,null,l("ul",{className:"social-links"},r.map(e=>e.action?l(Dn,{href:e.href,onClick:e.action,ariaLabel:e.kind},l(Mt,{name:e.kind}),l("span",null,e.kind)):l(Dn,{href:e.href,ariaLabel:e.kind,target:"_blank"},l(Mt,{name:e.kind}),l("span",null,e.kind))))),p3=()=>l("svg",{id:"icons",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l("symbol",{id:"sun",viewBox:"0 0 24 24"},l("path",{d:"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 0.999023V2.99902",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 21V23",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4.21997 4.21973L5.63997 5.63973",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18.3601 18.3599L19.7801 19.7799",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M0.999268 12H2.99927",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21 12H23",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4.21997 19.7799L5.63997 18.3599",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18.3601 5.63973L19.7801 4.21973",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"moon",viewBox:"0 0 24 24"},l("path",{d:"M20.9999 12.79C20.8426 14.4922 20.2038 16.1144 19.1581 17.4668C18.1125 18.8192 16.7034 19.8458 15.0956 20.4265C13.4878 21.0073 11.7479 21.1181 10.0794 20.7461C8.41092 20.3741 6.8829 19.5345 5.67413 18.3258C4.46536 17.117 3.62584 15.589 3.25381 13.9205C2.88178 12.252 2.99262 10.5121 3.57336 8.9043C4.15411 7.29651 5.18073 5.88737 6.53311 4.84175C7.8855 3.79614 9.5077 3.15731 11.2099 3C10.2133 4.34827 9.73375 6.00945 9.85843 7.68141C9.98312 9.35338 10.7038 10.9251 11.8893 12.1106C13.0748 13.2961 14.6465 14.0168 16.3185 14.1415C17.9905 14.2662 19.6516 13.7866 20.9999 12.79V12.79Z",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"linkedIn",viewBox:"0 0 24 24"},l("path",{d:"M7.58417 20H4.2663V9.30708H7.58417V20Z",fill:"currentColor"}),l("path",{d:"M5.92524 7.85015C4.86003 7.85015 4 6.98824 4 5.92508C4 4.86191 4.86003 4 5.92524 4C6.98608 4 7.84611 4.86191 7.84611 5.92508C7.84611 6.98387 6.98608 7.85015 5.92524 7.85015Z",fill:"currentColor"}),l("path",{d:"M20 20H16.6865V14.8023C16.6865 13.5641 16.6647 11.9672 14.9621 11.9672C13.2377 11.9672 12.9757 13.3191 12.9757 14.7148V20H9.66658V9.30708H12.8447V10.7684H12.8884C13.3293 9.92836 14.412 9.0402 16.0229 9.0402C19.3801 9.0402 20 11.254 20 14.1329V20Z",fill:"currentColor"})),l("symbol",{id:"maximize",viewBox:"0 0 24 24"},l("path",{d:"M8 3H5C4.46957 3 3.96086 3.21071 3.58579 3.58579C3.21071 3.96086 3 4.46957 3 5V8M21 8V5C21 4.46957 20.7893 3.96086 20.4142 3.58579C20.0391 3.21071 19.5304 3 19 3H16M16 21H19C19.5304 21 20.0391 20.7893 20.4142 20.4142C20.7893 20.0391 21 19.5304 21 19V16M3 16V19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H8",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"asterisk",viewBox:"0 0 24 24"},l("path",{d:"M3.5978 19.438L6.5124 15.6364L10.314 12.7218H5.62534L1 11.2645L2.71074 6.06887L7.20937 7.39945L11.3912 10.0606L9.68044 5.62534V1H15.3829V5.62534L13.7355 10.0606L17.854 7.46281L22.2893 6.06887L24 11.2645L19.5014 12.7851L14.6859 12.7218L18.4876 15.573L21.3388 19.438L16.7769 22.7961L14.0523 18.9311L12.5317 14.3058L10.9477 18.9945L8.09642 22.7961L3.5978 19.438Z",fill:"currentColor"})),l("symbol",{id:"contrast",viewBox:"0 0 24 24"},l("path",{d:"M14.05,17.58l-0.01,0.01l-2.4-2.4l1.06-1.06l1.35,1.35L16.54,13l1.06,1.06 l-3.54,3.54L14.05,17.58z M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M7.34,6.28l1.41,1.41l1.41-1.41 l1.06,1.06L9.81,8.75l1.41,1.41l-1.06,1.06L8.75,9.81l-1.41,1.41l-1.06-1.06l1.41-1.41L6.28,7.34L7.34,6.28z M12,20 c-2.2,0-4.2-0.9-5.7-2.3L17.7,6.3C19.1,7.8,20,9.8,20,12C20,16.4,16.4,20,12,20z","fill-rule":"evenodd",fill:"currentColor"})),l("symbol",{id:"heart",viewBox:"0 0 24 24"},l("path",{d:"M20.8401 4.61036C20.3294 4.09937 19.7229 3.69401 19.0555 3.41744C18.388 3.14088 17.6726 2.99854 16.9501 2.99854C16.2276 2.99854 15.5122 3.14088 14.8448 3.41744C14.1773 3.69401 13.5709 4.09937 13.0601 4.61036L12.0001 5.67036L10.9401 4.61036C9.90843 3.57867 8.50915 2.99907 7.05012 2.99907C5.59109 2.99907 4.19181 3.57867 3.16012 4.61036C2.12843 5.64205 1.54883 7.04133 1.54883 8.50036C1.54883 9.95939 2.12843 11.3587 3.16012 12.3904L4.22012 13.4504L12.0001 21.2304L19.7801 13.4504L20.8401 12.3904C21.3511 11.8796 21.7565 11.2732 22.033 10.6057C22.3096 9.93826 22.4519 9.22285 22.4519 8.50036C22.4519 7.77787 22.3096 7.06246 22.033 6.39501C21.7565 5.72755 21.3511 5.12112 20.8401 4.61036V4.61036Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"whatsapp",viewBox:"0 0 24 24"},l("path",{d:"M17.7584 13.7907C17.7116 13.7682 15.962 12.9067 15.651 12.7948C15.5241 12.7492 15.3881 12.7047 15.2435 12.7047C15.0073 12.7047 14.8088 12.8224 14.6542 13.0537C14.4794 13.3135 13.9503 13.932 13.7868 14.1167C13.7655 14.1411 13.7363 14.1702 13.7189 14.1702C13.7032 14.1702 13.4324 14.0587 13.3505 14.0231C11.4736 13.2078 10.0489 11.2472 9.85357 10.9166C9.82567 10.8691 9.8245 10.8475 9.82427 10.8475C9.83112 10.8223 9.89424 10.7591 9.92681 10.7264C10.0221 10.6321 10.1254 10.5078 10.2253 10.3876C10.2726 10.3306 10.3199 10.2736 10.3664 10.2198C10.5114 10.0512 10.5759 9.9203 10.6507 9.76866L10.6899 9.68988C10.8726 9.327 10.7166 9.02077 10.6661 8.92188C10.6248 8.83913 9.88598 7.05612 9.80744 6.86879C9.61855 6.41677 9.36897 6.2063 9.02214 6.2063C8.98996 6.2063 9.02214 6.2063 8.88718 6.21199C8.72284 6.21892 7.8279 6.33674 7.43222 6.58617C7.0126 6.85071 6.30273 7.69399 6.30273 9.177C6.30273 10.5117 7.14975 11.772 7.51341 12.2513C7.52245 12.2633 7.53905 12.2879 7.56312 12.3231C8.95583 14.357 10.692 15.8643 12.452 16.5674C14.1464 17.2443 14.9488 17.3225 15.405 17.3225H15.405C15.5967 17.3225 15.7502 17.3075 15.8855 17.2941L15.9714 17.286C16.5567 17.2341 17.8431 16.5675 18.1357 15.7544C18.3662 15.114 18.4269 14.4142 18.2736 14.1603C18.1686 13.9876 17.9875 13.9007 17.7584 13.7907Z",fill:"currentColor"}),l("path",{d:"M12.213 0C5.71307 0 0.424969 5.24836 0.424969 11.6995C0.424969 13.786 0.983358 15.8284 2.04115 17.6159L0.0165014 23.5883C-0.0212129 23.6996 0.00683904 23.8227 0.0892027 23.9066C0.148657 23.9673 0.229307 24 0.31167 24C0.343229 24 0.375021 23.9952 0.406034 23.9854L6.63357 22.0064C8.33772 22.917 10.2638 23.3976 12.2131 23.3976C18.7124 23.3977 24 18.1498 24 11.6995C24 5.24836 18.7124 0 12.213 0ZM12.213 20.9606C10.3788 20.9606 8.60227 20.4309 7.07515 19.4289C7.0238 19.3951 6.96419 19.3778 6.90419 19.3778C6.87247 19.3778 6.84068 19.3826 6.80975 19.3925L3.69014 20.3841L4.6972 17.413C4.72977 17.3169 4.71349 17.2108 4.65349 17.1288C3.49058 15.5398 2.87585 13.6625 2.87585 11.6995C2.87585 6.59221 7.06448 2.43709 12.2129 2.43709C17.3608 2.43709 21.5489 6.59221 21.5489 11.6995C21.549 16.8061 17.3609 20.9606 12.213 20.9606Z",fill:"currentColor"})),l("symbol",{id:"activity"},l("path",{d:"M22 12H18L15 21L9 3L6 12H2",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"alert-circle"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 8V12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 16H12.01",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"archive"},l("path",{d:"M21 8V21H3V8",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M22.999 3H0.999023V8H22.999V3Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10 12H14",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"alert-triangle"},l("path",{d:"M10.29 3.85972L1.82002 17.9997C1.64539 18.3021 1.55299 18.645 1.55201 18.9942C1.55103 19.3435 1.64151 19.6868 1.81445 19.9902C1.98738 20.2936 2.23675 20.5465 2.53773 20.7236C2.83871 20.9007 3.18082 20.9959 3.53002 20.9997H20.47C20.8192 20.9959 21.1613 20.9007 21.4623 20.7236C21.7633 20.5465 22.0127 20.2936 22.1856 19.9902C22.3585 19.6868 22.449 19.3435 22.448 18.9942C22.4471 18.645 22.3547 18.3021 22.18 17.9997L13.71 3.85972C13.5317 3.56582 13.2807 3.32284 12.9812 3.1542C12.6817 2.98556 12.3438 2.89697 12 2.89697C11.6563 2.89697 11.3184 2.98556 11.0188 3.1542C10.7193 3.32284 10.4683 3.56582 10.29 3.85972V3.85972Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 9V13",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 17H12.01",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"arrow-up-circle"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 12L12 8L8 12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 16V8",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"arrow-down-circle"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 12L12 16L16 12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 8V16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"arrow-left-circle"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 8L8 12L12 16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 12H8",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"arrow-right-circle"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 16L16 12L12 8",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 12H16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"arrow-up"},l("path",{d:"M12 19V5",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M5 12L12 5L19 12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"arrow-down"},l("path",{d:"M12 5V19",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M19 12L12 19L5 12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"arrow-left"},l("path",{d:"M19 12H5",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 19L5 12L12 5",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"arrow-right"},l("path",{d:"M5 12H19",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 5L19 12L12 19",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"chevron-up"},l("path",{d:"M17.9998 15L11.9998 9L5.99976 15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"chevron-down"},l("path",{d:"M6 9L12 15L18 9",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"chevron-left"},l("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"chevron-right"},l("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"chevrons-up"},l("path",{d:"M17 18L12 13L7 18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"chevrons-down"},l("path",{d:"M7 13L12 18L17 13",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M7 6L12 11L17 6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"chevrons-left"},l("path",{d:"M11.0002 17L6.00024 12L11.0002 7",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18.0002 17L13.0002 12L18.0002 7",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"chevrons-right"},l("path",{d:"M13 17L18 12L13 7",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M6 17L11 12L6 7",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"battery-charging"},l("path",{d:"M14.999 6H16.999C17.5295 6 18.0382 6.21071 18.4132 6.58579C18.7883 6.96086 18.999 7.46957 18.999 8V16C18.999 16.5304 18.7883 17.0391 18.4132 17.4142C18.0382 17.7893 17.5295 18 16.999 18H13.809M4.99902 18H2.99902C2.46859 18 1.95988 17.7893 1.58481 17.4142C1.20974 17.0391 0.999023 16.5304 0.999023 16V8C0.999023 7.46957 1.20974 6.96086 1.58481 6.58579C1.95988 6.21071 2.46859 6 2.99902 6H6.18902L4.99902 18Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M23 13V11",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M11 6L7 12H13L9 18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"battery"},l("path",{d:"M16.999 6H2.99902C1.89445 6 0.999023 6.89543 0.999023 8V16C0.999023 17.1046 1.89445 18 2.99902 18H16.999C18.1036 18 18.999 17.1046 18.999 16V8C18.999 6.89543 18.1036 6 16.999 6Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M22.9995 13V11",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"airplay"},l("path",{d:"M5 17H4C3.46957 17 2.96086 16.7893 2.58579 16.4142C2.21071 16.0391 2 15.5304 2 15V5C2 4.46957 2.21071 3.96086 2.58579 3.58579C2.96086 3.21071 3.46957 3 4 3H20C20.5304 3 21.0391 3.21071 21.4142 3.58579C21.7893 3.96086 22 4.46957 22 5V15C22 15.5304 21.7893 16.0391 21.4142 16.4142C21.0391 16.7893 20.5304 17 20 17H19",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 15L17 21H7L12 15Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"corner-left-up"},l("path",{d:"M14 9L9 4L4 9",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 20H13C11.9391 20 10.9217 19.5786 10.1716 18.8284C9.42143 18.0783 9 17.0609 9 16V4",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"corner-right-up"},l("path",{d:"M10 9L15 4L20 9",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4 20H11C12.0609 20 13.0783 19.5786 13.8284 18.8284C14.5786 18.0783 15 17.0609 15 16V4",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"corner-left-down"},l("path",{d:"M14 15L9 20L4 15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 4H13C11.9391 4 10.9217 4.42143 10.1716 5.17157C9.42143 5.92172 9 6.93913 9 8V20",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"corner-right-down"},l("path",{d:"M10 15L15 20L20 15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4 4H11C12.0609 4 13.0783 4.42143 13.8284 5.17157C14.5786 5.92172 15 6.93913 15 8V20",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"corner-down-left"},l("path",{d:"M9 10L4 15L9 20",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 4V11C20 12.0609 19.5786 13.0783 18.8284 13.8284C18.0783 14.5786 17.0609 15 16 15H4",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"corner-up-left"},l("path",{d:"M8.99976 14L3.99976 9L8.99976 4",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M19.9998 20V13C19.9998 11.9391 19.5783 10.9217 18.8282 10.1716C18.078 9.42143 17.0606 9 15.9998 9H3.99976",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"corner-down-right"},l("path",{d:"M15 10L20 15L15 20",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4 4V11C4 12.0609 4.42143 13.0783 5.17157 13.8284C5.92172 14.5786 6.93913 15 8 15H20",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"corner-up-right"},l("path",{d:"M15.0002 14L20.0002 9L15.0002 4",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4.00024 20V13C4.00024 11.9391 4.42167 10.9217 5.17182 10.1716C5.92196 9.42143 6.93938 9 8.00024 9H20.0002",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"bar-chart-2"},l("path",{d:"M18 20V10",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 20V4",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M6 20V14",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"bar-chart"},l("path",{d:"M12 20V10",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18 20V4",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M6 20V16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"calendar"},l("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 2V6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 2V6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M3 10H21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"box"},l("path",{d:"M21 15.9999V7.9999C20.9996 7.64918 20.9071 7.30471 20.7315 7.00106C20.556 6.69742 20.3037 6.44526 20 6.2699L13 2.2699C12.696 2.09437 12.3511 2.00195 12 2.00195C11.6489 2.00195 11.304 2.09437 11 2.2699L4 6.2699C3.69626 6.44526 3.44398 6.69742 3.26846 7.00106C3.09294 7.30471 3.00036 7.64918 3 7.9999V15.9999C3.00036 16.3506 3.09294 16.6951 3.26846 16.9987C3.44398 17.3024 3.69626 17.5545 4 17.7299L11 21.7299C11.304 21.9054 11.6489 21.9979 12 21.9979C12.3511 21.9979 12.696 21.9054 13 21.7299L20 17.7299C20.3037 17.5545 20.556 17.3024 20.7315 16.9987C20.9071 16.6951 20.9996 16.3506 21 15.9999Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M3.27002 6.95996L12 12.01L20.73 6.95996",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 22.08V12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"aperture"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M14.3101 8L20.0501 17.94",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9.68994 8H21.1699",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M7.37988 12.0001L13.1199 2.06006",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9.68995 16.0001L3.94995 6.06006",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M14.3101 16H2.83008",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16.6199 12L10.8799 21.94",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"at-sign"},l("path",{d:"M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 7.99987V12.9999C16 13.7955 16.3161 14.5586 16.8787 15.1212C17.4413 15.6838 18.2044 15.9999 19 15.9999C19.7957 15.9999 20.5587 15.6838 21.1213 15.1212C21.6839 14.5586 22 13.7955 22 12.9999V11.9999C21.9999 9.7429 21.2362 7.55235 19.8333 5.7844C18.4303 4.01645 16.4706 2.77509 14.2726 2.26217C12.0747 1.74924 9.76794 1.99491 7.72736 2.95923C5.68677 3.92356 4.03241 5.54982 3.03327 7.57359C2.03413 9.59736 1.74898 11.8996 2.22418 14.106C2.69938 16.3124 3.90699 18.2931 5.65064 19.7261C7.39429 21.1592 9.57144 21.9602 11.8281 21.999C14.0847 22.0378 16.2881 21.3121 18.08 19.9399",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"award"},l("path",{d:"M12 14.999C15.866 14.999 19 11.865 19 7.99902C19 4.13303 15.866 0.999023 12 0.999023C8.13401 0.999023 5 4.13303 5 7.99902C5 11.865 8.13401 14.999 12 14.999Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8.21 13.8899L7 22.9999L12 19.9999L17 22.9999L15.79 13.8799",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"camera-off"},l("path",{d:"M1 1L23 23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15.279 15.28C14.9471 15.765 14.5124 16.171 14.0058 16.469C13.4992 16.7669 12.9332 16.9496 12.348 17.004C11.7628 17.0584 11.1728 16.9831 10.6199 16.7836C10.0671 16.5841 9.56503 16.2652 9.14944 15.8496C8.73385 15.434 8.41495 14.9319 8.21543 14.3791C8.0159 13.8263 7.94065 13.2363 7.99503 12.6511C8.04941 12.0658 8.23208 11.4998 8.53005 10.9932C8.82803 10.4866 9.23398 10.0519 9.71902 9.72M20.999 21H2.99902C2.46859 21 1.95988 20.7893 1.58481 20.4142C1.20974 20.0391 0.999023 19.5304 0.999023 19V8C0.999023 7.46957 1.20974 6.96086 1.58481 6.58579C1.95988 6.21071 2.46859 6 2.99902 6H5.99902L20.999 21ZM8.99902 3H14.999L16.999 6H20.999C21.5295 6 22.0382 6.21071 22.4132 6.58579C22.7883 6.96086 22.999 7.46957 22.999 8V17.34L8.99902 3Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"camera"},l("path",{d:"M22.9993 19C22.9993 19.5304 22.7886 20.0391 22.4135 20.4142C22.0384 20.7893 21.5297 21 20.9993 21H2.99927C2.46883 21 1.96013 20.7893 1.58505 20.4142C1.20998 20.0391 0.999268 19.5304 0.999268 19V8C0.999268 7.46957 1.20998 6.96086 1.58505 6.58579C1.96013 6.21071 2.46883 6 2.99927 6H6.99927L8.99927 3H14.9993L16.9993 6H20.9993C21.5297 6 22.0384 6.21071 22.4135 6.58579C22.7886 6.96086 22.9993 7.46957 22.9993 8V19Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"cast"},l("path",{d:"M2 16.1C2.96089 16.296 3.84294 16.7702 4.53638 17.4636C5.22982 18.1571 5.70403 19.0391 5.9 20M2 12.05C4.03079 12.2759 5.92428 13.186 7.36911 14.6309C8.81395 16.0757 9.72414 17.9692 9.95 20M2 8V6C2 5.46957 2.21071 4.96086 2.58579 4.58579C2.96086 4.21071 3.46957 4 4 4H20C20.5304 4 21.0391 4.21071 21.4142 4.58579C21.7893 4.96086 22 5.46957 22 6V18C22 18.5304 21.7893 19.0391 21.4142 19.4142C21.0391 19.7893 20.5304 20 20 20H14",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M2 20H2.01",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"check"},l("path",{d:"M20 6L9 17L4 12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"close"},l("path",{d:"M18.0002 6L6.00024 18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M6.00024 6L18.0002 18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"bell-off"},l("path",{d:"M13.73 21C13.5542 21.3028 13.3019 21.5542 12.9982 21.7289C12.6946 21.9037 12.3504 21.9956 12 21.9956C11.6496 21.9956 11.3054 21.9037 11.0018 21.7289C10.6982 21.5542 10.4458 21.3028 10.27 21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18.6293 13C18.1848 11.3714 17.9729 9.68804 17.9998 8",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M6.26 6.25977C6.08627 6.82338 5.99861 7.40999 6 7.99977C6 14.9998 3 16.9998 3 16.9998H17",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M17.9999 8.00012C18.0015 6.91318 17.7079 5.84622 17.1503 4.91321C16.5927 3.98019 15.7921 3.21617 14.834 2.70275C13.876 2.18934 12.7965 1.94581 11.7108 1.99818C10.6251 2.05056 9.57409 2.39686 8.66992 3.00011",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M1 1L23 23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"bell"},l("path",{d:"M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M13.73 21C13.5542 21.3028 13.3019 21.5542 12.9982 21.7289C12.6946 21.9037 12.3504 21.9956 12 21.9956C11.6496 21.9956 11.3054 21.9037 11.0018 21.7289C10.6982 21.5542 10.4458 21.3028 10.27 21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"bluetooth"},l("path",{d:"M6.5 6.49902L17.5 17.499L12 22.999V0.999023L17.5 6.49902L6.5 17.499",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"droplet"},l("path",{d:"M11.9999 2.68994L17.6599 8.34994C18.7792 9.46855 19.5417 10.894 19.8508 12.446C20.1599 13.998 20.0018 15.6068 19.3964 17.0689C18.7911 18.531 17.7657 19.7808 16.45 20.66C15.1343 21.5393 13.5874 22.0086 12.0049 22.0086C10.4224 22.0086 8.87549 21.5393 7.55978 20.66C6.24407 19.7808 5.2187 18.531 4.61335 17.0689C4.008 15.6068 3.84988 13.998 4.15899 12.446C4.46809 10.894 5.23054 9.46855 6.34989 8.34994L11.9999 2.68994Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"book"},l("path",{d:"M4 19.5C4 18.837 4.26339 18.2011 4.73223 17.7322C5.20107 17.2634 5.83696 17 6.5 17H20",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M6.5 2H20V22H6.5C5.83696 22 5.20107 21.7366 4.73223 21.2678C4.26339 20.7989 4 20.163 4 19.5V4.5C4 3.83696 4.26339 3.20107 4.73223 2.73223C5.20107 2.26339 5.83696 2 6.5 2V2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"bookmark"},l("path",{d:"M19 21L12 16L5 21V5C5 4.46957 5.21071 3.96086 5.58579 3.58579C5.96086 3.21071 6.46957 3 7 3H17C17.5304 3 18.0391 3.21071 18.4142 3.58579C18.7893 3.96086 19 4.46957 19 5V21Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"chrome"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21.17 8H12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M3.94995 6.06006L8.53995 14.0001",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10.8799 21.94L15.4599 14",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"circle"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"clock"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 6V12L16 14",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"watch"},l("path",{d:"M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 9V12L13.5 13.5",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16.51 17.349L16.16 21.179C16.1149 21.6777 15.8845 22.1413 15.5142 22.4783C15.1439 22.8152 14.6607 23.0011 14.16 22.999H9.82998C9.32931 23.0011 8.84609 22.8152 8.47578 22.4783C8.10548 22.1413 7.87504 21.6777 7.82998 21.179L7.47998 17.349M7.48998 6.64904L7.83998 2.81904C7.88489 2.32212 8.11391 1.85992 8.4821 1.52319C8.85028 1.18646 9.33103 0.99951 9.82998 0.99904H14.18C14.6807 0.997008 15.1639 1.18284 15.5342 1.51981C15.9045 1.85679 16.1349 2.3204 16.18 2.81904L16.53 6.64904",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"cloud-drizzle"},l("path",{d:"M8 19V21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 13V15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 19V21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 13V15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 21V23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 15V17",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 16.5802C21.0513 16.1198 21.9121 15.3118 22.4381 14.2917C22.9641 13.2717 23.1232 12.1018 22.8886 10.9784C22.6541 9.85496 22.0402 8.84641 21.1501 8.12204C20.2599 7.39766 19.1477 7.00155 18 7.0002H16.74C16.4231 5.77272 15.8189 4.63815 14.9773 3.69C14.1358 2.74185 13.081 2.00728 11.8998 1.54682C10.7186 1.08637 9.44494 0.913218 8.18372 1.04165C6.92249 1.17007 5.70984 1.5964 4.64573 2.28548C3.58161 2.97457 2.6965 3.90669 2.06334 5.005C1.43018 6.10331 1.06711 7.33638 1.00404 8.60255C0.940984 9.86873 1.17974 11.1318 1.70064 12.2876C2.22153 13.4433 3.00965 14.4588 4.00003 15.2502",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"cloud-lightning"},l("path",{d:"M18.9999 16.8998C20.2151 16.6531 21.2952 15.9636 22.0306 14.9653C22.766 13.967 23.1043 12.731 22.9796 11.4973C22.855 10.2636 22.2765 9.12028 21.3563 8.28918C20.4361 7.45809 19.2399 6.99857 17.9999 6.99981H16.7399C16.4086 5.71713 15.764 4.5368 14.8638 3.5648C13.9637 2.59279 12.8363 1.85954 11.5828 1.43087C10.3292 1.00221 8.98891 0.891543 7.68207 1.10882C6.37523 1.32609 5.1428 1.86451 4.09544 2.67572C3.04808 3.48693 2.21856 4.54555 1.68137 5.75652C1.14418 6.9675 0.916124 8.29292 1.01769 9.6138C1.11925 10.9347 1.54725 12.2097 2.26326 13.3243C2.97926 14.4389 3.96087 15.3583 5.11993 15.9998",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M13 11L9 17H15L11 23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"cloud-off"},l("path",{d:"M22.9838 14.538C22.9075 13.7155 22.6285 12.9246 22.1719 12.2362C21.7152 11.5478 21.0951 10.9832 20.367 10.593C19.6389 10.2027 18.8254 9.99902 17.9993 10H16.7393C16.3311 8.39249 15.4333 6.95158 14.1703 5.87666C12.9073 4.80173 11.3414 4.14593 9.68926 4M4.99926 5C3.43734 5.86364 2.20907 7.22478 1.50985 8.86691C0.810626 10.509 0.680611 12.3378 1.14049 14.0623C1.60036 15.7869 2.62371 17.3081 4.04774 18.384C5.47177 19.4599 7.2147 20.0288 8.99926 20H17.9993C18.579 19.9993 19.1543 19.8978 19.6993 19.7",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M1 1L23 23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"cloud"},l("path",{d:"M17.9991 10H16.7391C16.365 8.551 15.5919 7.23599 14.5078 6.2044C13.4236 5.1728 12.0718 4.46599 10.6061 4.16428C9.14026 3.86256 7.61923 3.97804 6.21579 4.49759C4.81235 5.01714 3.58277 5.91993 2.66679 7.10338C1.7508 8.28683 1.18512 9.70348 1.03404 11.1924C0.882958 12.6812 1.15252 14.1826 1.81211 15.526C2.47169 16.8693 3.49485 18.0007 4.76532 18.7916C6.03578 19.5824 7.50261 20.0011 8.99913 20H17.9991C19.3252 20 20.597 19.4732 21.5347 18.5355C22.4723 17.5979 22.9991 16.3261 22.9991 15C22.9991 13.6739 22.4723 12.4021 21.5347 11.4645C20.597 10.5268 19.3252 10 17.9991 10Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"code"},l("path",{d:"M16.0002 18L22.0002 12L16.0002 6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8.00024 6L2.00024 12L8.00024 18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"coffee"},l("path",{d:"M18 8H19C20.0609 8 21.0783 8.42143 21.8284 9.17157C22.5786 9.92172 23 10.9391 23 12C23 13.0609 22.5786 14.0783 21.8284 14.8284C21.0783 15.5786 20.0609 16 19 16H18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M2 8H18V17C18 18.0609 17.5786 19.0783 16.8284 19.8284C16.0783 20.5786 15.0609 21 14 21H6C4.93913 21 3.92172 20.5786 3.17157 19.8284C2.42143 19.0783 2 18.0609 2 17V8Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M6 0.999023V3.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10 0.999023V3.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M14 0.999023V3.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"columns"},l("path",{d:"M12 3V21M12 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H12V3ZM12 3H5C4.46957 3 3.96086 3.21071 3.58579 3.58579C3.21071 3.96086 3 4.46957 3 5V19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H12V3Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"command"},l("path",{d:"M18 3C17.2044 3 16.4413 3.31607 15.8787 3.87868C15.3161 4.44129 15 5.20435 15 6V18C15 18.7956 15.3161 19.5587 15.8787 20.1213C16.4413 20.6839 17.2044 21 18 21C18.7956 21 19.5587 20.6839 20.1213 20.1213C20.6839 19.5587 21 18.7956 21 18C21 17.2044 20.6839 16.4413 20.1213 15.8787C19.5587 15.3161 18.7956 15 18 15H6C5.20435 15 4.44129 15.3161 3.87868 15.8787C3.31607 16.4413 3 17.2044 3 18C3 18.7956 3.31607 19.5587 3.87868 20.1213C4.44129 20.6839 5.20435 21 6 21C6.79565 21 7.55871 20.6839 8.12132 20.1213C8.68393 19.5587 9 18.7956 9 18V6C9 5.20435 8.68393 4.44129 8.12132 3.87868C7.55871 3.31607 6.79565 3 6 3C5.20435 3 4.44129 3.31607 3.87868 3.87868C3.31607 4.44129 3 5.20435 3 6C3 6.79565 3.31607 7.55871 3.87868 8.12132C4.44129 8.68393 5.20435 9 6 9H18C18.7956 9 19.5587 8.68393 20.1213 8.12132C20.6839 7.55871 21 6.79565 21 6C21 5.20435 20.6839 4.44129 20.1213 3.87868C19.5587 3.31607 18.7956 3 18 3Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"compass"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16.24 7.75977L14.12 14.1198L7.76001 16.2398L9.88001 9.87977L16.24 7.75977Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"copy"},l("path",{d:"M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"cpu"},l("path",{d:"M18 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V6C20 4.89543 19.1046 4 18 4Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15 9H9V15H15V9Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9 0.999023V3.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15 0.999023V3.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9 20V23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15 20V23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 9H23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 14H23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M0.999023 9H3.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M0.999023 14H3.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"credit-card"},l("path",{d:"M20.9993 4H2.99927C1.8947 4 0.999268 4.89543 0.999268 6V18C0.999268 19.1046 1.8947 20 2.99927 20H20.9993C22.1038 20 22.9993 19.1046 22.9993 18V6C22.9993 4.89543 22.1038 4 20.9993 4Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M0.999268 10H22.9993",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"crop"},l("path",{d:"M6.13 0.999023L6 15.999C6 16.5295 6.21071 17.0382 6.58579 17.4132C6.96086 17.7883 7.46957 17.999 8 17.999H23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M0.999023 6.13L15.999 6C16.5295 6 17.0382 6.21071 17.4132 6.58579C17.7883 6.96086 17.999 7.46957 17.999 8V23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"crosshair"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M22 12H18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M6 12H2",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 6V2",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 22V18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"database"},l("path",{d:"M12 8C16.9706 8 21 6.65685 21 5C21 3.34315 16.9706 2 12 2C7.02944 2 3 3.34315 3 5C3 6.65685 7.02944 8 12 8Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21 12C21 13.66 17 15 12 15C7 15 3 13.66 3 12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M3 5V19C3 20.66 7 22 12 22C17 22 21 20.66 21 19V5",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"delete"},l("path",{d:"M20.999 4H7.99902L0.999023 12L7.99902 20H20.999C21.5295 20 22.0382 19.7893 22.4132 19.4142C22.7883 19.0391 22.999 18.5304 22.999 18V6C22.999 5.46957 22.7883 4.96086 22.4132 4.58579C22.0382 4.21071 21.5295 4 20.999 4V4Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M17.9995 9L11.9995 15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M11.9995 9L17.9995 15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"download-cloud"},l("path",{d:"M8 17L12 21L16 17",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 12V21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20.8792 18.0899C21.7486 17.4786 22.4006 16.6061 22.7405 15.5991C23.0804 14.5921 23.0906 13.503 22.7696 12.4898C22.4486 11.4766 21.8131 10.592 20.9553 9.96449C20.0975 9.33697 19.062 8.9991 17.9992 8.99993H16.7392C16.4384 7.82781 15.8757 6.73918 15.0933 5.81601C14.311 4.89285 13.3293 4.15919 12.2224 3.67029C11.1155 3.18138 9.91205 2.94996 8.70273 2.99345C7.49341 3.03694 6.30971 3.3542 5.24075 3.92136C4.17179 4.48851 3.24543 5.29078 2.53139 6.26776C1.81735 7.24474 1.33425 8.37098 1.11846 9.56168C0.902671 10.7524 0.959811 11.9765 1.28558 13.142C1.61135 14.3074 2.19726 15.3837 2.9992 16.2899",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"download"},l("path",{d:"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M7 10L12 15L17 10",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 15V3",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"rss"},l("path",{d:"M4 11C6.38695 11 8.67613 11.9482 10.364 13.636C12.0518 15.3239 13 17.6131 13 20",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4 4C8.24346 4 12.3131 5.68571 15.3137 8.68629C18.3143 11.6869 20 15.7565 20 20",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M5 20C5.55228 20 6 19.5523 6 19C6 18.4477 5.55228 18 5 18C4.44772 18 4 18.4477 4 19C4 19.5523 4.44772 20 5 20Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"edit"},l("path",{d:"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18.5 2.49974C18.8978 2.10191 19.4374 1.87842 20 1.87842C20.5626 1.87842 21.1022 2.10191 21.5 2.49974C21.8978 2.89756 22.1213 3.43713 22.1213 3.99974C22.1213 4.56235 21.8978 5.10191 21.5 5.49974L12 14.9997L8 15.9997L9 11.9997L18.5 2.49974Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"external-link"},l("path",{d:"M18 13V19C18 19.5304 17.7893 20.0391 17.4142 20.4142C17.0391 20.7893 16.5304 21 16 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V8C3 7.46957 3.21071 6.96086 3.58579 6.58579C3.96086 6.21071 4.46957 6 5 6H11",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15 3H21V9",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10 14L21 3",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"eye-off"},l("path",{d:"M9.89927 4.24002C10.5876 4.0789 11.2923 3.99836 11.9993 4.00003C18.9993 4.00003 22.9993 12 22.9993 12C22.3922 13.1356 21.6683 14.2048 20.8393 15.19M14.1193 14.12C13.8446 14.4148 13.5134 14.6512 13.1454 14.8151C12.7774 14.9791 12.3802 15.0673 11.9774 15.0744C11.5745 15.0815 11.1744 15.0074 10.8009 14.8565C10.4273 14.7056 10.088 14.4811 9.80311 14.1962C9.51824 13.9113 9.29366 13.572 9.14278 13.1984C8.99189 12.8249 8.91779 12.4247 8.9249 12.0219C8.93201 11.6191 9.02018 11.2219 9.18414 10.8539C9.34811 10.4859 9.58452 10.1547 9.87927 9.88003M17.9393 17.94C16.2299 19.243 14.1484 19.9649 11.9993 20C4.99927 20 0.999268 12 0.999268 12C2.24316 9.68192 3.9684 7.65663 6.05927 6.06003L17.9393 17.94Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M1 1L23 23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"eye"},l("path",{d:"M0.999268 12C0.999268 12 4.99927 4 11.9993 4C18.9993 4 22.9993 12 22.9993 12C22.9993 12 18.9993 20 11.9993 20C4.99927 20 0.999268 12 0.999268 12Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"fast-forward"},l("path",{d:"M13 19L22 12L13 5V19Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M2 19L11 12L2 5V19Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"figma"},l("path",{d:"M5 5.5C5 4.57174 5.36875 3.6815 6.02513 3.02513C6.6815 2.36875 7.57174 2 8.5 2H12V9H8.5C7.57174 9 6.6815 8.63125 6.02513 7.97487C5.36875 7.3185 5 6.42826 5 5.5Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 2H15.5C15.9596 2 16.4148 2.09053 16.8394 2.26642C17.264 2.44231 17.6499 2.70012 17.9749 3.02513C18.2999 3.35013 18.5577 3.73597 18.7336 4.16061C18.9095 4.58525 19 5.04037 19 5.5C19 5.95963 18.9095 6.41475 18.7336 6.83939C18.5577 7.26403 18.2999 7.64987 17.9749 7.97487C17.6499 8.29988 17.264 8.55769 16.8394 8.73358C16.4148 8.90947 15.9596 9 15.5 9H12V2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 12.5C12 12.0404 12.0905 11.5852 12.2664 11.1606C12.4423 10.736 12.7001 10.3501 13.0251 10.0251C13.3501 9.70012 13.736 9.44231 14.1606 9.26642C14.5852 9.09053 15.0404 9 15.5 9C15.9596 9 16.4148 9.09053 16.8394 9.26642C17.264 9.44231 17.6499 9.70012 17.9749 10.0251C18.2999 10.3501 18.5577 10.736 18.7336 11.1606C18.9095 11.5852 19 12.0404 19 12.5C19 12.9596 18.9095 13.4148 18.7336 13.8394C18.5577 14.264 18.2999 14.6499 17.9749 14.9749C17.6499 15.2999 17.264 15.5577 16.8394 15.7336C16.4148 15.9095 15.9596 16 15.5 16C15.0404 16 14.5852 15.9095 14.1606 15.7336C13.736 15.5577 13.3501 15.2999 13.0251 14.9749C12.7001 14.6499 12.4423 14.264 12.2664 13.8394C12.0905 13.4148 12 12.9596 12 12.5V12.5Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M5 19.5C5 18.5717 5.36875 17.6815 6.02513 17.0251C6.6815 16.3687 7.57174 16 8.5 16H12V19.5C12 20.4283 11.6313 21.3185 10.9749 21.9749C10.3185 22.6313 9.42826 23 8.5 23C7.57174 23 6.6815 22.6313 6.02513 21.9749C5.36875 21.3185 5 20.4283 5 19.5Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M5 12.5C5 11.5717 5.36875 10.6815 6.02513 10.0251C6.6815 9.36875 7.57174 9 8.5 9H12V16H8.5C7.57174 16 6.6815 15.6313 6.02513 14.9749C5.36875 14.3185 5 13.4283 5 12.5Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"file-minus"},l("path",{d:"M13.9998 2H5.99976C5.46932 2 4.96061 2.21071 4.58554 2.58579C4.21047 2.96086 3.99976 3.46957 3.99976 4V20C3.99976 20.5304 4.21047 21.0391 4.58554 21.4142C4.96061 21.7893 5.46932 22 5.99976 22H17.9998C18.5302 22 19.0389 21.7893 19.414 21.4142C19.789 21.0391 19.9998 20.5304 19.9998 20V8L13.9998 2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M13.9998 2V8H19.9998",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8.99976 15H14.9998",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"file-text"},l("path",{d:"M14.0002 2H6.00024C5.46981 2 4.9611 2.21071 4.58603 2.58579C4.21096 2.96086 4.00024 3.46957 4.00024 4V20C4.00024 20.5304 4.21096 21.0391 4.58603 21.4142C4.9611 21.7893 5.46981 22 6.00024 22H18.0002C18.5307 22 19.0394 21.7893 19.4145 21.4142C19.7895 21.0391 20.0002 20.5304 20.0002 20V8L14.0002 2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M14.0002 2V8H20.0002",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16.0002 13H8.00024",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16.0002 17H8.00024",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10.0002 9H9.00024H8.00024",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"folder"},l("path",{d:"M22 19C22 19.5304 21.7893 20.0391 21.4142 20.4142C21.0391 20.7893 20.5304 21 20 21H4C3.46957 21 2.96086 20.7893 2.58579 20.4142C2.21071 20.0391 2 19.5304 2 19V5C2 4.46957 2.21071 3.96086 2.58579 3.58579C2.96086 3.21071 3.46957 3 4 3H9L11 6H20C20.5304 6 21.0391 6.21071 21.4142 6.58579C21.7893 6.96086 22 7.46957 22 8V19Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"frown"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 16C16 16 14.5 14 12 14C9.5 14 8 16 8 16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9 9H9.01",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15 9H15.01",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"gift"},l("path",{d:"M20 12V22H4V12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M22 7H2V12H22V7Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 22V7",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 7H7.5C6.83696 7 6.20107 6.73661 5.73223 6.26777C5.26339 5.79893 5 5.16304 5 4.5C5 3.83696 5.26339 3.20107 5.73223 2.73223C6.20107 2.26339 6.83696 2 7.5 2C11 2 12 7 12 7Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 7H16.5C17.163 7 17.7989 6.73661 18.2678 6.26777C18.7366 5.79893 19 5.16304 19 4.5C19 3.83696 18.7366 3.20107 18.2678 2.73223C17.7989 2.26339 17.163 2 16.5 2C13 2 12 7 12 7Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"github"},l("path",{d:"M15.9998 21.999V18.129C16.0373 17.6521 15.9728 17.1728 15.8108 16.7228C15.6487 16.2727 15.3927 15.8624 15.0598 15.519C18.1998 15.169 21.4998 13.979 21.4998 8.51896C21.4995 7.12279 20.9624 5.78016 19.9998 4.76896C20.4556 3.54747 20.4234 2.19731 19.9098 0.998961C19.9098 0.998961 18.7298 0.648961 15.9998 2.47896C13.7078 1.85778 11.2917 1.85778 8.99976 2.47896C6.26976 0.648961 5.08976 0.998961 5.08976 0.998961C4.57613 2.19731 4.5439 3.54747 4.99976 4.76896C4.02988 5.78766 3.49228 7.14242 3.49976 8.54896C3.49976 13.969 6.79975 15.159 9.93975 15.549C9.61075 15.8889 9.35702 16.2944 9.19506 16.7389C9.03311 17.1834 8.96656 17.657 8.99976 18.129V21.999M8.99976 18.999C3.99976 20.499 3.99976 16.499 1.99976 15.999L8.99976 18.999Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"gitlab"},l("path",{d:"M22.6492 14.3902L11.9992 22.1302L1.34917 14.3902C1.20639 14.2852 1.10049 14.1377 1.0466 13.9689C0.992718 13.8001 0.993616 13.6185 1.04917 13.4502L2.26917 9.67021L4.70917 2.16021C4.73283 2.09901 4.77051 2.04421 4.81917 2.00021C4.89841 1.92783 5.00185 1.8877 5.10917 1.8877C5.21649 1.8877 5.31993 1.92783 5.39917 2.00021C5.45055 2.04987 5.48841 2.11182 5.50917 2.18021L7.94917 9.67021H16.0492L18.4892 2.16021C18.5128 2.09901 18.5505 2.04421 18.5992 2.00021C18.6784 1.92783 18.7818 1.8877 18.8892 1.8877C18.9965 1.8877 19.0999 1.92783 19.1792 2.00021C19.2306 2.04987 19.2684 2.11182 19.2892 2.18021L21.7292 9.6902L22.9992 13.4502C23.0497 13.6237 23.0429 13.8088 22.9799 13.9782C22.9168 14.1475 22.8008 14.292 22.6492 14.3902V14.3902Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"globe"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M2 12H22",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 2C14.5013 4.73835 15.9228 8.29203 16 12C15.9228 15.708 14.5013 19.2616 12 22C9.49872 19.2616 8.07725 15.708 8 12C8.07725 8.29203 9.49872 4.73835 12 2V2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"grid"},l("path",{d:"M10.0002 3H3.00024V10H10.0002V3Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21.0002 3H14.0002V10H21.0002V3Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21.0002 14H14.0002V21H21.0002V14Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10.0002 14H3.00024V21H10.0002V14Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"headphones"},l("path",{d:"M3 18V12C3 9.61305 3.94821 7.32387 5.63604 5.63604C7.32387 3.94821 9.61305 3 12 3C14.3869 3 16.6761 3.94821 18.364 5.63604C20.0518 7.32387 21 9.61305 21 12V18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21 19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H18C17.4696 21 16.9609 20.7893 16.5858 20.4142C16.2107 20.0391 16 19.5304 16 19V16C16 15.4696 16.2107 14.9609 16.5858 14.5858C16.9609 14.2107 17.4696 14 18 14H21V19ZM3 19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H6C6.53043 21 7.03914 20.7893 7.41421 20.4142C7.78929 20.0391 8 19.5304 8 19V16C8 15.4696 7.78929 14.9609 7.41421 14.5858C7.03914 14.2107 6.53043 14 6 14H3V19Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"heart"},l("path",{d:"M20.8401 4.61036C20.3294 4.09937 19.7229 3.69401 19.0555 3.41744C18.388 3.14088 17.6726 2.99854 16.9501 2.99854C16.2276 2.99854 15.5122 3.14088 14.8448 3.41744C14.1773 3.69401 13.5709 4.09937 13.0601 4.61036L12.0001 5.67036L10.9401 4.61036C9.90843 3.57867 8.50915 2.99907 7.05012 2.99907C5.59109 2.99907 4.19181 3.57867 3.16012 4.61036C2.12843 5.64205 1.54883 7.04133 1.54883 8.50036C1.54883 9.95939 2.12843 11.3587 3.16012 12.3904L4.22012 13.4504L12.0001 21.2304L19.7801 13.4504L20.8401 12.3904C21.3511 11.8796 21.7565 11.2732 22.033 10.6057C22.3096 9.93826 22.4519 9.22285 22.4519 8.50036C22.4519 7.77787 22.3096 7.06246 22.033 6.39501C21.7565 5.72755 21.3511 5.12112 20.8401 4.61036V4.61036Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"help-circle"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9.08984 9.00008C9.32495 8.33175 9.789 7.76819 10.3998 7.40921C11.0106 7.05024 11.7287 6.91902 12.427 7.03879C13.1253 7.15857 13.7587 7.52161 14.2149 8.06361C14.6712 8.60561 14.9209 9.2916 14.9198 10.0001C14.9198 12.0001 11.9198 13.0001 11.9198 13.0001",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 17H12.01",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"home"},l("path",{d:"M2.99951 9L11.9995 2L20.9995 9V20C20.9995 20.5304 20.7888 21.0391 20.4137 21.4142C20.0387 21.7893 19.5299 22 18.9995 22H4.99951C4.46908 22 3.96037 21.7893 3.5853 21.4142C3.21023 21.0391 2.99951 20.5304 2.99951 20V9Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"image-1"},l("path",{d:"M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8.5 10C9.32843 10 10 9.32843 10 8.5C10 7.67157 9.32843 7 8.5 7C7.67157 7 7 7.67157 7 8.5C7 9.32843 7.67157 10 8.5 10Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21 15L16 10L5 21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"info"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 16V12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 8H12.01",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"link"},l("path",{d:"M10 13C10.4295 13.5741 10.9774 14.0491 11.6066 14.3929C12.2357 14.7367 12.9315 14.9411 13.6467 14.9923C14.3618 15.0435 15.0796 14.9403 15.7513 14.6897C16.4231 14.4392 17.0331 14.047 17.54 13.54L20.54 10.54C21.4508 9.59695 21.9548 8.33394 21.9434 7.02296C21.932 5.71198 21.4061 4.45791 20.4791 3.53087C19.5521 2.60383 18.298 2.07799 16.987 2.0666C15.676 2.0552 14.413 2.55918 13.47 3.46997L11.75 5.17997",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M14 10.9997C13.5705 10.4256 13.0226 9.95055 12.3934 9.6068C11.7642 9.26304 11.0684 9.05862 10.3533 9.0074C9.63816 8.95619 8.92037 9.05937 8.24861 9.30996C7.57685 9.56054 6.96684 9.95267 6.45996 10.4597L3.45996 13.4597C2.54917 14.4027 2.04519 15.6658 2.05659 16.9767C2.06798 18.2877 2.59382 19.5418 3.52086 20.4688C4.4479 21.3959 5.70197 21.9217 7.01295 21.9331C8.32393 21.9445 9.58694 21.4405 10.53 20.5297L12.24 18.8197",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"link-2"},l("path",{d:"M14.9993 7H17.9993C18.6559 7 19.3061 7.12933 19.9127 7.3806C20.5193 7.63188 21.0705 8.00017 21.5348 8.46447C21.9991 8.92876 22.3674 9.47996 22.6187 10.0866C22.8699 10.6932 22.9993 11.3434 22.9993 12C22.9993 12.6566 22.8699 13.3068 22.6187 13.9134C22.3674 14.52 21.9991 15.0712 21.5348 15.5355C21.0705 15.9998 20.5193 16.3681 19.9127 16.6194C19.3061 16.8707 18.6559 17 17.9993 17H14.9993M8.99927 17H5.99927C5.34266 17 4.69248 16.8707 4.08585 16.6194C3.47922 16.3681 2.92803 15.9998 2.46373 15.5355C1.52605 14.5979 0.999268 13.3261 0.999268 12C0.999268 10.6739 1.52605 9.40215 2.46373 8.46447C3.40142 7.52678 4.67319 7 5.99927 7H8.99927",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 12H16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"layers"},l("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M2 17L12 22L22 17",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M2 12L12 17L22 12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"log-in"},l("path",{d:"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10 17L15 12L10 7",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15 12H3",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"log-out"},l("path",{d:"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 17L21 12L16 7",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21 12H9",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"mail"},l("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M22 6L12 13L2 6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"map-pin"},l("path",{d:"M21 9.99902C21 16.999 12 22.999 12 22.999C12 22.999 3 16.999 3 9.99902C3 7.61208 3.94821 5.32289 5.63604 3.63506C7.32387 1.94723 9.61305 0.999023 12 0.999023C14.3869 0.999023 16.6761 1.94723 18.364 3.63506C20.0518 5.32289 21 7.61208 21 9.99902Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"map"},l("path",{d:"M0.999023 6V22L7.99902 18L15.999 22L22.999 18V2L15.999 6L7.99902 2L0.999023 6Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 2V18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 6V22",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"maximize-2"},l("path",{d:"M15 3H21V9",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9 21H3V15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21 3L14 10",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M3 21L10 14",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"maximize"},l("path",{d:"M8 3H5C4.46957 3 3.96086 3.21071 3.58579 3.58579C3.21071 3.96086 3 4.46957 3 5V8M21 8V5C21 4.46957 20.7893 3.96086 20.4142 3.58579C20.0391 3.21071 19.5304 3 19 3H16M16 21H19C19.5304 21 20.0391 20.7893 20.4142 20.4142C20.7893 20.0391 21 19.5304 21 19V16M3 16V19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H8",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"menu"},l("path",{d:"M3 12H21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M3 6H21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M3 18H21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"message-square"},l("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"mic-off"},l("path",{d:"M1 1L23 23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15 9.33912V3.99912C15.0007 3.25514 14.725 2.53744 14.2264 1.98532C13.7277 1.4332 13.0417 1.08606 12.3015 1.01129C11.5613 0.936521 10.8197 1.13946 10.2207 1.5807C9.62172 2.02195 9.20805 2.67002 9.06 3.39912M9 8.99912V11.9991C9.00052 12.5921 9.17675 13.1716 9.50643 13.6644C9.83611 14.1573 10.3045 14.5414 10.8523 14.7683C11.4002 14.9951 12.0029 15.0545 12.5845 14.939C13.1661 14.8234 13.7005 14.5381 14.12 14.1191L9 8.99912Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18.9999 10V12C18.9996 12.4124 18.9628 12.824 18.8899 13.23M16.9999 16.95C16.0237 17.9464 14.7721 18.6285 13.4056 18.9086C12.039 19.1887 10.62 19.0542 9.33044 18.5223C8.0409 17.9903 6.9397 17.0853 6.16811 15.9232C5.39652 14.761 4.98974 13.3949 4.99994 12V10L16.9999 16.95Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 19V23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 23H16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"mic"},l("path",{d:"M12 0.999023C11.2044 0.999023 10.4413 1.31509 9.87868 1.8777C9.31607 2.44031 9 3.20337 9 3.99902V11.999C9 12.7947 9.31607 13.5577 9.87868 14.1203C10.4413 14.683 11.2044 14.999 12 14.999C12.7956 14.999 13.5587 14.683 14.1213 14.1203C14.6839 13.5577 15 12.7947 15 11.999V3.99902C15 3.20337 14.6839 2.44031 14.1213 1.8777C13.5587 1.31509 12.7956 0.999023 12 0.999023V0.999023Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M19 10V12C19 13.8565 18.2625 15.637 16.9497 16.9497C15.637 18.2625 13.8565 19 12 19C10.1435 19 8.36301 18.2625 7.05025 16.9497C5.7375 15.637 5 13.8565 5 12V10",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 19V23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 23H16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"minimize-2"},l("path",{d:"M4 14H10V20",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 10H14V4",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M14 10L21 3",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M3 21L10 14",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"monitor"},l("path",{d:"M20 3H4C2.89543 3 2 3.89543 2 5V15C2 16.1046 2.89543 17 4 17H20C21.1046 17 22 16.1046 22 15V5C22 3.89543 21.1046 3 20 3Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 21H16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 17V21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"moon"},l("path",{d:"M20.9999 12.79C20.8426 14.4922 20.2038 16.1144 19.1581 17.4668C18.1125 18.8192 16.7034 19.8458 15.0956 20.4265C13.4878 21.0073 11.7479 21.1181 10.0794 20.7461C8.41092 20.3741 6.8829 19.5345 5.67413 18.3258C4.46536 17.117 3.62584 15.589 3.25381 13.9205C2.88178 12.252 2.99262 10.5121 3.57336 8.9043C4.15411 7.29651 5.18073 5.88737 6.53311 4.84175C7.8855 3.79614 9.5077 3.15731 11.2099 3C10.2133 4.34827 9.73375 6.00945 9.85843 7.68141C9.98312 9.35338 10.7038 10.9251 11.8893 12.1106C13.0748 13.2961 14.6465 14.0168 16.3185 14.1415C17.9905 14.2662 19.6516 13.7866 20.9999 12.79V12.79Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"loader"},l("path",{d:"M12 2V6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 18V22",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4.92993 4.92969L7.75993 7.75969",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16.24 16.2397L19.07 19.0697",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M2 12H6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18 12H22",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4.92993 19.0697L7.75993 16.2397",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16.24 7.75969L19.07 4.92969",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"sun"},l("path",{d:"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 0.999023V2.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 21V23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4.21997 4.21973L5.63997 5.63973",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18.3601 18.3599L19.7801 19.7799",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M0.999268 12H2.99927",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21 12H23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4.21997 19.7799L5.63997 18.3599",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18.3601 5.63973L19.7801 4.21973",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"more-horizontal"},l("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"more-vertical"},l("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"disc"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"play-circle"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10 8L16 12L10 16V8Z",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"pause-circle"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10 15V9",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M14 15V9",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"play-circl-filled"},l("path",{d:"M12 22C17.5229 22 22 17.5228 22 12C22 6.47715 17.5229 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"}),l("path",{d:"M9.99951 8L15.9995 12L9.99951 16V8Z",fill:"none"})),l("symbol",{id:"pause-circle-filled"},l("path",{d:"M10.3337 8.66699H8.66699V15.3337H10.3337V8.66699Z",fill:"currentColor",stroke:"currentColor","stroke-width":"1.77629","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15.0002 8.66699H13.3335V15.3337H15.0002V8.66699Z",fill:"currentColor",stroke:"currentColor","stroke-width":"1.77629","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12.25 22.25C17.7728 22.25 22.25 17.7728 22.25 12.25C22.25 6.72715 17.7728 2.25 12.25 2.25C6.72715 2.25 2.25 6.72715 2.25 12.25C2.25 17.7728 6.72715 22.25 12.25 22.25Z",fill:"currentColor",stroke:"currentColor","stroke-width":"1.77629","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10.125 8.25H9V15.75H10.125V8.25Z",fill:"none",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15.75 8.25H14.625V15.75H15.75V8.25Z",fill:"none",stroke:"none","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"music"},l("path",{d:"M9 18V5L21 3V16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M6 21C7.65685 21 9 19.6569 9 18C9 16.3431 7.65685 15 6 15C4.34315 15 3 16.3431 3 18C3 19.6569 4.34315 21 6 21Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18 19C19.6569 19 21 17.6569 21 16C21 14.3431 19.6569 13 18 13C16.3431 13 15 14.3431 15 16C15 17.6569 16.3431 19 18 19Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"video-off"},l("path",{d:"M10.659 5H13.999C14.5295 5 15.0382 5.21071 15.4132 5.58579C15.7883 5.96086 15.999 6.46957 15.999 7V10.34L16.999 11.34L22.999 7V17M15.999 16V17C15.999 17.5304 15.7883 18.0391 15.4132 18.4142C15.0382 18.7893 14.5295 19 13.999 19H2.99902C2.46859 19 1.95988 18.7893 1.58481 18.4142C1.20974 18.0391 0.999023 17.5304 0.999023 17V7C0.999023 6.46957 1.20974 5.96086 1.58481 5.58579C1.95988 5.21071 2.46859 5 2.99902 5H4.99902L15.999 16Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M1 1L23 23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"video"},l("path",{d:"M23 7L16 12L23 17V7Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M13.999 5H2.99902C1.89445 5 0.999023 5.89543 0.999023 7V17C0.999023 18.1046 1.89445 19 2.99902 19H13.999C15.1036 19 15.999 18.1046 15.999 17V7C15.999 5.89543 15.1036 5 13.999 5Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"volume-x"},l("path",{d:"M11 5L6 9H2V15H6L11 19V5Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M23 9L17 15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M17 9L23 15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"volume"},l("path",{d:"M11 5L6 9H2V15H6L11 19V5Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"volume-1"},l("path",{d:"M11 5L6 9H2V15H6L11 19V5Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15.54 8.45996C16.4774 9.3976 17.004 10.6691 17.004 11.995C17.004 13.3208 16.4774 14.5923 15.54 15.53",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"volume-2"},l("path",{d:"M11 5L6 9H2V15H6L11 19V5Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M19.07 4.93018C20.9447 6.80545 21.9979 9.34853 21.9979 12.0002C21.9979 14.6518 20.9447 17.1949 19.07 19.0702M15.54 8.46018C16.4774 9.39781 17.004 10.6694 17.004 11.9952C17.004 13.321 16.4774 14.5925 15.54 15.5302",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"youtube"},l("path",{d:"M22.5394 6.42C22.4206 5.94541 22.1786 5.51057 21.838 5.15941C21.4974 4.80824 21.0701 4.55318 20.5994 4.42C18.8794 4 11.9994 4 11.9994 4C11.9994 4 5.11935 4 3.39935 4.46C2.9286 4.59318 2.50133 4.84824 2.1607 5.19941C1.82007 5.55057 1.57814 5.98541 1.45935 6.46C1.14457 8.20556 0.990587 9.97631 0.999351 11.75C0.98813 13.537 1.14212 15.3213 1.45935 17.08C1.59031 17.5398 1.83766 17.9581 2.17749 18.2945C2.51733 18.6308 2.93817 18.8738 3.39935 19C5.11935 19.46 11.9994 19.46 11.9994 19.46C11.9994 19.46 18.8794 19.46 20.5994 19C21.0701 18.8668 21.4974 18.6118 21.838 18.2606C22.1786 17.9094 22.4206 17.4746 22.5394 17C22.8517 15.2676 23.0057 13.5103 22.9994 11.75C23.0106 9.96295 22.8566 8.1787 22.5394 6.42V6.42Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9.75 15.02L15.5 11.75L9.75 8.47998V15.02Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"phone"},l("path",{d:"M21.9999 16.9201V19.9201C22.0011 20.1986 21.944 20.4743 21.8324 20.7294C21.7209 20.9846 21.5572 21.2137 21.352 21.402C21.1468 21.5902 20.9045 21.7336 20.6407 21.8228C20.3769 21.912 20.0973 21.9452 19.8199 21.9201C16.7428 21.5857 13.7869 20.5342 11.1899 18.8501C8.77376 17.3148 6.72527 15.2663 5.18993 12.8501C3.49991 10.2413 2.44818 7.27109 2.11993 4.1801C2.09494 3.90356 2.12781 3.62486 2.21643 3.36172C2.30506 3.09859 2.4475 2.85679 2.6347 2.65172C2.82189 2.44665 3.04974 2.28281 3.30372 2.17062C3.55771 2.05843 3.83227 2.00036 4.10993 2.0001H7.10993C7.59524 1.99532 8.06572 2.16718 8.43369 2.48363C8.80166 2.80008 9.04201 3.23954 9.10993 3.7201C9.23656 4.68016 9.47138 5.62282 9.80993 6.5301C9.94448 6.88802 9.9736 7.27701 9.89384 7.65098C9.81408 8.02494 9.6288 8.36821 9.35993 8.6401L8.08993 9.9101C9.51349 12.4136 11.5864 14.4865 14.0899 15.9101L15.3599 14.6401C15.6318 14.3712 15.9751 14.1859 16.3491 14.1062C16.723 14.0264 17.112 14.0556 17.4699 14.1901C18.3772 14.5286 19.3199 14.7635 20.2799 14.8901C20.7657 14.9586 21.2093 15.2033 21.5265 15.5776C21.8436 15.9519 22.0121 16.4297 21.9999 16.9201Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"tv"},l("path",{d:"M20 7H4C2.89543 7 2 7.89543 2 9V20C2 21.1046 2.89543 22 4 22H20C21.1046 22 22 21.1046 22 20V9C22 7.89543 21.1046 7 20 7Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M17 2L12 7L7 2",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"navigation-2"},l("path",{d:"M12 2L19 21L12 17L5 21L12 2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"image-2"},l("path",{d:"M2.81843 18.7018L6.25767 13.328C6.5373 12.8911 7.14405 12.8135 7.52467 13.1659L9.76863 15.2436C10.1106 15.5603 10.6458 15.5346 10.9559 15.1867L14.8561 10.8115C15.223 10.3998 15.8816 10.4522 16.1789 10.9167L21.1614 18.7018C21.5161 19.256 21.1181 19.9833 20.4601 19.9833H3.51973C2.86174 19.9833 2.46374 19.2561 2.81843 18.7018Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("circle",{cx:"9",cy:"7",r:"2",stroke:"currentColor","stroke-width":"2"})),l("symbol",{id:"trash-2"},l("path",{d:"M2.99976 6H4.99976H20.9998",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M7.99976 6V4C7.99976 3.46957 8.21047 2.96086 8.58554 2.58579C8.96061 2.21071 9.46932 2 9.99976 2H13.9998C14.5302 2 15.0389 2.21071 15.414 2.58579C15.789 2.96086 15.9998 3.46957 15.9998 4V6M18.9998 6V20C18.9998 20.5304 18.789 21.0391 18.414 21.4142C18.0389 21.7893 17.5302 22 16.9998 22H6.99976C6.46932 22 5.96061 21.7893 5.58554 21.4142C5.21047 21.0391 4.99976 20.5304 4.99976 20V6H18.9998Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9.99976 11V17",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M13.9998 11V17",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"trending-down"},l("path",{d:"M22.9993 18L13.4993 8.5L8.49927 13.5L0.999268 6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M17.0002 18H23.0002V12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"trending-up"},l("path",{d:"M22.999 6L13.499 15.5L8.49902 10.5L0.999023 18",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M17 6H23V12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"pie-chart"},l("path",{d:"M21.2099 15.8901C20.5737 17.3946 19.5787 18.7203 18.3118 19.7514C17.0449 20.7825 15.5447 21.4875 13.9424 21.8049C12.34 22.1222 10.6843 22.0422 9.12006 21.5719C7.55579 21.1015 6.13054 20.2551 4.96893 19.1067C3.80733 17.9583 2.94473 16.5428 2.45655 14.984C1.96837 13.4252 1.86948 11.7706 2.16851 10.1647C2.46755 8.55886 3.15541 7.05071 4.17196 5.77211C5.18851 4.49351 6.5028 3.4834 7.99992 2.83008",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M22 12C22 10.6868 21.7413 9.38642 21.2388 8.17316C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2V12H22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"plus"},l("path",{d:"M12 5V19",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M5 12H19",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"minus"},l("path",{d:"M5 12H19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"search"},l("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20.9999 20.9999L16.6499 16.6499",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"unlock"},l("path",{d:"M19 11H5C3.89543 11 3 11.8954 3 13V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V13C21 11.8954 20.1046 11 19 11Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M7 10.9997V6.99967C6.99876 5.75971 7.45828 4.56353 8.28938 3.64333C9.12047 2.72313 10.2638 2.14457 11.4975 2.01995C12.7312 1.89534 13.9671 2.23357 14.9655 2.96898C15.9638 3.70439 16.6533 4.78451 16.9 5.99967",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"power"},l("path",{d:"M18.3599 6.64014C19.6183 7.89893 20.4751 9.50258 20.8222 11.2483C21.1692 12.9941 20.9908 14.8035 20.3095 16.4479C19.6282 18.0923 18.4747 19.4977 16.9947 20.4865C15.5147 21.4753 13.7748 22.0031 11.9949 22.0031C10.215 22.0031 8.47503 21.4753 6.99505 20.4865C5.51507 19.4977 4.36152 18.0923 3.68024 16.4479C2.99897 14.8035 2.82057 12.9941 3.16759 11.2483C3.51462 9.50258 4.3715 7.89893 5.62988 6.64014",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M11.9998 2V12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"save"},l("path",{d:"M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M17 21V13H7V21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M7 3V8H15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"rotate-ccw"},l("path",{d:"M0.999023 4V10H6.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M3.50902 15C4.15742 16.8403 5.38636 18.4201 7.01068 19.5013C8.635 20.5825 10.5667 21.1065 12.5147 20.9944C14.4628 20.8823 16.3216 20.1401 17.8112 18.8797C19.3007 17.6193 20.3403 15.9089 20.7732 14.0063C21.2062 12.1037 21.0091 10.1119 20.2116 8.33105C19.4142 6.55019 18.0595 5.07674 16.3519 4.13271C14.6442 3.18868 12.6759 2.82521 10.7437 3.09707C8.81147 3.36892 7.01994 4.26137 5.63902 5.63995L0.999023 9.99995",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"rotate-cw"},l("path",{d:"M23 4V10H17",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20.4899 15C19.8398 16.8399 18.6094 18.4187 16.984 19.4985C15.3586 20.5783 13.4263 21.1006 11.4783 20.9866C9.53026 20.8726 7.67203 20.1286 6.18363 18.8667C4.69524 17.6047 3.6573 15.8932 3.22625 13.9901C2.79519 12.0869 2.99436 10.0952 3.79374 8.31508C4.59313 6.53496 5.94942 5.06288 7.65823 4.12065C9.36705 3.17843 11.3358 2.81711 13.2678 3.09116C15.1999 3.3652 16.9905 4.25975 18.3699 5.64001L22.9999 10",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"refresh-ccw"},l("path",{d:"M0.999023 4V10H6.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M22.9998 20V14H16.9998",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20.489 9.00008C19.9819 7.56686 19.1199 6.28548 17.9836 5.27549C16.8472 4.26551 15.4736 3.55984 13.9907 3.22433C12.5079 2.88883 10.9643 2.93442 9.50383 3.35685C8.0434 3.77928 6.71377 4.56479 5.63902 5.64008L0.999023 10.0001M22.999 14.0001L18.359 18.3601C17.2843 19.4354 15.9547 20.2209 14.4942 20.6433C13.0338 21.0657 11.4901 21.1113 10.0073 20.7758C8.52449 20.4403 7.15082 19.7346 6.01449 18.7247C4.87816 17.7147 4.01619 16.4333 3.50902 15.0001",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"share"},l("path",{d:"M4 12V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 6L12 2L8 6",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 2V15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"shopping-bag"},l("path",{d:"M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M3 6H21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"sliders"},l("path",{d:"M4 21V14",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4 10V3",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 21V12",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 8V3",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 21V16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 12V3",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M0.999023 14H6.99902",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9 8H15",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M17 16H23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"star"},l("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"stop-circle"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15 9H9V15H15V9Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"tag"},l("path",{d:"M20.59 13.41L13.42 20.58C13.2343 20.766 13.0137 20.9135 12.7709 21.0141C12.5281 21.1148 12.2678 21.1666 12.005 21.1666C11.7422 21.1666 11.4819 21.1148 11.2391 21.0141C10.9963 20.9135 10.7757 20.766 10.59 20.58L2 12V2H12L20.59 10.59C20.9625 10.9647 21.1716 11.4716 21.1716 12C21.1716 12.5284 20.9625 13.0353 20.59 13.41V13.41Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M7 7H7.01",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"thumbs-down"},l("path",{d:"M17 1.99987H19.67C20.236 1.98986 20.7859 2.18801 21.2154 2.55669C21.645 2.92538 21.9242 3.43893 22 3.99987V10.9999C21.9242 11.5608 21.645 12.0744 21.2154 12.4431C20.7859 12.8117 20.236 13.0099 19.67 12.9999H17M10 14.9999V18.9999C10 19.7955 10.3161 20.5586 10.8787 21.1212C11.4413 21.6838 12.2044 21.9999 13 21.9999L17 12.9999V1.99987H5.72003C5.2377 1.99442 4.76965 2.16347 4.40212 2.47587C4.0346 2.78827 3.79235 3.22297 3.72003 3.69987L2.34003 12.6999C2.29652 12.9865 2.31586 13.2792 2.39669 13.5576C2.47753 13.8361 2.61793 14.0936 2.80817 14.3124C2.99842 14.5311 3.23395 14.7059 3.49846 14.8247C3.76297 14.9434 4.05012 15.0032 4.34003 14.9999H10Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"thumbs-up"},l("path",{d:"M7 22H4C3.46957 22 2.96086 21.7893 2.58579 21.4142C2.21071 21.0391 2 20.5304 2 20V13C2 12.4696 2.21071 11.9609 2.58579 11.5858C2.96086 11.2107 3.46957 11 4 11H7M14 9V5C14 4.20435 13.6839 3.44129 13.1213 2.87868C12.5587 2.31607 11.7957 2 11 2L7 11V22H18.28C18.7623 22.0055 19.2304 21.8364 19.5979 21.524C19.9654 21.2116 20.2077 20.7769 20.28 20.3L21.66 11.3C21.7035 11.0134 21.6842 10.7207 21.6033 10.4423C21.5225 10.1638 21.3821 9.90629 21.1919 9.68751C21.0016 9.46873 20.7661 9.29393 20.5016 9.17522C20.2371 9.0565 19.9499 8.99672 19.66 9H14Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"zap-off"},l("path",{d:"M12.4101 6.75L13.0001 2L10.5701 4.92",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M18.5699 12.91L20.9999 10H15.6599",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 8L3 14H12L11 22L16 16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M1 1L23 23",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"zap"},l("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"wifi"},l("path",{d:"M5 12.5498C6.97656 10.9035 9.46761 10.002 12.04 10.002C14.6124 10.002 17.1034 10.9035 19.08 12.5498",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M1.41992 8.99979C4.34234 6.42376 8.10422 5.00244 11.9999 5.00244C15.8956 5.00244 19.6575 6.42376 22.5799 8.99979",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8.53003 16.1088C9.54523 15.3881 10.7597 15.001 12.005 15.001C13.2504 15.001 14.4648 15.3881 15.48 16.1088",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 20H12.01",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"send"},l("path",{d:"M22 2L11 13",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"lunch"},l("path",{d:"M2 19C2 20.1 2.9 21 4 21H20C21.1 21 22 20.1 22 19V16H2V19ZM4 18H20V19H4V18ZM18.66 11.5C16.71 11.5 16.57 12.5 15.33 12.5C14.14 12.5 13.91 11.5 12 11.5C10.05 11.5 9.91 12.5 8.67 12.5C7.48 12.5 7.25 11.5 5.34 11.5C3.39 11.5 3.25 12.5 2.01 12.5V14.5C3.91 14.5 4.18 13.5 5.36 13.5C6.55 13.5 6.78 14.5 8.69 14.5C10.64 14.5 10.78 13.5 12.02 13.5C13.21 13.5 13.44 14.5 15.35 14.5C17.3 14.5 17.44 13.5 18.68 13.5C19.87 13.5 20.08 14.48 22 14.5L21.99 12.52C20.38 12.19 20.37 11.5 18.66 11.5ZM22 9C22.02 5 17.72 3 12 3C6.29 3 2 5 2 9V10H22V9ZM4.18 8C5.01 5.81 8.61 5 12 5C15.31 5 17.93 5.73 19.19 6.99C19.49 7.3 19.71 7.63 19.84 8H4.18Z",fill:"currentColor"})),l("symbol",{id:"drinks"},l("path",{d:"M15.7201 2.21985C15.8623 2.08737 16.0503 2.01524 16.2446 2.01867C16.4389 2.0221 16.6243 2.10081 16.7617 2.23822C16.8991 2.37564 16.9778 2.56102 16.9813 2.75532C16.9847 2.94963 16.9126 3.13767 16.7801 3.27985L15.5601 4.49985H17.7501C18.0671 4.49985 18.3501 4.69985 18.4561 4.99785L19.7061 8.49785C19.7465 8.61099 19.759 8.73218 19.7428 8.85121C19.7266 8.97024 19.682 9.08363 19.6128 9.18183C19.5436 9.28003 19.4518 9.36018 19.3452 9.41552C19.2386 9.47086 19.1202 9.49978 19.0001 9.49985H17.9561L16.3681 19.5498C16.1581 21.0148 14.9091 21.9998 13.3981 21.9998H10.6021C9.09209 21.9998 7.84209 21.0148 7.63409 19.5598L6.04409 9.49985H5.00009C4.87996 9.49978 4.7616 9.47086 4.65498 9.41552C4.54835 9.36018 4.45658 9.28003 4.38739 9.18183C4.3182 9.08363 4.27361 8.97024 4.25737 8.85121C4.24113 8.73218 4.25373 8.61099 4.29409 8.49785L5.54409 4.99785C5.59606 4.85217 5.69179 4.72613 5.81818 4.63698C5.94457 4.54783 6.09543 4.49993 6.25009 4.49985H13.4381L15.7201 2.21985ZM16.4361 9.49985H7.56309L9.11709 19.3368C9.21709 20.0318 9.81009 20.4998 10.6021 20.4998H13.3981C14.1911 20.4998 14.7841 20.0318 14.8851 19.3258L16.4361 9.49985ZM17.2221 5.99985H6.77909L6.06409 7.99985H17.9361L17.2221 5.99985Z",fill:"currentColor"})),l("symbol",{id:"atm"},l("path",{d:"M8 9V10.5H10.25V15H11.75V10.5H14V9H8ZM6 9H3C2.45 9 2 9.45 2 10V15H3.5V13.5H5.5V15H7V10C7 9.45 6.55 9 6 9ZM5.5 12H3.5V10.5H5.5V12ZM21 9H16.5C15.95 9 15.5 9.45 15.5 10V15H17V10.5H18V14H19.5V10.49H20.5V15H22V10C22 9.45 21.55 9 21 9Z",fill:"currentColor"})),l("symbol",{id:"user"},l("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"users"},l("path",{d:"M16.999 21V19C16.999 17.9391 16.5776 16.9217 15.8274 16.1716C15.0773 15.4214 14.0599 15 12.999 15H4.99902C3.93816 15 2.92074 15.4214 2.1706 16.1716C1.42045 16.9217 0.999023 17.9391 0.999023 19V21",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9 11C11.2091 11 13 9.20914 13 7C13 4.79086 11.2091 3 9 3C6.79086 3 5 4.79086 5 7C5 9.20914 6.79086 11 9 11Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M23 20.9999V18.9999C22.9993 18.1136 22.7044 17.2527 22.1614 16.5522C21.6184 15.8517 20.8581 15.3515 20 15.1299",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 3.12988C16.8604 3.35018 17.623 3.85058 18.1676 4.55219C18.7122 5.2538 19.0078 6.11671 19.0078 7.00488C19.0078 7.89305 18.7122 8.75596 18.1676 9.45757C17.623 10.1592 16.8604 10.6596 16 10.8799",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"qr-code"},l("path",{d:"M2 10.8889H10.8889V2H2V10.8889ZM4.22222 4.22222H8.66667V8.66667H4.22222V4.22222ZM2 22H10.8889V13.1111H2V22ZM4.22222 15.3333H8.66667V19.7778H4.22222V15.3333ZM13.1111 2V10.8889H22V2H13.1111ZM19.7778 8.66667H15.3333V4.22222H19.7778V8.66667ZM19.7778 19.7778H22V22H19.7778V19.7778ZM13.1111 13.1111H15.3333V15.3333H13.1111V13.1111ZM15.3333 15.3333H17.5556V17.5556H15.3333V15.3333ZM13.1111 17.5556H15.3333V19.7778H13.1111V17.5556ZM15.3333 19.7778H17.5556V22H15.3333V19.7778ZM17.5556 17.5556H19.7778V19.7778H17.5556V17.5556ZM17.5556 13.1111H19.7778V15.3333H17.5556V13.1111ZM19.7778 15.3333H22V17.5556H19.7778V15.3333Z",fill:"currentColor"})),l("symbol",{id:"cab"},l("circle",{cx:"6.81607",cy:"17.1222",r:"1.86197",fill:"currentColor"}),l("circle",{cx:"18.0402",cy:"17.1222",r:"1.86197",fill:"currentColor"}),l("path",{d:"M3.0401 16.6833C3.14354 16.7247 3.84178 16.735 4.17797 16.735C4.30727 16.3816 4.54872 15.6308 4.6176 15.5195C4.82037 15.1921 5.26791 14.2864 7.20367 14.4075C8.84345 14.5102 9.4708 15.9592 9.63458 16.735L15.3239 16.6833C15.4274 16.3816 15.6328 15.6186 15.9705 15.2351C16.5487 14.5784 16.7529 14.4075 18.5565 14.4075C20.0263 14.4075 20.5718 15.7376 20.8064 16.6833C20.884 16.735 21.2098 16.7867 21.8926 16.5798C22.746 16.3212 22.6151 15.2031 22.5132 14.4075C22.4129 13.6237 22.196 12.4664 21.1426 11.7697C19.8217 10.8962 18.5565 11.4417 17.2635 9.59744C16.0198 7.82354 12.954 6.14197 12.0655 6.05454C10.6845 5.91867 7.20367 6.00282 5.67789 6.44245C4.15211 6.88209 3.38822 9.12333 2.85907 10.1923C2.36043 11.1996 1.68375 14.7147 2.16083 15.5454C2.4957 16.1285 2.91079 16.6316 3.0401 16.6833Z",fill:"currentColor"}),l("path",{d:"M8.67886 10.3193V8.51395C8.67886 8.21268 8.43476 7.96548 8.13354 7.9598C7.58344 7.94944 6.91925 7.94455 6.71344 8.04603C6.0489 8.37371 5.75961 8.65519 5.47213 9.08046C5.16701 9.53181 5.01361 9.87223 4.91687 10.161C4.80104 10.5067 5.08811 10.8648 5.45274 10.8648H8.13335C8.43463 10.8648 8.67886 10.6206 8.67886 10.3193Z",fill:"currentColor"}),l("path",{d:"M10.0225 10.3194V8.43638C10.0225 8.13511 10.2664 7.88869 10.5677 7.89245C11.1589 7.89982 11.9743 7.93542 12.5827 8.09776C13.4549 8.33052 14.5742 9.5325 15.3429 10.4151C15.496 10.5909 15.3699 10.8649 15.1367 10.8649L10.568 10.8649C10.2667 10.8649 10.0225 10.6206 10.0225 10.3194Z",fill:"currentColor"})),l("symbol",{id:"google"},l("path",{d:"M11.7901 21.9818C14.4279 21.9818 16.646 21.0825 18.2646 19.5638C20.1231 17.8053 21.1822 15.2474 21.1822 12.21C21.1822 11.3906 21.1222 10.7912 20.9824 10.1717H11.7901V13.8686H17.1855C17.0656 14.7878 16.4861 16.1866 15.1872 17.1059C14.3479 17.7053 13.2488 18.105 11.7901 18.105C9.19225 18.105 6.9941 16.3665 6.21475 13.9685C6.01492 13.349 5.89502 12.6896 5.89502 11.9901C5.89502 11.2907 6.01492 10.6313 6.21475 10.0118C6.9941 7.59384 9.19225 5.8553 11.7901 5.8553C13.6285 5.8553 14.8675 6.67461 15.5669 7.35404L18.3246 4.59635C16.646 2.97771 14.4279 1.99854 11.7901 1.99854C7.95329 1.99854 4.65606 4.23666 3.03742 7.49392C2.37797 8.85278 1.99829 10.3915 1.99829 11.9901C1.99829 13.5888 2.37797 15.1075 3.03742 16.4664C4.63608 19.7436 7.95329 21.9818 11.7901 21.9818Z",fill:"currentColor"})),l("symbol",{id:"facebook"},l("path",{d:"M13.2 22V12H15.96L16.34 8.54H13.2L13.22 6.82C13.22 5.92 13.3 5.44 14.58 5.44H16.32V2H13.56C10.24 2 9.06 3.66 9.06 6.48V8.54H7V12H9.06V22H13.2Z",fill:"currentColor"})),l("symbol",{id:"twitter-fill"},l("path",{d:"M11.7101 8.81294L11.7501 9.51236L11.0307 9.43242C8.39292 9.09271 6.09485 7.95366 4.15648 6.05526L3.19728 5.09606L2.95749 5.79548C2.43792 7.35417 2.75765 9.01278 3.85673 10.1119C4.41626 10.7313 4.29636 10.8113 3.2972 10.4516C2.95749 10.3317 2.65774 10.2517 2.61777 10.2917C2.51785 10.3916 2.85757 11.7305 3.13733 12.2501C3.51702 12.9695 4.27638 13.6888 5.11567 14.1085L5.83507 14.4482L4.99577 14.4682C4.17646 14.4682 4.15648 14.4682 4.23641 14.7879C4.51618 15.7271 5.6752 16.7263 6.93415 17.1659L7.83339 17.4857L7.05405 17.9453C5.89502 18.6247 4.53616 19.0044 3.1773 19.0244C2.53784 19.0444 1.99829 19.1043 1.99829 19.1443C1.99829 19.2842 3.75681 20.1035 4.79594 20.4232C7.85337 21.3824 11.5103 20.9627 14.268 19.3441C16.2064 18.1851 18.1647 15.907 19.064 13.6888C19.5635 12.5098 20.0431 10.3517 20.0431 9.31252C20.0431 8.65308 20.0831 8.55316 20.9024 7.75383C21.382 7.29422 21.8216 6.77465 21.9016 6.63477C22.0614 6.35501 22.0415 6.35501 21.3021 6.59481C20.0831 7.03444 19.9033 6.97449 20.5028 6.33502C20.9624 5.85543 21.5019 5.01613 21.5019 4.77633C21.5019 4.71638 21.2821 4.79632 21.0223 4.9362C20.7625 5.07608 20.183 5.2959 19.7634 5.4158L18.984 5.67558L18.2646 5.19598C17.885 4.9362 17.3254 4.63645 17.0457 4.55652C16.3063 4.3367 15.1872 4.37667 14.5278 4.61647C12.7093 5.25593 11.5703 6.9545 11.7101 8.81294Z",fill:"currentColor"})),l("symbol",{id:"twitter-outline"},l("path",{d:"M22.9993 2.9998C22.0417 3.67528 20.9814 4.19191 19.8593 4.5298C19.257 3.83731 18.4566 3.34649 17.5663 3.12373C16.676 2.90096 15.7388 2.957 14.8814 3.28426C14.0239 3.61151 13.2877 4.1942 12.7723 4.95352C12.2568 5.71283 11.987 6.61214 11.9993 7.5298V8.5298C10.2419 8.57537 8.50054 8.18561 6.93028 7.39525C5.36001 6.60488 4.00959 5.43844 2.99927 3.9998C2.99927 3.9998 -1.00073 12.9998 7.99927 16.9998C5.9398 18.3978 3.48642 19.0987 0.999268 18.9998C9.99927 23.9998 20.9993 18.9998 20.9993 7.4998C20.9983 7.22126 20.9716 6.9434 20.9193 6.6698C21.9399 5.6633 22.6601 4.39251 22.9993 2.9998V2.9998Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"dribbble"},l("path",{d:"M12 3C7.03702 3 3 7.03702 3 12C3 16.963 7.03702 21 12 21C16.963 21 21 16.963 21 12C21 7.03702 16.963 3 12 3ZM17.9517 7.14952C19.0226 8.45841 19.6716 10.1243 19.6868 11.9394C19.4337 11.8853 16.8916 11.3704 14.3344 11.6928C14.2803 11.5608 14.2262 11.4288 14.17 11.2969C14.0099 10.9226 13.8389 10.5483 13.6594 10.1827C16.5 9.02091 17.7894 7.37019 17.9517 7.14952ZM12 4.32404C13.9536 4.32404 15.7385 5.05745 17.095 6.26034C16.9565 6.45721 15.799 8.01274 13.0666 9.03822C11.8075 6.72332 10.412 4.8238 10.1978 4.53822C10.7885 4.39543 11.3921 4.32404 12 4.32404ZM8.73101 5.05529C8.93437 5.33221 10.3082 7.23822 11.5803 9.5012C7.98462 10.4553 4.81731 10.4423 4.47332 10.438C4.97308 8.05168 6.58053 6.06995 8.73101 5.05529ZM4.31322 12.0108C4.31322 11.9329 4.31538 11.8529 4.31755 11.775C4.65288 11.7815 8.37837 11.8291 12.2185 10.6803C12.4392 11.1108 12.649 11.5478 12.8416 11.9849C12.7399 12.013 12.6382 12.0433 12.5387 12.0757C8.57308 13.3608 6.4637 16.8548 6.28846 17.1512C5.06178 15.7882 4.31322 13.9861 4.31322 12.0108ZM12 19.6976C10.2216 19.6976 8.58389 19.0918 7.28149 18.075C7.41995 17.7916 8.97548 14.7865 13.3111 13.2743L13.3608 13.257C14.4404 16.0608 14.8861 18.4125 15.0007 19.0875C14.0524 19.4928 13.0313 19.7004 12 19.6976ZM16.2945 18.3844C16.2166 17.9171 15.8077 15.6671 14.8017 12.9043C17.2118 12.5192 19.3276 13.151 19.5894 13.2332C19.2476 15.3707 18.0209 17.2183 16.2945 18.3844Z",fill:"currentColor"})),l("symbol",{id:"instagram"},l("path",{d:"M17 2H7C4.23858 2 2 4.23858 2 7V17C2 19.7614 4.23858 22 7 22H17C19.7614 22 22 19.7614 22 17V7C22 4.23858 19.7614 2 17 2Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M16 11.3698C16.1234 12.2021 15.9812 13.052 15.5937 13.7988C15.2062 14.5456 14.5931 15.1512 13.8416 15.5295C13.0901 15.9077 12.2384 16.0394 11.4077 15.9057C10.5771 15.7721 9.80971 15.3799 9.21479 14.785C8.61987 14.1901 8.22768 13.4227 8.09402 12.592C7.96035 11.7614 8.09202 10.9097 8.47028 10.1582C8.84854 9.40667 9.45414 8.79355 10.2009 8.40605C10.9477 8.01856 11.7977 7.8764 12.63 7.99981C13.4789 8.1257 14.2648 8.52128 14.8716 9.12812C15.4785 9.73496 15.8741 10.5209 16 11.3698Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M17.5 6.5H17.51",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"UPI"},l("path",{d:"M19.181 12.2557L14.1677 2.7373L8.55371 21.982L19.181 12.2557Z",fill:"currentColor"}),l("path",{d:"M4.99585 21.2664L10.5636 1.99854L15.5308 11.5862L4.99585 21.2664Z",fill:"currentColor"})),l("symbol",{id:"account"},l("circle",{cx:"11.9901",cy:"11.9901",r:"9.99161",fill:"currentColor"})),l("symbol",{id:"settings"},l("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15V15Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"lock"},l("path",{d:"M19 11H5C3.89543 11 3 11.8954 3 13V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V13C21 11.8954 20.1046 11 19 11Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"smile"},l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M9 9H9.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15 9H15.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"user-plus"},l("path",{d:"M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8.5 11C10.7091 11 12.5 9.20914 12.5 7C12.5 4.79086 10.7091 3 8.5 3C6.29086 3 4.5 4.79086 4.5 7C4.5 9.20914 6.29086 11 8.5 11Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 8V14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M23 11H17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"skip-back"},l("path",{d:"M19 4L9 12L19 20V4Z",fill:"currentColor",stroke:"currentColor","stroke-width":"1.33962","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M5 5V19",stroke:"currentColor","stroke-width":"1.33962","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"skip-forward"},l("path",{d:"M5 20L15 12L5 4V20Z",fill:"currentColor",stroke:"currentColor","stroke-width":"1.33962","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M19 19V5",stroke:"currentColor","stroke-width":"1.33962","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"shuffle"},l("path",{d:"M16 3H21V8",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4 20L21 3",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M21 16V21H16",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M15 15L21 21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4 4L9 9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"info-line"},l("circle",{cx:"12.421",cy:"19.5817",r:"1.42102",fill:"currentColor"}),l("rect",{x:"11",y:"3.00098",width:"2.84204",height:"12.4339",rx:"1.42102",fill:"currentColor"})),l("symbol",{id:"amazon-pay"},l("path",{d:"M0.525146 14.5982C0.611396 14.4407 0.720146 14.4144 0.888896 14.5044C1.2789 14.7144 1.6614 14.9319 2.0589 15.1307C3.58017 15.8893 5.18304 16.4718 6.8364 16.8669C7.6179 17.0552 8.40915 17.2029 9.2064 17.3094C10.3869 17.4684 11.5779 17.5329 12.7689 17.5044C15.5458 17.4225 18.2839 16.8301 20.8464 15.7569C20.9551 15.7119 21.0676 15.6819 21.1876 15.7119C21.4389 15.7794 21.5251 16.0494 21.3414 16.2332C21.2296 16.3359 21.1089 16.4289 20.9814 16.5107C19.8301 17.3019 18.5739 17.8757 17.2464 18.3069C16.3271 18.6031 15.3853 18.8238 14.4301 18.9669C13.7694 19.0682 13.1034 19.1282 12.4351 19.1469C12.4037 19.1488 12.3724 19.1525 12.3414 19.1582H11.5501C11.5191 19.1529 11.4878 19.1491 11.4564 19.1469C11.3214 19.1394 11.1864 19.1357 11.0551 19.1319C9.3803 19.0508 7.727 18.7197 6.15015 18.1494C4.13714 17.4234 2.28322 16.3157 0.690146 14.8869C0.622646 14.8269 0.577646 14.7444 0.525146 14.6732V14.5982ZM6.45015 4.84066L6.2889 4.86316C5.77325 4.92681 5.28259 5.12178 4.8639 5.42941C4.7739 5.49316 4.6914 5.56066 4.59765 5.63191C4.58971 5.61539 4.58464 5.59764 4.58265 5.57941C4.56765 5.47816 4.55265 5.37316 4.5339 5.27191C4.50765 5.09941 4.4214 5.02441 4.2489 5.02441H3.81765C3.5589 5.02441 3.51015 5.07316 3.51015 5.33191V13.1807C3.51015 13.2182 3.51015 13.2557 3.5139 13.2932C3.5214 13.4057 3.5889 13.4769 3.69765 13.4807C3.96015 13.4844 4.2264 13.4844 4.4889 13.4807C4.59765 13.4807 4.66515 13.4057 4.6764 13.2932C4.68015 13.2557 4.68015 13.2182 4.68015 13.1807V10.4657C4.7214 10.4994 4.7439 10.5182 4.76265 10.5369C5.4339 11.0957 6.2064 11.2794 7.05015 11.1144C7.81515 10.9644 8.34765 10.4957 8.69265 9.80567C8.95515 9.28442 9.0639 8.72941 9.0789 8.15191C9.09765 7.51066 9.0339 6.88066 8.77515 6.28441C8.4564 5.54941 7.92765 5.06566 7.1289 4.90066C7.0089 4.87441 6.88515 4.86316 6.7614 4.84441C6.6564 4.84066 6.55515 4.84066 6.45015 4.84066ZM4.67265 6.41191C4.67042 6.38736 4.67523 6.36268 4.68652 6.34077C4.69781 6.31885 4.71511 6.3006 4.7364 6.28816C5.25015 5.93191 5.8164 5.74441 6.4464 5.79316C7.00515 5.83441 7.46265 6.10816 7.70265 6.76442C7.8489 7.16567 7.8864 7.58191 7.8864 8.00191C7.8864 8.39192 7.8564 8.77442 7.7364 9.14942C7.4814 9.94817 6.8964 10.2519 6.1389 10.2182C5.6139 10.1957 5.1564 9.99317 4.7364 9.69692C4.71542 9.68415 4.69836 9.66584 4.68711 9.64401C4.67587 9.62217 4.67086 9.59766 4.67265 9.57317C4.6764 9.04442 4.67265 8.51941 4.67265 7.99066C4.67265 7.46191 4.6764 6.94066 4.67265 6.41191ZM12.3864 4.84066C12.3489 4.84441 12.3114 4.85191 12.2776 4.85566C11.9122 4.87119 11.5492 4.92269 11.1939 5.00941C10.9651 5.06941 10.7439 5.15191 10.5226 5.22691C10.3876 5.27191 10.3201 5.36941 10.3239 5.51566C10.3276 5.63941 10.3201 5.76316 10.3239 5.88691C10.3276 6.06691 10.4026 6.11566 10.5789 6.07066C10.8714 5.99566 11.1639 5.91316 11.4601 5.85691C11.9214 5.77066 12.3864 5.73316 12.8551 5.80441C13.0989 5.84191 13.3276 5.91316 13.4851 6.11941C13.6239 6.29941 13.6764 6.51316 13.6839 6.73441C13.6951 7.04566 13.6914 7.35691 13.6951 7.66817C13.6942 7.68585 13.6917 7.70342 13.6876 7.72066C13.6689 7.71691 13.6539 7.72066 13.6389 7.71691C13.2453 7.61941 12.8436 7.5579 12.4389 7.53316C12.0151 7.51066 11.5951 7.53691 11.1901 7.67941C10.7064 7.84816 10.3164 8.14066 10.0876 8.61316C9.9114 8.98066 9.88515 9.37067 9.9414 9.76442C10.0164 10.2894 10.2789 10.6944 10.7439 10.9532C11.1901 11.2007 11.6739 11.2307 12.1651 11.1557C12.7225 11.0682 13.2452 10.8295 13.6764 10.4657C13.6945 10.4493 13.7147 10.4354 13.7364 10.4244C13.7589 10.5669 13.7776 10.7019 13.8039 10.8369C13.8264 10.9532 13.8976 11.0282 14.0064 11.0319C14.2089 11.0357 14.4151 11.0357 14.6176 11.0319C14.6646 11.0315 14.7096 11.013 14.7432 10.9801C14.7768 10.9472 14.7963 10.9026 14.7976 10.8557C14.8008 10.8208 14.802 10.7857 14.8014 10.7507V6.77566C14.8037 6.61376 14.7924 6.45194 14.7676 6.29191C14.6964 5.80816 14.4901 5.41066 14.0551 5.15191C13.8039 5.00191 13.5264 4.92691 13.2376 4.88566C13.1026 4.86691 12.9676 4.85566 12.8326 4.83691C12.6864 4.84066 12.5364 4.84066 12.3864 4.84066ZM13.6989 9.62942C13.7003 9.65146 13.6958 9.67348 13.6859 9.69324C13.676 9.713 13.6611 9.72979 13.6426 9.74192C13.2226 10.0457 12.7614 10.2482 12.2401 10.3007C12.0264 10.3232 11.8126 10.3157 11.6101 10.2332C11.4989 10.1925 11.3988 10.1261 11.318 10.0394C11.2372 9.95278 11.1779 9.84827 11.1451 9.73442C11.0708 9.4978 11.0695 9.24428 11.1414 9.00692C11.2351 8.69567 11.4564 8.51941 11.7564 8.42191C12.0575 8.33096 12.374 8.30288 12.6864 8.33942C13.0014 8.36566 13.3089 8.42567 13.6239 8.46692C13.6839 8.47442 13.7026 8.50442 13.7026 8.56442C13.6989 8.74442 13.7026 8.92067 13.7026 9.10067C13.7026 9.28067 13.6951 9.45317 13.6989 9.62942ZM23.4451 14.4819C23.4076 14.2944 23.2651 14.2232 23.1039 14.1707C22.8483 14.0903 22.5838 14.0412 22.3164 14.0244C21.8254 13.9824 21.331 14.0064 20.8464 14.0957C20.3101 14.1969 19.8001 14.3694 19.3464 14.6807C19.2923 14.7154 19.2453 14.7599 19.2076 14.8119C19.1947 14.8344 19.1863 14.8593 19.1831 14.885C19.1799 14.9108 19.1818 14.9369 19.1889 14.9619C19.2039 15.0182 19.2676 15.0332 19.3239 15.0294C19.3514 15.03 19.379 15.0288 19.4064 15.0257C19.6989 14.9957 19.9876 14.9619 20.2801 14.9319C20.7076 14.8907 21.1389 14.8644 21.5664 14.8982C21.7494 14.9132 21.9301 14.9469 22.1064 14.9994C22.2976 15.0519 22.3839 15.1944 22.3914 15.3894C22.4064 15.6894 22.3389 15.9782 22.2601 16.2632C22.1064 16.8407 21.8851 17.3994 21.6676 17.9544C21.6518 17.9907 21.6392 18.0284 21.6301 18.0669C21.6114 18.1757 21.6751 18.2469 21.7839 18.2207C21.8511 18.2057 21.9131 18.1734 21.9639 18.1269C22.1334 17.9694 22.2924 17.8022 22.4401 17.6244C22.9201 17.0094 23.2014 16.3007 23.3664 15.5394C23.3964 15.4044 23.4189 15.2657 23.4451 15.1307V14.4819ZM18.4914 9.86192L17.0401 5.84191C16.9651 5.62816 16.8826 5.41816 16.8039 5.20816C16.7626 5.09941 16.6839 5.02816 16.5639 5.02816C16.2789 5.02441 15.9939 5.02066 15.7051 5.02441C15.6114 5.02441 15.5664 5.09941 15.5851 5.19316C15.6031 5.27116 15.6271 5.34766 15.6564 5.42191C16.3914 7.24066 17.1301 9.05942 17.8726 10.8782C17.9364 11.0319 17.9514 11.1632 17.8801 11.3207C17.7564 11.5944 17.6589 11.8832 17.5314 12.1569C17.4189 12.4007 17.2314 12.5844 16.9614 12.6557C16.7731 12.7049 16.5773 12.7189 16.3839 12.6969C16.2901 12.6894 16.1964 12.6669 16.1026 12.6594C15.9751 12.6519 15.9114 12.7082 15.9076 12.8394C15.9039 12.9631 15.9039 13.0869 15.9076 13.2107C15.9114 13.4169 15.9826 13.5107 16.1851 13.5444C16.3944 13.5857 16.6059 13.6112 16.8189 13.6194C17.4601 13.6344 17.9701 13.3757 18.3001 12.8169C18.4329 12.5964 18.5484 12.3654 18.6451 12.1269C19.5339 9.88442 20.4166 7.63966 21.2926 5.39191C21.3204 5.32591 21.3399 5.25616 21.3526 5.18566C21.3676 5.08066 21.3189 5.02066 21.2139 5.02066C20.9664 5.01691 20.7151 5.02066 20.4676 5.02066C20.4047 5.01626 20.342 5.03306 20.2897 5.0684C20.2373 5.10374 20.1983 5.15559 20.1789 5.21566C20.1601 5.26816 20.1376 5.31691 20.1189 5.36941L18.8139 9.11942C18.7201 9.38942 18.6226 9.66317 18.5251 9.95192C18.5101 9.91067 18.5026 9.88816 18.4914 9.86192Z",fill:"currentColor"})),l("symbol",{id:"paypal"},l("path",{d:"M6.6795 3.75L6.53925 4.33575L3.77325 17.0858L3.5625 18H7.21875L6.77325 20.0858L6.5625 21H11.7892L11.9062 20.3903L12.6795 16.7812H14.6955C17.5162 16.7812 19.995 14.9475 20.625 12C20.9557 10.4505 20.6047 9.138 19.875 8.25C19.2825 7.53 18.48 7.095 17.6483 6.89025C17.487 6.14925 17.1473 5.51925 16.6875 5.03925C15.8348 4.15125 14.6512 3.75 13.5465 3.75H6.6795ZM7.89825 5.25H13.5465C14.2823 5.25 15.0938 5.53425 15.609 6.0705C16.125 6.60675 16.4265 7.371 16.149 8.67225C15.654 10.992 13.9012 12.2812 11.6955 12.2812H8.46L8.343 12.867L7.5705 16.5H5.4375L7.89825 5.25ZM9.7965 6.35175L9.65625 6.9375L8.883 10.4062L8.67225 11.3205H11.3198C12.6533 11.3205 13.8045 10.3507 14.1322 9.04725H14.1562C14.1593 9.03225 14.1532 9.015 14.1562 9C14.3205 8.34375 14.2148 7.67025 13.8517 7.1715C13.4797 6.6615 12.8527 6.35175 12.1875 6.35175H9.7965ZM10.992 7.85175H12.1875C12.4222 7.85175 12.5452 7.91925 12.633 8.03925C12.7207 8.15925 12.7823 8.35275 12.7028 8.64825V8.6715C12.5625 9.279 11.8447 9.8205 11.3205 9.8205H10.5472L10.992 7.85175ZM17.6955 8.508C18.0907 8.66925 18.4627 8.889 18.7267 9.21075C19.1632 9.741 19.4032 10.4738 19.1483 11.6715C18.6532 13.992 16.9012 15.2812 14.6955 15.2812H11.46L11.343 15.867L10.5705 19.5H8.4375L8.766 18H8.7885L8.90625 17.3903L9.6795 13.7812H11.6955C14.5162 13.7812 16.995 11.9475 17.625 9C17.6602 8.82975 17.6745 8.6715 17.6955 8.508Z",fill:"currentColor"})),l("symbol",{id:"snake"},l("path",{d:"M20.6644 17.4324C20.6632 16.3967 20.0995 15.5161 19.1354 15.1238C18.1952 14.7419 17.1266 15.1098 16.4952 15.8736C15.8266 16.6822 15.6038 17.8042 14.7031 18.4268C13.8511 19.0156 12.6332 19.1885 11.6574 18.8303C10.5997 18.4434 10.3768 17.1937 10.5904 16.2075C10.8488 15.0136 11.7952 14.2839 12.6649 13.5175C14.3579 12.0267 15.637 9.93747 15.904 7.67182C16.1694 5.41699 15.3268 3.14473 13.5509 1.70548C11.7186 0.220572 9.03272 -0.350881 6.74541 0.214385C5.19469 0.598197 3.69586 1.82079 4.05338 3.57729C4.27467 4.68148 5.7 5.20924 6.6997 5.20807C7.28006 5.20769 7.84261 5.03782 8.42142 5.01851C8.98092 5.00032 9.56667 5.10326 10.0688 5.35704C11.1622 5.90918 11.1072 7.14297 10.6314 8.12064C10.0982 9.21672 9.15033 9.9611 8.2837 10.7794C6.48075 12.4813 5.4315 14.6998 5.52202 17.2123C5.60634 19.5337 6.74386 21.7568 8.76576 22.9639C11.204 24.4202 14.5553 24.2937 16.985 22.8831C18.1681 22.1964 19.1516 21.1946 19.8341 20.01C20.2825 19.2304 20.6617 18.3552 20.6644 17.4383C20.664 17.5408 20.664 17.7311 20.6644 17.4348C20.6644 17.3562 20.6644 17.3818 20.6644 17.4324ZM9.42731 2.7934C9.2849 3.12926 9.14259 3.46587 9.00094 3.80163C8.96611 3.88329 8.93133 3.9649 8.89725 4.04698C8.87484 4.09999 8.32542 4.05935 8.24573 4.06479C7.32802 4.12746 6.54263 4.39132 5.65505 3.99626C5.37263 3.87091 5.08711 3.69879 4.9958 3.38655C4.91456 2.9861 4.97644 2.57909 5.20472 2.23634C6.17813 0.773087 8.61947 0.823337 10.1222 1.1472C9.89081 1.6962 9.65869 2.24477 9.42731 2.7934ZM11.6636 5.15969C11.8106 4.81029 11.9584 4.46135 12.1062 4.11194C12.3515 3.53201 12.596 2.95165 12.8413 2.37166C13.3512 2.76555 13.793 3.2457 14.1378 3.7908C14.0604 3.66776 14.0155 3.59655 14.1412 3.79587C14.4848 4.34177 14.2751 4.00905 14.144 3.80088C14.9015 5.00721 15.136 6.46854 14.905 7.86485C14.3339 7.65241 13.7629 7.44002 13.1918 7.22763C12.8575 7.10341 12.5224 6.97886 12.1882 6.85427C12.1077 6.82446 12.0265 6.79427 11.9459 6.7645C11.8934 6.74477 11.8477 6.09326 11.8191 5.99074C11.7881 5.88283 11.5335 5.46612 11.5653 5.39182C11.5978 5.31443 11.6303 5.23704 11.6636 5.15969ZM9.88926 10.6118C9.76856 10.7225 9.63937 10.842 9.93417 10.5704C10.0545 10.4594 10.0111 10.4992 9.93689 10.5677C10.2066 10.3189 10.4596 10.0527 10.6925 9.76994C10.8271 9.60667 10.8093 9.52235 10.9858 9.58811C11.3053 9.70647 11.6242 9.82525 11.9437 9.94403C12.5744 10.1789 13.2058 10.4133 13.8364 10.6482C13.1408 11.7841 12.213 12.6028 11.2403 13.488C11.2504 13.4682 11.2605 13.4485 11.2705 13.4288C10.3234 12.9482 9.37626 12.4681 8.42915 11.9875C8.89767 11.5086 9.39675 11.0645 9.88926 10.6118ZM8.59856 18.7688C8.15747 19.2099 7.71647 19.6505 7.27612 20.0916C6.3352 18.4152 6.26245 16.3421 6.87066 14.54C6.87066 14.54 6.86719 14.5496 6.86255 14.564C6.86564 14.5555 6.86756 14.5489 6.87066 14.54C7.41848 14.8178 7.96631 15.0956 8.51344 15.373C8.83762 15.5378 9.16261 15.7022 9.48684 15.8666C9.54408 15.8961 9.60215 15.9251 9.65939 15.9541C9.65554 15.9525 9.55106 16.9453 9.55495 17.0455C9.5588 17.1562 9.68339 17.6839 9.62461 17.7423C9.55495 17.8119 9.4853 17.8816 9.41564 17.9513C9.14334 18.224 8.87095 18.4964 8.59856 18.7688ZM6.7732 14.8294C6.77433 14.8259 6.77555 14.8228 6.77667 14.8189C6.77555 14.8224 6.77437 14.8259 6.7732 14.8294ZM6.81923 14.6928C6.82969 14.6615 6.84206 14.6244 6.85598 14.583C6.84633 14.612 6.8332 14.651 6.81923 14.6928ZM14.6783 22.7824C14.5228 22.8199 14.455 22.8366 14.4368 22.8409C14.4655 22.8339 14.611 22.7987 14.6767 22.7829C12.9245 23.2076 10.9699 23.1059 9.37706 22.2068C9.80728 21.7765 10.2367 21.3467 10.667 20.9168C10.944 20.639 11.2218 20.3616 11.4988 20.0842C11.5661 20.0169 11.6335 19.9495 11.7015 19.8819C11.7851 19.7979 12.3021 19.9523 12.4397 19.9612C12.8081 19.9852 13.1795 19.962 13.5432 19.8981C13.5826 19.9205 13.6244 20.0265 13.6476 20.0633C13.8426 20.3709 14.0368 20.6781 14.2318 20.9857C14.5746 21.5281 14.9182 22.0705 15.2617 22.613C15.0702 22.6776 14.8756 22.7341 14.6795 22.782C14.7135 22.7739 14.7239 22.7712 14.6783 22.7824ZM17.8075 21.0608C17.8075 21.0608 17.8148 21.0534 17.8253 21.0437C17.8187 21.0499 17.8141 21.0542 17.8075 21.0608C17.467 20.5237 17.1274 19.9868 16.7876 19.4497C16.595 19.1452 16.4015 18.8407 16.2089 18.5362C16.1872 18.5014 16.1075 18.4159 16.1059 18.3729C16.3597 18.0248 16.5632 17.6445 16.7668 17.266C17.1126 16.6242 17.5228 15.9258 18.3546 15.9274C19.0309 15.927 19.5904 16.5046 19.6824 17.1473C19.8844 18.5579 18.7593 20.1392 17.8075 21.0608ZM18.0996 20.7779C18.0802 20.7965 18.0505 20.8255 18.0044 20.87C18.0423 20.8333 18.0768 20.8 18.0996 20.7779Z",fill:"currentColor"}),l("path",{d:"M8.24582 4.06499C8.34098 4.05838 7.92702 4.08665 8.24582 4.06499Z",fill:"currentColor"}),l("path",{d:"M14.1421 3.79608C14.141 3.79411 14.1398 3.79261 14.1387 3.79102C14.1406 3.79411 14.1429 3.79758 14.1449 3.80109C14.1441 3.79959 14.1434 3.79762 14.1421 3.79608Z",fill:"currentColor"}),l("path",{d:"M14.6774 22.7826C14.6777 22.7826 14.6782 22.7822 14.6785 22.7822C14.6778 22.7826 14.677 22.7826 14.6758 22.783C14.6762 22.783 14.677 22.7826 14.6774 22.7826Z",fill:"currentColor"}),l("path",{d:"M7.61888 2.22607C6.98902 2.22607 6.98902 3.20257 7.61888 3.20257C8.24874 3.20257 8.24874 2.22607 7.61888 2.22607Z",fill:"currentColor"})),l("symbol",{id:"airplanemode-inactive"},l("path",{d:"M12.6 21L9.1 22V20.5L11.1 19V13.5L2.6 16V14L8.4 10.6L2 4.2L3.4 2.8L21.8 21.2L20.4 22.6L14.1 16.3V19L16.1 20.5V22L12.6 21ZM12.6 2C13.0167 2 13.3708 2.14583 13.6625 2.4375C13.9542 2.72917 14.1 3.08333 14.1 3.5V9L22.6 14V16L18.15 14.675L11.1 7.65V3.5C11.1 3.08333 11.2458 2.72917 11.5375 2.4375C11.8292 2.14583 12.1833 2 12.6 2Z",fill:"currentColor"})),l("symbol",{id:"airplanemode-active"},l("path",{d:"M8.5 22V20.5L10.5 19V13.5L2 16V14L10.5 9V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V9L22 14V16L13.5 13.5V19L15.5 20.5V22L12 21L8.5 22Z",fill:"currentColor"})),l("symbol",{id:"plus-circle"},l("path",{d:"M12 8V16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M8 12H16",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"})),l("symbol",{id:"cs-go"},l("path",{d:"M10.5282 1.05368C10.879 0.93215 11.2621 1.03361 11.5836 1.19214C11.8082 1.33675 12.0328 1.4829 12.2843 1.57751C12.3035 1.61366 12.3435 1.6852 12.3628 1.72058C12.3528 1.74443 12.3335 1.79365 12.3235 1.8175C12.5028 2.22518 12.6174 2.70823 12.4435 3.1366C12.3251 3.28121 12.1189 3.30359 11.952 3.35959C11.9513 3.56651 11.9843 3.77119 12.002 3.97657C12.3589 4.03426 12.6611 3.78581 13.0141 3.81042C13.0618 3.61274 13.0995 3.41182 13.1627 3.21806C13.2358 3.34652 13.2388 3.49428 13.2397 3.63889C13.332 3.66504 13.4258 3.68889 13.5203 3.71189C13.5212 3.74735 13.5219 3.81811 13.5219 3.8535C15.0695 3.86273 16.6163 3.8465 18.164 3.86196C18.1602 3.91488 18.1526 4.0211 18.1495 4.07426C18.1895 4.07426 18.2711 4.07503 18.3117 4.07503C18.3102 3.79358 18.3117 3.5112 18.3109 3.22975C18.3502 3.22814 18.4271 3.22583 18.4655 3.22506C18.4665 3.44659 18.4672 3.66812 18.4695 3.88973C18.5032 3.93126 18.5709 4.01426 18.6049 4.0558C18.6303 4.02572 18.681 3.96665 18.7063 3.93657C18.824 4.04664 18.7571 4.19741 18.7518 4.33263C19.1849 4.32794 19.6224 4.35717 20.0541 4.32178C20.0864 4.29794 20.151 4.25102 20.1833 4.22725C20.2426 4.25025 20.3025 4.2734 20.3618 4.29725C20.5564 4.29248 20.7518 4.29186 20.9471 4.29109C20.9431 4.39186 20.9401 4.49255 20.9362 4.59339C20.6847 4.58947 20.4324 4.58416 20.1847 4.62716C20.0247 4.48955 19.8101 4.53324 19.617 4.52801C19.3201 4.54185 19.0138 4.48955 18.7263 4.58408C18.5554 4.63177 18.3678 4.62031 18.2171 4.52332C18.1808 4.61331 18.2363 4.81484 18.0846 4.80707C17.4877 4.81484 16.8916 4.80177 16.2955 4.811C16.2139 4.85407 16.1316 4.89484 16.0502 4.93476C15.9641 5.19167 15.7172 5.36313 15.507 5.52005C15.4809 5.91464 15.637 6.28309 15.6978 6.66608C15.5801 6.69984 15.4617 6.73461 15.3455 6.77307C15.1786 7.1669 15.2809 7.7045 14.8948 7.97926C14.5986 8.15148 14.4026 8.52608 14.0033 8.46693C14.2063 8.63615 13.9479 8.58308 13.9748 8.4477C13.2525 8.38385 12.6441 7.96003 12.0164 7.63704C11.9872 7.81388 11.9411 7.98779 11.8933 8.16086C12.1318 8.20625 12.3287 8.38162 12.371 8.62623C12.4472 9.15936 12.2949 9.68865 12.2972 10.2232C12.3141 10.537 12.1795 10.8246 12.0118 11.0807C11.8649 11.2469 11.6333 11.0761 11.4572 11.0515C11.4171 11.1292 11.378 11.207 11.3395 11.2854C11.3895 11.4945 11.411 11.7122 11.481 11.9168C11.8741 12.3514 12.2318 12.8222 12.5064 13.3414C12.7891 13.9294 13.041 14.5317 13.261 15.1459C13.2825 15.2652 13.3948 15.308 13.4934 15.3513C13.5065 15.4743 13.5196 15.5973 13.5319 15.7219C13.5703 15.7781 13.6096 15.8342 13.6496 15.8911C13.6734 16.6496 13.5803 17.4049 13.4625 18.1533C13.3896 18.4911 13.5871 18.821 13.5071 19.161C13.5163 19.335 13.3965 19.4665 13.3402 19.6203C13.3294 19.9795 13.3117 20.3433 13.3511 20.7019C13.3787 20.965 13.6011 21.1341 13.7519 21.3303C13.9165 21.505 14.0542 21.7396 14.3034 21.8018C14.538 21.8718 14.7618 21.9733 14.9686 22.1065C15.0317 22.2625 15.0201 22.4281 14.9901 22.5902C14.5394 22.6733 14.0794 22.6318 13.624 22.6388C13.2731 22.6572 12.9602 22.4688 12.6193 22.4295C12.2893 22.4211 11.887 22.5849 11.6333 22.2895C11.7409 21.8797 11.7495 21.4396 11.9463 21.0572C12.0093 20.6242 11.8895 20.1849 11.9147 19.748C11.8772 19.7165 11.8016 19.6534 11.764 19.6217C11.791 19.3364 11.6502 19.0825 11.6032 18.8095C11.5726 18.4108 11.5363 18.0126 11.4901 17.6156C11.454 17.4226 11.554 17.2457 11.6901 17.1173C11.7024 16.8942 11.7326 16.6734 11.754 16.4519C11.7209 16.308 11.6063 16.2012 11.5324 16.0781C11.2855 16.1821 10.9524 16.1328 10.8055 15.8911C10.4572 15.3727 10.1094 14.8543 9.75711 14.3388C9.61865 14.3297 9.47251 14.3442 9.34328 14.2889C9.19421 14.1359 9.11637 13.932 9.02114 13.7459C8.88491 13.8989 8.89484 14.1335 8.73346 14.2728C8.39194 14.6005 8.30117 15.0821 8.12271 15.502C7.98595 15.7742 8.06287 16.1026 7.91041 16.3681C7.82888 16.5111 7.62427 16.5395 7.57043 16.7028C7.49966 16.8788 7.41659 17.0611 7.25121 17.1682C7.07199 17.2857 7.02437 17.509 6.94445 17.6934C6.87138 17.8635 6.97984 18.0419 6.95445 18.2165C6.84061 18.7712 6.48755 19.235 6.33909 19.7781C6.2714 20.0227 6.17441 20.2981 5.8898 20.3503C5.56597 20.9287 5.38759 21.6365 5.57066 22.2878C5.68296 22.4924 5.67681 22.7224 5.6422 22.9477C5.12768 22.9878 4.59993 23.057 4.09464 22.9132C3.97619 22.6785 3.99311 22.4024 4.01772 22.1488C4.17379 21.4817 4.38079 20.8264 4.50763 20.1526C4.34917 20.0119 4.38617 19.7966 4.38917 19.608C4.38386 19.2565 4.62301 18.975 4.78915 18.6865C4.85154 18.3904 4.82231 18.0722 4.9753 17.8004C5.15537 17.4604 5.3076 17.0928 5.58535 16.8181C5.63835 16.5758 5.81696 16.3928 5.88911 16.1595C5.96603 15.9534 5.83142 15.7442 5.8585 15.5335C5.92457 14.8941 6.0408 14.2612 6.14156 13.6266C5.95088 13.4673 6.01234 13.2144 5.95157 12.9997C5.98157 12.9151 6.01926 12.8344 6.06464 12.7558C6.01695 12.712 5.97011 12.6674 5.92234 12.6236C5.96849 12.398 5.95542 11.9942 6.30156 12.0675C6.32309 11.3206 6.06387 10.5975 6.15079 9.8498C6.19695 9.90356 6.24225 9.95825 6.28848 10.0129L6.26387 9.7598C6.40848 9.68288 6.56231 9.62365 6.72385 9.59365C6.46078 9.55912 6.20464 9.4922 5.9468 9.43212C5.8845 9.2682 5.91926 9.09367 5.94219 8.92599C6.04218 8.35986 6.0791 7.78603 6.09987 7.21221C6.3914 7.11083 6.71293 7.1969 6.99753 7.06145C6.90923 6.34378 6.88692 5.59466 7.14214 4.90615C7.34752 4.31994 7.73988 3.75458 8.35209 3.54851C8.64131 3.47936 9.00514 3.40159 9.2096 3.68235C9.26575 3.63081 9.3219 3.57774 9.37805 3.5262C8.91122 2.59901 9.46889 1.24445 10.5282 1.05368ZM14.2642 5.07506C14.1411 5.15044 14.0203 5.23667 14.1497 5.37359C14.0866 5.4112 14.0234 5.44743 13.9596 5.48197C13.8596 5.55889 13.635 5.60266 13.6611 5.75819C13.7735 5.93858 13.8702 6.1282 13.9504 6.32501C14.1957 6.12356 14.3911 5.85265 14.5234 5.56589C14.5511 5.53743 14.6073 5.48051 14.6349 5.45274C14.6226 5.32121 14.5934 5.19267 14.5418 5.07122C14.4495 5.07283 14.3565 5.07429 14.2642 5.07506Z",fill:"currentColor"})),l("symbol",{id:"twitter"},l("path",{d:"M23 2.9998C22.0424 3.67528 20.9821 4.19191 19.86 4.5298C19.2577 3.83731 18.4573 3.34649 17.567 3.12373C16.6767 2.90096 15.7395 2.957 14.8821 3.28426C14.0247 3.61151 13.2884 4.1942 12.773 4.95352C12.2575 5.71283 11.9877 6.61214 12 7.5298V8.5298C10.2426 8.57537 8.50128 8.18561 6.93101 7.39525C5.36074 6.60488 4.01032 5.43844 3 3.9998C3 3.9998 -1 12.9998 8 16.9998C5.94053 18.3978 3.48716 19.0987 1 18.9998C10 23.9998 21 18.9998 21 7.4998C20.9991 7.22126 20.9723 6.9434 20.92 6.6698C21.9406 5.6633 22.6608 4.39251 23 2.9998V2.9998Z",stroke:"currentcolor","stroke-width":"1.99832","stroke-linecap":"round","stroke-linejoin":"round"}))),m3=()=>{function r(){for(const n of kr(".agenda details"))n.open&&n!==this&&(n.open=!1)}let e=-1;const t={talk:"Palestra",workshop:"Workshop",break:"Café"};return l("section",{className:"agenda",id:"agenda"},l("div",{className:"title white"},l("h2",{className:"titleText"},"Programação")),l("div",{className:"content"},l("div",{className:"day"},Nd.sort((n,i)=>n.start>i.start?1:-1).map((n,i)=>{const o=Date.now(),s=o>n.end.getTime(),a=o>n.start.getTime()&&o<n.end.getTime();let c="";s?c="prev":a?(e=i+1,c="current"):i===e&&(c="next");let d;if(n.type==="talk"?d="mic":n.type==="workshop"?d="award":d="coffee",n.speaker){const u=Array.isArray(n.speaker)?n.speaker.map(h=>wo[h]):[wo[n.speaker]];return l("details",{onClick:r,className:c},l("summary",null,l(Mt,{name:d,width:28}),l("h3",null,Gr(n.start)," - ",n.title)),l("div",{className:"flex col gap-24"},u.map(h=>l("div",null,l("h3",{className:"text-1-6"},h.name),l("div",null,h.bio.map(f=>l("p",null,f))))),l("hr",null),l("p",{className:"flex align-center gap-16"},l(Mt,{name:"map",width:28}),l("h3",null,t[n.type],", ",n.place))))}return l("details",{onClick:r,className:c},l("summary",null,l(Mt,{name:"coffee",width:28}),l("h3",null,Gr(n.start)," - ",n.title)))})),l("div",{className:"day"},Ud.sort((n,i)=>n.start>i.start?1:-1).map((n,i)=>{const o=Date.now(),s=o>n.end.getTime(),a=o>n.start.getTime()&&o<n.end.getTime();let c="";s?c="prev":a?(e=i+1,c="current"):i===e&&(c="next");let d;if(n.type==="talk"?d="mic":n.type==="workshop"?d="award":d="coffee",n.speaker){const u=Array.isArray(n.speaker)?n.speaker.map(h=>wo[h]):[wo[n.speaker]];return l("details",{onClick:r,className:c},l("summary",null,l(Mt,{name:d,width:28}),l("h3",null,Gr(n.start)," - ",n.title)),l("div",{className:"flex col gap-24"},u.map(h=>l("div",null,l("h3",{className:"text-1-6"},h.name),l("div",null,h.bio.map(f=>l("p",null,f))))),l("hr",null),l("p",{className:"flex align-center gap-16"},l(Mt,{name:"map",width:28}),l("h3",null,t[n.type],", ",n.place))))}return l("details",{onClick:r,className:c},l("summary",null,l(Mt,{name:"coffee",width:28}),l("h3",null,Gr(n.start)," - ",n.title)))}))),l("div",{className:"flex justify-center"},l(Dn,{href:"https://devpr24.eventbrite.com/",className:"btn subscribe heartbeat",target:"_blank"},"Faça sua inscrição")))},g3=()=>{const r=new Date(2024,6,28,8,0,0);return l("section",{className:"banner",id:"banner"},l("div",{className:"content"},l("h2",null,"Dia ",l("span",{className:"primary-container"},"28")," de"," ",l("span",{className:"primary-container"},"Julho")," no teatro"," ",l("span",{className:"primary-container"}," Calil Haddad ")," em Maringá"),l("h3",null,"Organizada por"," ",l("span",{className:"primary-container"},"pessoas da comunidade")," para comunidade"),l(c3,{date:r}),l("div",{className:"flex row gap-16 justify-center"},l(Dn,{href:"#apoie",className:"btn"},"Apoie este evento"),l(Dn,{href:"/whatsapp",target:"_blank",className:"btn flex gap-8"},l(Mt,{name:"whatsapp"}),"Participe da comunidade"))))},_3=()=>l("section",{className:"marquee-container",id:"companies"},l("div",{className:"marquee__wrapper"},l("div",{className:"marquee"},l("div",{className:"marquee__group shouldAnimate"},la(Id).map(r=>l(Dn,{href:r.link,target:"_blank"},l("img",{src:r.logo,alt:r.name})))))));function C3({title:r,content:e,onToggle:t}){return l("details",{onClick:t},l("summary",null,l("h4",null,r),l(Mt,{name:"plus-circle",width:28})),l("div",null,e.map(n=>l("p",null,n))))}function v3(){const r=[{title:"O evento é gratuito?",content:["Sim, a DevPR Conf 2024 é um evento gratuito. Nosso objetivo é tornar o conhecimento acessível a todos os interessados em tecnologia e desenvolvimento de software. No entanto, as vagas são limitadas e é necessário se inscrever antecipadamente para garantir sua participação. Fique atento ao nosso site e às redes sociais para mais informações sobre a abertura das inscrições.","Apesar de ser gratuito, o evento possui custos para sua realização, como translado, hospedagem e refeições para os palestrantes convidados. Precisamos de um apoio mínimo necessário para cobrir essas despesas e garantir que o evento aconteça. Contamos com o apoio da comunidade e de patrocinadores para tornar a DevPR Conf 2024 uma realidade."]},{title:"O que é a DevPR Conf 2024?",content:["A DevPR Conf 2024 é uma conferência de desenvolvedores organizada pela comunidade DevParaná, focada em compartilhar conhecimentos, tendências e práticas inovadoras na área de tecnologia e desenvolvimento de software."]},{title:"Quando e onde será realizada a DevPR Conf 2024?",content:["A DevPR Conf 2024 acontecerá no dia 28 de julho no Teatro Calil Haddad em Maringá, Paraná."]},{title:"Como posso me inscrever para participar do evento?",content:["A inscrição é feita a partir de apoio ou então confirmando sua presença a partir do dia 14 de julho aqui no site mesmo."]},{title:"Quais são os palestrantes confirmados para a DevPR Conf 2024?",content:["A DevPR Conf 2024 contará com a presença de diversos palestrantes renomados, incluindo o cara mais papo reto da Web, Mano Deyvin! A Ana Neri, que é líder da comunidade NodeJS junto com Erick Wendel, o Jônatas Davi com vasta experiência e sabedoria, Fernanda Kipper que vem ganhando muitos seguidores com suas dicas maneiras sobre como trabalhar, e ainda vem outros grandes nomes da tecnologia."]},{title:"Há oportunidades de voluntariado para o evento?",content:['Sim! Estamos sempre em busca de voluntários para nos ajudar a tornar a DevPR Conf 2024 um sucesso. Se você está interessado em se voluntariar, visite a seção "Voluntariado" em nosso site para mais informações.']},{title:"Posso submeter uma proposta de palestra ou workshop?",content:['Sim, estamos abertos a propostas de palestras e workshops! Acesse a seção "Contribua" e envie sua palestra. Todas as submissões serão revisadas por nosso comitê organizador e comunidade.']}];function e(){for(const t of kr(".accordion details"))t.open&&t!==this&&(t.open=!1)}return l("div",{className:"accordion"},r.map(t=>l(C3,{title:t.title,content:t.content,onToggle:e})))}const M3=r=>{const{opened:e=!0,className:t,maxWidth:n,maxHeight:i}=r,o={maxWidth:n??yd(100),maxHeight:i??Sd(100),overflow:"visible"};function s(a){r.onClose&&r.onClose(this,a)}return l("dialog",{open:e,style:o,onClose:s,className:t},l("link",{href:"dialog.css",rel:"stylesheet"}),l("slot",{name:"close"}),l("header",null,l("slot",{name:"header"})),l("section",{style:{maxHeight:"100%",overflowX:"auto"}},l("slot",{name:"content"})))};class Z1 extends HTMLElement{constructor(t={}){super();Ft(this,"shadow");this.shadow=this.attachShadow({mode:"open"}),this.shadow.append(l(M3,{...t})),t.onOpen&&t.onOpen(this),document.body.classList.add("fixed")}connectedCallback(){this.startAnimation("normal");const t=di("button",this);t&&t.focus()}close(){const t=this.startAnimation("reverse");document.body.classList.remove("fixed"),t.onfinish=()=>{di("dialog",this.shadow).close(),this.remove()}}startAnimation(t){return this.animate([{transform:"scale(0)",opacity:0},{transform:"scale(1)",opacity:1}],{id:"open",duration:250,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"both",direction:t})}}customElements.define("devpr-dialog-container",Z1);const x3=r=>l(Z1,{opened:!0,className:r.className,onClose:r.onClose},l("button",{slot:"close",className:"btn rounded small top-right",onclick:()=>di("devpr-dialog-container").close()},l(Mt,{name:"close",width:48})),l("div",{slot:"content"},l("h3",{className:"text-surface"},r.title),r.content.map(e=>l("p",{className:"mb-24 text-start text-surface"},e)),l("ul",null,(r.items??[]).map(e=>l("li",{className:"text-start text-surface"},l(Mt,{name:"check",width:32}),l("em",{className:"text-surface"},e)))))),y3=r=>l("button",{type:"button",onClick:r.onClick},l(Mt,{name:"play-circle",className:"play",width:128}),l(Mt,{name:"pause-circle",className:"pause",width:128})),q1=({src:r,poster:e,volume:t=0,autoplay:n})=>{const i=Na("video",{src:r,volume:t,tabIndex:0,playsInline:!0,preload:"metadata",className:"paused",poster:e}),o=(c=!0)=>{c?i.play():i.pause()},s=l(y3,{onClick:()=>o(i.paused)}),a=Na("div",s);return i.onplay=()=>{i.classList.toggle("paused"),wd(()=>{s.classList.add("hidden")},2e3)},a.onmouseover=()=>{s.classList.remove("hidden")},a.onmouseleave=()=>{s.classList.add("hidden")},i.onpause=()=>{i.classList.toggle("paused"),s.classList.remove("hidden")},n&&queueMicrotask(()=>{const c=h=>{h.forEach(f=>{navigator.userActivation.hasBeenActive&&(f.isIntersecting&&i.paused?i.play():i.paused||i.pause())})},d={rootMargin:"0px",threshold:0},u=new IntersectionObserver(c,d);i.onloadeddata=()=>u.observe(i)}),l("div",{className:"video"},i,a)};function S3(){return l(q1,{autoplay:!0,volume:.1,src:"/assets/videos/conf-2023.mp4",poster:"/assets/images/conf-2023-poster.webp"})}function w3(){return l(q1,{autoplay:!0,volume:.1,src:"/assets/videos/conf-2024.mp4",poster:"/assets/images/conf-2024-poster.webp"})}const b3=()=>l("section",{className:"faq",id:"faq"},l("div",{className:"title white"},l("h2",{className:"titleText"},"F",l("span",null,"."),"A",l("span",null,"."),"Q",l("span",null,"."))),l("div",{className:"content"},l(v3,null)));function E3(r,e=1e4){return new wt(45,r,.1,e)}function T3(){const r={KeyQ:!1,KeyW:!1,KeyE:!1,KeyA:!1,KeyS:!1,KeyD:!1,Space:!1,ShiftLeft:!1,ArrowUp:!1,ArrowRight:!1,ArrowDown:!1,ArrowLeft:!1},e=t=>Object.keys(r).includes(t);return addEventListener("keydown",({code:t})=>{e(t)&&(r[t]=!0)}),addEventListener("keyup",({code:t})=>{e(t)&&(r[t]=!1)}),r}function A3(r,e){const t=new tm(r,e);return t.minDistance=200,t.maxDistance=600,t}function k3(r,e=1e4){const t=new A,n=new ts;n.scale.setScalar(e);const i=n.material.uniforms;i.turbidity.value=10,i.rayleigh.value=2,i.mieCoefficient.value=.005,i.mieDirectionalG.value=.8;const o={elevation:2,azimuth:180};function s(a){const c=Qi.degToRad(90-o.elevation),d=Qi.degToRad(o.azimuth);t.setFromSphericalCoords(1,c,d),n.material.uniforms.sunPosition.value.copy(t),r.material.uniforms.sunDirection.value.copy(t).normalize(),a&&a.dispose()}return{sky:n,updateSun:s}}function R3(){const r=new Ea;return r.position.set(25,50,25),r.castShadow=!0,r.shadow.mapSize.width=8192,r.shadow.mapSize.height=8192,r.shadow.camera.near=.5,r.shadow.camera.far=100,r.shadow.camera.top=100,r.shadow.camera.bottom=-100,r.shadow.camera.left=-100,r.shadow.camera.right=100,r}function L3(){const r=new E1,e=new b1;return e.setDecoderPath("js/"),r.setDRACOLoader(e),r}function P3(r,e=1e5){const t=new Or(e,e),n="textures/waternormals.jpg",i=c=>{c.wrapS=c.wrapT=hi},s=new y1().load(n,i),a=new Gm(t,{textureWidth:512,textureHeight:512,sunColor:16777215,waterColor:7695,distortionScale:3.7,sunDirection:new A,waterNormals:s,fog:!!r.fog});return a.rotation.x=-Math.PI/2,{water:a}}function D3(){const r=new m1({antialias:!0});return r.setPixelRatio(devicePixelRatio),r.setSize(innerWidth,innerHeight),r.shadowMap.enabled=!0,r.shadowMap.type=Vc,r}class I3 extends hn{constructor(e,t,n){super(),this.direction=t,this.speed=n,this.add(e),this.position.addScalar(2),this.scale.setScalar(2)}update(){this.position.addScaledVector(this.direction,this.speed)}}var Kt,Go,Wo,An,kn,Rn,zi,$t,Gi,Wi,ji,Ur,jo,Y1,Xo,K1,Zo,$1,Xi,To;class N3 extends hn{constructor(t,n){super();nt(this,jo);nt(this,Xo);nt(this,Zo);nt(this,Xi);nt(this,Kt,.9);nt(this,Go,.001);nt(this,Wo,1e4);nt(this,An,0);nt(this,kn,0);nt(this,Rn,0);nt(this,zi,10);nt(this,$t,16);nt(this,Gi,.96);nt(this,Wi,new Set);nt(this,ji,void 0);nt(this,Ur,Date.now());Ft(this,"setMissile",t=>{dt(this,ji,t.scene.clone())});this.control=n,this.add(t.scene),this.scale.setScalar(5),this.position.set(0,1e3,0)}fire(){if(_e(this,ji)&&Date.now()-_e(this,Ur)>100){const t=new I3(_e(this,ji).clone(),_e(this,jo,Y1),_e(this,zi)*3);return t.position.copy(this.position),t.quaternion.copy(this.quaternion),_e(this,Wi).add(t),dt(this,Ur,Date.now()),t}}update(){dt(this,An,_e(this,An)*_e(this,Gi)),dt(this,kn,_e(this,kn)*_e(this,Gi)),dt(this,Rn,_e(this,Rn)*_e(this,Gi));for(const i of _e(this,Wi))i.update(),i.position.distanceTo(this.position)>_e(this,Wo)&&(_e(this,Wi).delete(i),i.removeFromParent());const t=Qi.clamp(Qi.lerp(1e-4,_e(this,Kt),Math.abs(_e(this,zi))/_e(this,$t)),1e-4,_e(this,Go));vn(this,Zo,$1).call(this,t);const n=this.control.ShiftLeft?_e(this,Kt)*1e3:_e(this,Kt);vn(this,Xo,K1).call(this,_e(this,zi)*n),dt(this,An,vn(this,Xi,To).call(this,_e(this,An),-_e(this,$t),_e(this,$t))),dt(this,kn,vn(this,Xi,To).call(this,_e(this,kn),-_e(this,$t),_e(this,$t))),dt(this,Rn,vn(this,Xi,To).call(this,_e(this,Rn),-_e(this,$t),_e(this,$t))),this.rotateY(_e(this,An)),this.rotateX(_e(this,kn)),this.rotateZ(_e(this,Rn))}}Kt=new WeakMap,Go=new WeakMap,Wo=new WeakMap,An=new WeakMap,kn=new WeakMap,Rn=new WeakMap,zi=new WeakMap,$t=new WeakMap,Gi=new WeakMap,Wi=new WeakMap,ji=new WeakMap,Ur=new WeakMap,jo=new WeakSet,Y1=function(){return this.getWorldDirection(new A(0,0,1))},Xo=new WeakSet,K1=function(t=0){const n=Math.min(t+_e(this,Kt),_e(this,$t)),i=new A(0,0,-1).applyQuaternion(this.quaternion);this.position.addScaledVector(i,-n)},Zo=new WeakSet,$1=function(t){this.control.KeyQ&&dt(this,An,_e(this,An)+t),this.control.KeyE&&dt(this,An,_e(this,An)-t),(this.control.KeyA||this.control.ArrowLeft)&&dt(this,Rn,_e(this,Rn)-_e(this,Kt)/500),(this.control.KeyD||this.control.ArrowRight)&&dt(this,Rn,_e(this,Rn)+_e(this,Kt)/500),(this.control.KeyW||this.control.ArrowUp)&&dt(this,kn,_e(this,kn)+_e(this,Kt)/500),(this.control.KeyS||this.control.ArrowDown)&&dt(this,kn,_e(this,kn)-_e(this,Kt)/500)},Xi=new WeakSet,To=function(t,n,i){return Math.min(Math.max(t,n),i)};class U3 extends hn{constructor(e,t){super(),this.i=t,this.add(e);const n=Ni(60,6e4),i=Ni(-20,12e3);this.position.set(n*1,800,i*1),this.scale.set(150,150,150)}}function Nc(){return innerWidth/innerHeight}function F3(){const e=new ia,t=new S1;e.fog=new Jo(16382457,0,1e5);const n=E3(Nc()),i=D3(),o=A3(n,i.domElement),s=L3(),a=T3();addEventListener("keydown",({code:p})=>{p==="Escape"&&(i.domElement.remove(),document.body.classList.remove("eggs"))});let c;s.loadAsync("models/cloud.glb").then(p=>{for(let S=0;S<100;S++)e.add(new U3(p.scene.clone(),S))}),s.loadAsync("models/su27.glb").then(p=>{c=new N3(p,a),e.add(c),s.loadAsync("models/missile.glb").then(c.setMissile),g()});const d=R3(),u=P3(e,1e5),h=k3(u.water,1e5),f=new ia,_=new ta(i).fromScene(f);e.environment=_.texture,f.add(h.sky),e.add(d,u.water,f),h.updateSun(_);const v=()=>{n.aspect=Nc(),i.setSize(innerWidth,innerHeight),n.updateProjectionMatrix()};v(),addEventListener("resize",v);function g(){requestAnimationFrame(g);const p=t.getDelta();if(a.Space){const S=c.fire();S&&e.add(S)}u.water.material.uniforms.time.value+=1/60,c.update(),o.target=c.position,o.update(p),i.render(e,n)}return l(rr,null,i.domElement)}const O3="_su27Slider_197f9_1",H3="_flight_197f9_19",V3={su27Slider:O3,flight:H3};function B3(){return l("div",{id:"su27-slider",className:V3.su27Slider},l("span",null,"Dev"),l("input",{min:"0",max:"100",value:"0",type:"range",className:"flight",ariaLabel:"percentage flown",onLoad:function(){this.style.setProperty("--val","0")},onInput:function(){this.style.setProperty("--val",this.value),this.valueAsNumber===100&&(document.body.classList.add("eggs"),document.body.append(l(F3,null)))}}),l("span",null,"Paraná"))}const z3=()=>l("footer",{id:"footer",className:"copyleftText"},l(f3,{links:n3}),l("p",null,"2015 ~ 2024 ©"),l("p",{className:"flex gap-16 text-red"},l(d3,{width:120}),l(l3,{width:100})),l("p",null,"CNPJ 44.593.429/0001-05"),l(B3,null)),G3=()=>{addEventListener("scroll",function(){di("header").classList.toggle("sticky",scrollY>0)});const r=()=>{const e=di("div.menuToggle"),t=di("ul.navigation");e.classList.toggle("active"),t.classList.toggle("active")};return document.documentElement.classList.add("dark"),addEventListener("DOMContentLoaded",()=>{const e=kr("body > section"),t=di("header nav"),n=kr("a",t);new xd(e,n).start()}),l("header",null,l("a",{href:"#",className:"logo"},l(h3,{width:64}),l("strong",null,"DevPR Conf ",l("span",null,"24"))),l("nav",null,l("ul",{className:"navigation"},l("li",null,l("a",{href:"#",onClick:r},"Início")),l("li",null,l("a",{href:"#banner",onClick:r},"Conf")),l("li",null,l("a",{href:"#comunidade",onClick:r},"Comunidade")),l("li",null,l("a",{href:"#agenda",onClick:r},"Programação")),l("li",null,l("a",{href:"#palestras",onClick:r},"Palestrantes")),l("li",null,l("a",{href:"#apoie",onClick:r},"Apoie")),l("li",null,l("a",{href:"#faq",onClick:r},"FAQ")))),l("div",{role:"button",className:"menuToggle",ariaLabel:"Alternar menu de navegação",onClick:r}))},W3=()=>{const r=(t,n)=>{const i={title:n.name,content:n.bio,items:n.tags,className:"speaker-info",onClose(){t.focus()}};document.body.append(l(x3,{...i}))},e=(t,n)=>`${n.kind} de ${t.name}`;return l("section",{className:"speakers",id:"palestras"},l("div",{className:"title"},l("h2",{className:"titleText"},"Palestrantes ",l("span",null,"confirmados"))),l("div",{className:"content"},[...i3,...r3].map(t=>l("div",{className:"box"},l("div",{className:"imgBx"},l("img",{src:t.photo,alt:t.name})),l("div",{className:"text"},l("h2",null,t.name),l("footer",{className:"flex space-between align-center"},l("div",{className:"flex gap-16"},t.links.map(n=>l(Dn,{href:n.href,target:"_blank",className:"social-link",ariaLabel:e(t,n)},l(Mt,{name:n.kind})))),l("button",{ariaLabel:"Ver mais sobre "+t.name,className:"btn rounded",onClick:function(){r(this,t)}},l(Mt,{name:"plus",width:32}))))))))},j3=()=>l("section",{className:"marquee-container supporters",id:"supporters"},l("div",{className:"marquee__wrapper"},l("div",{className:"marquee"},l("div",{className:"marquee__group shouldAnimate"},la(o3).map(r=>l("h3",null,r.name)))))),X3=()=>{const r={$conferenceSupporter:W1.title,$communitySupporter:j1.title,$communityBenefactor:X1.title},e=t=>t.startsWith("$")?l("em",null,"Todos do ",l("strong",null,r[t])):l("em",null,t);return l("section",{className:"supports",id:"apoie"},l("div",{className:"title flex row justify-center"},l("h2",{className:"titleText"},"Faça ",l("span",null,"acontecer")),l("p",{className:"text-1-4 text-center"},"A edição desse ano será gratuita e os ingressos serão disponibilizados ao público a partir do dia ",l("span",null,"14 de Julho de 2024"),". Como estamos trazendo pessoas referências da nossa área e isso tem um custo, precisamos de um apoio mínimo da comunidade para cobrir os gastos. Caso você tenha condições e queira apoiar o evento, confira abaixo os benefícios que estamos oferecendo a quem acredita na comunidade.")),l("div",{className:"content"},s3.map(t=>l("div",{className:"box"},l("div",{className:"text"},l("h3",null,t.title),l("h4",null,"R$ ",t.amount),l("em",{className:"text-error"},"Limite de ",t.limit," disponíveis"),l("p",null,"Você como ",l("strong",null,t.title)," terá"," ",t.description),l("h4",null,"Benefícios"),l("ul",null,t.benefits.map(n=>l("li",null,l(Mt,{name:"check",width:32}),e(n)))),l(Dn,{className:"btn",target:"_blank",href:t.link.href},t.link.text))))),l("div",{id:"warning",className:"flex mt-24 justify-center gap-16"},l("div",{className:"flex-1 error-container"},l(Mt,{name:"asterisk",width:24})),l("p",null,"Eventualmente os benefícios podem sofrer mudanças devido a demanda ou fornecedores, porém o valor do kit não será reduzido e todos os apoiadores serão avisados por e-mail ou em nossa comunidade no WhatsApp.")))},Z3=()=>l("section",{className:"team",id:"team"},l("div",{className:"title white"},l("h2",{className:"titleText"},"Organização")),l("div",{className:"marquee-container"},l("div",{className:"marquee__wrapper"},l("div",{className:"marquee"},l("div",{className:"marquee__group","data-animate":"20s"},la(a3).map(r=>l(Dn,{href:r.html_url,target:"_blank"},l("figure",null,l("img",{src:r.avatar_url,alt:r.name}),l("figcaption",null,r.name))))))))),q3=()=>(Md(()=>{for(const r of kr("[data-animate]"))r.style.animation=`scroll-x ${r.dataset.animate} linear infinite`}),l(rr,null,l(G3,null),l(w3,{src:"/assets/videos/conf-2024.mp4"}),l(g3,null),l(Cd,null),l(m3,null),l(W3,null),l(X3,null),l(j3,null),l(_3,null),l(Z3,null),l(S3,{src:"/assets/videos/conf-2023.mp4"}),l(b3,null),l(z3,null),l(p3,null),l(u3,null)));document.body.append(q3());
